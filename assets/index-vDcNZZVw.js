(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const s of u)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(u){const s={};return u.integrity&&(s.integrity=u.integrity),u.referrerPolicy&&(s.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?s.credentials="include":u.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(u){if(u.ep)return;u.ep=!0;const s=n(u);fetch(u.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Yu(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const se={},hn=[],mt=()=>{},wl=()=>!1,Xi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),es=e=>e.startsWith("onUpdate:"),Ae=Object.assign,ts=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},El=Object.prototype.hasOwnProperty,te=(e,t)=>El.call(e,t),U=Array.isArray,mn=e=>hi(e)==="[object Map]",Qi=e=>hi(e)==="[object Set]",Ps=e=>hi(e)==="[object Date]",V=e=>typeof e=="function",pe=e=>typeof e=="string",it=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",Lo=e=>(ce(e)||V(e))&&V(e.then)&&V(e.catch),Ro=Object.prototype.toString,hi=e=>Ro.call(e),Il=e=>hi(e).slice(8,-1),Oo=e=>hi(e)==="[object Object]",ns=e=>pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qn=Yu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ji=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Sl=/-(\w)/g,Ye=Ji(e=>e.replace(Sl,(t,n)=>n?n.toUpperCase():"")),kl=/\B([A-Z])/g,un=Ji(e=>e.replace(kl,"-$1").toLowerCase()),Yi=Ji(e=>e.charAt(0).toUpperCase()+e.slice(1)),pu=Ji(e=>e?`on${Yi(e)}`:""),Mt=(e,t)=>!Object.is(e,t),Ai=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Bo=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Ru=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ls;const eu=()=>Ls||(Ls=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function is(e){if(U(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],u=pe(i)?Fl(i):is(i);if(u)for(const s in u)t[s]=u[s]}return t}else if(pe(e)||ce(e))return e}const Dl=/;(?![^(]*\))/g,Al=/:([^]+)/,Tl=/\/\*[^]*?\*\//g;function Fl(e){const t={};return e.replace(Tl,"").split(Dl).forEach(n=>{if(n){const i=n.split(Al);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function us(e){let t="";if(pe(e))t=e;else if(U(e))for(let n=0;n<e.length;n++){const i=us(e[n]);i&&(t+=i+" ")}else if(ce(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ml="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zl=Yu(Ml);function qo(e){return!!e||e===""}function Pl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=tu(e[i],t[i]);return n}function tu(e,t){if(e===t)return!0;let n=Ps(e),i=Ps(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=it(e),i=it(t),n||i)return e===t;if(n=U(e),i=U(t),n||i)return n&&i?Pl(e,t):!1;if(n=ce(e),i=ce(t),n||i){if(!n||!i)return!1;const u=Object.keys(e).length,s=Object.keys(t).length;if(u!==s)return!1;for(const o in e){const r=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(r&&!l||!r&&l||!tu(e[o],t[o]))return!1}}return String(e)===String(t)}function Ho(e,t){return e.findIndex(n=>tu(n,t))}const Uo=e=>!!(e&&e.__v_isRef===!0),No=e=>pe(e)?e:e==null?"":U(e)||ce(e)&&(e.toString===Ro||!V(e.toString))?Uo(e)?No(e.value):JSON.stringify(e,$o,2):String(e),$o=(e,t)=>Uo(t)?$o(e,t.value):mn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,u],s)=>(n[bu(i,s)+" =>"]=u,n),{})}:Qi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>bu(n))}:it(t)?bu(t):ce(t)&&!U(t)&&!Oo(t)?String(t):t,bu=(e,t="")=>{var n;return it(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class Ll{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ue;try{return Ue=this,t()}finally{Ue=n}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0}}}function Rl(){return Ue}let re;const gu=new WeakSet;class Wo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gu.has(this)&&(gu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rs(this),Zo(this);const t=re,n=tt;re=this,tt=!0;try{return this.fn()}finally{Go(this),re=t,tt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)rs(t);this.deps=this.depsTail=void 0,Rs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ou(this)&&this.run()}get dirty(){return Ou(this)}}let Vo=0,Hn,Un;function jo(e,t=!1){if(e.flags|=8,t){e.next=Un,Un=e;return}e.next=Hn,Hn=e}function ss(){Vo++}function os(){if(--Vo>0)return;if(Un){let t=Un;for(Un=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Hn;){let t=Hn;for(Hn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function Zo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Go(e){let t,n=e.depsTail,i=n;for(;i;){const u=i.prevDep;i.version===-1?(i===n&&(n=u),rs(i),Ol(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=u}e.deps=t,e.depsTail=n}function Ou(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ko(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ko(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gn))return;e.globalVersion=Gn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ou(e)){e.flags&=-3;return}const n=re,i=tt;re=e,tt=!0;try{Zo(e);const u=e.fn(e._value);(t.version===0||Mt(u,e._value))&&(e._value=u,t.version++)}catch(u){throw t.version++,u}finally{re=n,tt=i,Go(e),e.flags&=-3}}function rs(e,t=!1){const{dep:n,prevSub:i,nextSub:u}=e;if(i&&(i.nextSub=u,e.prevSub=void 0),u&&(u.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)rs(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ol(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let tt=!0;const Xo=[];function Bt(){Xo.push(tt),tt=!1}function qt(){const e=Xo.pop();tt=e===void 0?!0:e}function Rs(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=re;re=void 0;try{t()}finally{re=n}}}let Gn=0;class Bl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ls{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!re||!tt||re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink=new Bl(re,this),re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,Qo(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=i)}return n}trigger(t){this.version++,Gn++,this.notify(t)}notify(t){ss();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{os()}}}function Qo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Qo(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Bu=new WeakMap,Gt=Symbol(""),qu=Symbol(""),Kn=Symbol("");function ke(e,t,n){if(tt&&re){let i=Bu.get(e);i||Bu.set(e,i=new Map);let u=i.get(n);u||(i.set(n,u=new ls),u.map=i,u.key=n),u.track()}}function yt(e,t,n,i,u,s){const o=Bu.get(e);if(!o){Gn++;return}const r=l=>{l&&l.trigger()};if(ss(),t==="clear")o.forEach(r);else{const l=U(e),a=l&&ns(n);if(l&&n==="length"){const c=Number(i);o.forEach((d,h)=>{(h==="length"||h===Kn||!it(h)&&h>=c)&&r(d)})}else switch((n!==void 0||o.has(void 0))&&r(o.get(n)),a&&r(o.get(Kn)),t){case"add":l?a&&r(o.get("length")):(r(o.get(Gt)),mn(e)&&r(o.get(qu)));break;case"delete":l||(r(o.get(Gt)),mn(e)&&r(o.get(qu)));break;case"set":mn(e)&&r(o.get(Gt));break}}os()}function rn(e){const t=ee(e);return t===e?t:(ke(t,"iterate",Kn),Je(e)?t:t.map(De))}function nu(e){return ke(e=ee(e),"iterate",Kn),e}const ql={__proto__:null,[Symbol.iterator](){return _u(this,Symbol.iterator,De)},concat(...e){return rn(this).concat(...e.map(t=>U(t)?rn(t):t))},entries(){return _u(this,"entries",e=>(e[1]=De(e[1]),e))},every(e,t){return xt(this,"every",e,t,void 0,arguments)},filter(e,t){return xt(this,"filter",e,t,n=>n.map(De),arguments)},find(e,t){return xt(this,"find",e,t,De,arguments)},findIndex(e,t){return xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xt(this,"findLast",e,t,De,arguments)},findLastIndex(e,t){return xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return xu(this,"includes",e)},indexOf(...e){return xu(this,"indexOf",e)},join(e){return rn(this).join(e)},lastIndexOf(...e){return xu(this,"lastIndexOf",e)},map(e,t){return xt(this,"map",e,t,void 0,arguments)},pop(){return Ln(this,"pop")},push(...e){return Ln(this,"push",e)},reduce(e,...t){return Os(this,"reduce",e,t)},reduceRight(e,...t){return Os(this,"reduceRight",e,t)},shift(){return Ln(this,"shift")},some(e,t){return xt(this,"some",e,t,void 0,arguments)},splice(...e){return Ln(this,"splice",e)},toReversed(){return rn(this).toReversed()},toSorted(e){return rn(this).toSorted(e)},toSpliced(...e){return rn(this).toSpliced(...e)},unshift(...e){return Ln(this,"unshift",e)},values(){return _u(this,"values",De)}};function _u(e,t,n){const i=nu(e),u=i[t]();return i!==e&&!Je(e)&&(u._next=u.next,u.next=()=>{const s=u._next();return s.value&&(s.value=n(s.value)),s}),u}const Hl=Array.prototype;function xt(e,t,n,i,u,s){const o=nu(e),r=o!==e&&!Je(e),l=o[t];if(l!==Hl[t]){const d=l.apply(e,s);return r?De(d):d}let a=n;o!==e&&(r?a=function(d,h){return n.call(this,De(d),h,e)}:n.length>2&&(a=function(d,h){return n.call(this,d,h,e)}));const c=l.call(o,a,i);return r&&u?u(c):c}function Os(e,t,n,i){const u=nu(e);let s=n;return u!==e&&(Je(e)?n.length>3&&(s=function(o,r,l){return n.call(this,o,r,l,e)}):s=function(o,r,l){return n.call(this,o,De(r),l,e)}),u[t](s,...i)}function xu(e,t,n){const i=ee(e);ke(i,"iterate",Kn);const u=i[t](...n);return(u===-1||u===!1)&&hs(n[0])?(n[0]=ee(n[0]),i[t](...n)):u}function Ln(e,t,n=[]){Bt(),ss();const i=ee(e)[t].apply(e,n);return os(),qt(),i}const Ul=Yu("__proto__,__v_isRef,__isVue"),Jo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(it));function Nl(e){it(e)||(e=String(e));const t=ee(this);return ke(t,"has",e),t.hasOwnProperty(e)}class Yo{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const u=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!u;if(n==="__v_isReadonly")return u;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(u?s?Jl:ir:s?nr:tr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=U(t);if(!u){let l;if(o&&(l=ql[n]))return l;if(n==="hasOwnProperty")return Nl}const r=Reflect.get(t,n,ye(t)?t:i);return(it(n)?Jo.has(n):Ul(n))||(u||ke(t,"get",n),s)?r:ye(r)?o&&ns(n)?r:r.value:ce(r)?u?ds(r):cs(r):r}}class er extends Yo{constructor(t=!1){super(!1,t)}set(t,n,i,u){let s=t[n];if(!this._isShallow){const l=en(s);if(!Je(i)&&!en(i)&&(s=ee(s),i=ee(i)),!U(t)&&ye(s)&&!ye(i))return l?!1:(s.value=i,!0)}const o=U(t)&&ns(n)?Number(n)<t.length:te(t,n),r=Reflect.set(t,n,i,ye(t)?t:u);return t===ee(u)&&(o?Mt(i,s)&&yt(t,"set",n,i):yt(t,"add",n,i)),r}deleteProperty(t,n){const i=te(t,n);t[n];const u=Reflect.deleteProperty(t,n);return u&&i&&yt(t,"delete",n,void 0),u}has(t,n){const i=Reflect.has(t,n);return(!it(n)||!Jo.has(n))&&ke(t,"has",n),i}ownKeys(t){return ke(t,"iterate",U(t)?"length":Gt),Reflect.ownKeys(t)}}class $l extends Yo{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Wl=new er,Vl=new $l,jl=new er(!0);const Hu=e=>e,vi=e=>Reflect.getPrototypeOf(e);function Zl(e,t,n){return function(...i){const u=this.__v_raw,s=ee(u),o=mn(s),r=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,a=u[e](...i),c=n?Hu:t?Uu:De;return!t&&ke(s,"iterate",l?qu:Gt),{next(){const{value:d,done:h}=a.next();return h?{value:d,done:h}:{value:r?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function wi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gl(e,t){const n={get(u){const s=this.__v_raw,o=ee(s),r=ee(u);e||(Mt(u,r)&&ke(o,"get",u),ke(o,"get",r));const{has:l}=vi(o),a=t?Hu:e?Uu:De;if(l.call(o,u))return a(s.get(u));if(l.call(o,r))return a(s.get(r));s!==o&&s.get(u)},get size(){const u=this.__v_raw;return!e&&ke(ee(u),"iterate",Gt),Reflect.get(u,"size",u)},has(u){const s=this.__v_raw,o=ee(s),r=ee(u);return e||(Mt(u,r)&&ke(o,"has",u),ke(o,"has",r)),u===r?s.has(u):s.has(u)||s.has(r)},forEach(u,s){const o=this,r=o.__v_raw,l=ee(r),a=t?Hu:e?Uu:De;return!e&&ke(l,"iterate",Gt),r.forEach((c,d)=>u.call(s,a(c),a(d),o))}};return Ae(n,e?{add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear")}:{add(u){!t&&!Je(u)&&!en(u)&&(u=ee(u));const s=ee(this);return vi(s).has.call(s,u)||(s.add(u),yt(s,"add",u,u)),this},set(u,s){!t&&!Je(s)&&!en(s)&&(s=ee(s));const o=ee(this),{has:r,get:l}=vi(o);let a=r.call(o,u);a||(u=ee(u),a=r.call(o,u));const c=l.call(o,u);return o.set(u,s),a?Mt(s,c)&&yt(o,"set",u,s):yt(o,"add",u,s),this},delete(u){const s=ee(this),{has:o,get:r}=vi(s);let l=o.call(s,u);l||(u=ee(u),l=o.call(s,u)),r&&r.call(s,u);const a=s.delete(u);return l&&yt(s,"delete",u,void 0),a},clear(){const u=ee(this),s=u.size!==0,o=u.clear();return s&&yt(u,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=Zl(u,e,t)}),n}function as(e,t){const n=Gl(e,t);return(i,u,s)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?i:Reflect.get(te(n,u)&&u in i?n:i,u,s)}const Kl={get:as(!1,!1)},Xl={get:as(!1,!0)},Ql={get:as(!0,!1)};const tr=new WeakMap,nr=new WeakMap,ir=new WeakMap,Jl=new WeakMap;function Yl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ea(e){return e.__v_skip||!Object.isExtensible(e)?0:Yl(Il(e))}function cs(e){return en(e)?e:fs(e,!1,Wl,Kl,tr)}function ta(e){return fs(e,!1,jl,Xl,nr)}function ds(e){return fs(e,!0,Vl,Ql,ir)}function fs(e,t,n,i,u){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=u.get(e);if(s)return s;const o=ea(e);if(o===0)return e;const r=new Proxy(e,o===2?i:n);return u.set(e,r),r}function pn(e){return en(e)?pn(e.__v_raw):!!(e&&e.__v_isReactive)}function en(e){return!!(e&&e.__v_isReadonly)}function Je(e){return!!(e&&e.__v_isShallow)}function hs(e){return e?!!e.__v_raw:!1}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function na(e){return!te(e,"__v_skip")&&Object.isExtensible(e)&&Bo(e,"__v_skip",!0),e}const De=e=>ce(e)?cs(e):e,Uu=e=>ce(e)?ds(e):e;function ye(e){return e?e.__v_isRef===!0:!1}function Ve(e){return ia(e,!1)}function ia(e,t){return ye(e)?e:new ua(e,t)}class ua{constructor(t,n){this.dep=new ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ee(t),this._value=n?t:De(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Je(t)||en(t);t=i?t:ee(t),Mt(t,n)&&(this._rawValue=t,this._value=i?t:De(t),this.dep.trigger())}}function de(e){return ye(e)?e.value:e}const sa={get:(e,t,n)=>t==="__v_raw"?e:de(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const u=e[t];return ye(u)&&!ye(n)?(u.value=n,!0):Reflect.set(e,t,n,i)}};function ur(e){return pn(e)?e:new Proxy(e,sa)}class oa{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return jo(this,!0),!0}get value(){const t=this.dep.track();return Ko(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ra(e,t,n=!1){let i,u;return V(e)?i=e:(i=e.get,u=e.set),new oa(i,u,n)}const Ei={},Pi=new WeakMap;let $t;function la(e,t=!1,n=$t){if(n){let i=Pi.get(n);i||Pi.set(n,i=[]),i.push(e)}}function aa(e,t,n=se){const{immediate:i,deep:u,once:s,scheduler:o,augmentJob:r,call:l}=n,a=C=>u?C:Je(C)||u===!1||u===0?vt(C,1):vt(C);let c,d,h,f,m=!1,g=!1;if(ye(e)?(d=()=>e.value,m=Je(e)):pn(e)?(d=()=>a(e),m=!0):U(e)?(g=!0,m=e.some(C=>pn(C)||Je(C)),d=()=>e.map(C=>{if(ye(C))return C.value;if(pn(C))return a(C);if(V(C))return l?l(C,2):C()})):V(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Bt();try{h()}finally{qt()}}const C=$t;$t=c;try{return l?l(e,3,[f]):e(f)}finally{$t=C}}:d=mt,t&&u){const C=d,I=u===!0?1/0:u;d=()=>vt(C(),I)}const _=Rl(),x=()=>{c.stop(),_&&_.active&&ts(_.effects,c)};if(s&&t){const C=t;t=(...I)=>{C(...I),x()}}let v=g?new Array(e.length).fill(Ei):Ei;const w=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const I=c.run();if(u||m||(g?I.some((T,L)=>Mt(T,v[L])):Mt(I,v))){h&&h();const T=$t;$t=c;try{const L=[I,v===Ei?void 0:g&&v[0]===Ei?[]:v,f];l?l(t,3,L):t(...L),v=I}finally{$t=T}}}else c.run()};return r&&r(w),c=new Wo(d),c.scheduler=o?()=>o(w,!1):w,f=C=>la(C,!1,c),h=c.onStop=()=>{const C=Pi.get(c);if(C){if(l)l(C,4);else for(const I of C)I();Pi.delete(c)}},t?i?w(!0):v=c.run():o?o(w.bind(null,!0),!0):c.run(),x.pause=c.pause.bind(c),x.resume=c.resume.bind(c),x.stop=x,x}function vt(e,t=1/0,n){if(t<=0||!ce(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ye(e))vt(e.value,t,n);else if(U(e))for(let i=0;i<e.length;i++)vt(e[i],t,n);else if(Qi(e)||mn(e))e.forEach(i=>{vt(i,t,n)});else if(Oo(e)){for(const i in e)vt(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&vt(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mi(e,t,n,i){try{return i?e(...i):e()}catch(u){iu(u,t,n)}}function pt(e,t,n,i){if(V(e)){const u=mi(e,t,n,i);return u&&Lo(u)&&u.catch(s=>{iu(s,t,n)}),u}if(U(e)){const u=[];for(let s=0;s<e.length;s++)u.push(pt(e[s],t,n,i));return u}}function iu(e,t,n,i=!0){const u=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||se;if(t){let r=t.parent;const l=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,a)===!1)return}r=r.parent}if(s){Bt(),mi(s,null,10,[e,l,a]),qt();return}}ca(e,n,u,i,o)}function ca(e,t,n,i=!0,u=!1){if(u)throw e;console.error(e)}const Me=[];let ct=-1;const bn=[];let St=null,an=0;const sr=Promise.resolve();let Li=null;function Xn(e){const t=Li||sr;return e?t.then(this?e.bind(this):e):t}function da(e){let t=ct+1,n=Me.length;for(;t<n;){const i=t+n>>>1,u=Me[i],s=Qn(u);s<e||s===e&&u.flags&2?t=i+1:n=i}return t}function ms(e){if(!(e.flags&1)){const t=Qn(e),n=Me[Me.length-1];!n||!(e.flags&2)&&t>=Qn(n)?Me.push(e):Me.splice(da(t),0,e),e.flags|=1,or()}}function or(){Li||(Li=sr.then(lr))}function fa(e){U(e)?bn.push(...e):St&&e.id===-1?St.splice(an+1,0,e):e.flags&1||(bn.push(e),e.flags|=1),or()}function Bs(e,t,n=ct+1){for(;n<Me.length;n++){const i=Me[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Me.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function rr(e){if(bn.length){const t=[...new Set(bn)].sort((n,i)=>Qn(n)-Qn(i));if(bn.length=0,St){St.push(...t);return}for(St=t,an=0;an<St.length;an++){const n=St[an];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}St=null,an=0}}const Qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lr(e){try{for(ct=0;ct<Me.length;ct++){const t=Me[ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),mi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ct<Me.length;ct++){const t=Me[ct];t&&(t.flags&=-2)}ct=-1,Me.length=0,rr(),Li=null,(Me.length||bn.length)&&lr()}}let Ce=null,ar=null;function Ri(e){const t=Ce;return Ce=e,ar=e&&e.type.__scopeId||null,t}function cn(e,t=Ce,n){if(!t||e._n)return e;const i=(...u)=>{i._d&&Gs(-1);const s=Ri(t);let o;try{o=e(...u)}finally{Ri(s),i._d&&Gs(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ke(e,t){if(Ce===null)return e;const n=lu(Ce),i=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[s,o,r,l=se]=t[u];s&&(V(s)&&(s={mounted:s,updated:s}),s.deep&&vt(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:r,modifiers:l}))}return e}function Ut(e,t,n,i){const u=e.dirs,s=t&&t.dirs;for(let o=0;o<u.length;o++){const r=u[o];s&&(r.oldValue=s[o].value);let l=r.dir[i];l&&(Bt(),pt(l,n,8,[e.el,r,e,t]),qt())}}const ha=Symbol("_vte"),ma=e=>e.__isTeleport;function ps(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ps(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function sn(e,t){return V(e)?Ae({name:e.name},t,{setup:e}):e}function cr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Oi(e,t,n,i,u=!1){if(U(e)){e.forEach((m,g)=>Oi(m,t&&(U(t)?t[g]:t),n,i,u));return}if(gn(i)&&!u){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Oi(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?lu(i.component):i.el,o=u?null:s,{i:r,r:l}=e,a=t&&t.r,c=r.refs===se?r.refs={}:r.refs,d=r.setupState,h=ee(d),f=d===se?()=>!1:m=>te(h,m);if(a!=null&&a!==l&&(pe(a)?(c[a]=null,f(a)&&(d[a]=null)):ye(a)&&(a.value=null)),V(l))mi(l,r,12,[o,c]);else{const m=pe(l),g=ye(l);if(m||g){const _=()=>{if(e.f){const x=m?f(l)?d[l]:c[l]:l.value;u?U(x)&&ts(x,s):U(x)?x.includes(s)||x.push(s):m?(c[l]=[s],f(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,f(l)&&(d[l]=o)):g&&(l.value=o,e.k&&(c[e.k]=o))};o?(_.id=-1,He(_,n)):_()}}}eu().requestIdleCallback;eu().cancelIdleCallback;const gn=e=>!!e.type.__asyncLoader,dr=e=>e.type.__isKeepAlive;function pa(e,t){fr(e,"a",t)}function ba(e,t){fr(e,"da",t)}function fr(e,t,n=we){const i=e.__wdc||(e.__wdc=()=>{let u=n;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(uu(t,i,n),n){let u=n.parent;for(;u&&u.parent;)dr(u.parent.vnode)&&ga(i,t,n,u),u=u.parent}}function ga(e,t,n,i){const u=uu(t,e,i,!0);mr(()=>{ts(i[t],u)},n)}function uu(e,t,n=we,i=!1){if(n){const u=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Bt();const r=pi(n),l=pt(t,n,e,o);return r(),qt(),l});return i?u.unshift(s):u.push(s),s}}const It=e=>(t,n=we)=>{(!Yn||e==="sp")&&uu(e,(...i)=>t(...i),n)},_a=It("bm"),su=It("m"),xa=It("bu"),Ca=It("u"),hr=It("bum"),mr=It("um"),ya=It("sp"),va=It("rtg"),wa=It("rtc");function Ea(e,t=we){uu("ec",e,t)}const Ia="components",pr=Symbol.for("v-ndc");function Sa(e){return pe(e)?ka(Ia,e,!1)||e:e||pr}function ka(e,t,n=!0,i=!1){const u=Ce||we;if(u){const s=u.type;{const r=bc(s,!1);if(r&&(r===t||r===Ye(t)||r===Yi(Ye(t))))return s}const o=qs(u[e]||s[e],t)||qs(u.appContext[e],t);return!o&&i?s:o}}function qs(e,t){return e&&(e[t]||e[Ye(t)]||e[Yi(Ye(t))])}function br(e,t,n,i){let u;const s=n,o=U(e);if(o||pe(e)){const r=o&&pn(e);let l=!1;r&&(l=!Je(e),e=nu(e)),u=new Array(e.length);for(let a=0,c=e.length;a<c;a++)u[a]=t(l?De(e[a]):e[a],a,void 0,s)}else if(typeof e=="number"){u=new Array(e);for(let r=0;r<e;r++)u[r]=t(r+1,r,void 0,s)}else if(ce(e))if(e[Symbol.iterator])u=Array.from(e,(r,l)=>t(r,l,void 0,s));else{const r=Object.keys(e);u=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];u[l]=t(e[c],c,l,s)}}else u=[];return u}function Da(e,t,n={},i,u){if(Ce.ce||Ce.parent&&gn(Ce.parent)&&Ce.parent.ce)return Le(),qi(ze,null,[Pe("slot",n,i)],64);let s=e[t];s&&s._c&&(s._d=!1),Le();const o=s&&gr(s(n)),r=n.key||o&&o.key,l=qi(ze,{key:(r&&!it(r)?r:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function gr(e){return e.some(t=>gs(t)?!(t.type===wn||t.type===ze&&!gr(t.children)):!0)?e:null}const Nu=e=>e?Hr(e)?lu(e):Nu(e.parent):null,Nn=Ae(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nu(e.parent),$root:e=>Nu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>xr(e),$forceUpdate:e=>e.f||(e.f=()=>{ms(e.update)}),$nextTick:e=>e.n||(e.n=Xn.bind(e.proxy)),$watch:e=>Ka.bind(e)}),Cu=(e,t)=>e!==se&&!e.__isScriptSetup&&te(e,t),Aa={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:u,props:s,accessCache:o,type:r,appContext:l}=e;let a;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return u[t];case 4:return n[t];case 3:return s[t]}else{if(Cu(i,t))return o[t]=1,i[t];if(u!==se&&te(u,t))return o[t]=2,u[t];if((a=e.propsOptions[0])&&te(a,t))return o[t]=3,s[t];if(n!==se&&te(n,t))return o[t]=4,n[t];$u&&(o[t]=0)}}const c=Nn[t];let d,h;if(c)return t==="$attrs"&&ke(e.attrs,"get",""),c(e);if((d=r.__cssModules)&&(d=d[t]))return d;if(n!==se&&te(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,te(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:u,ctx:s}=e;return Cu(u,t)?(u[t]=n,!0):i!==se&&te(i,t)?(i[t]=n,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:u,propsOptions:s}},o){let r;return!!n[o]||e!==se&&te(e,o)||Cu(t,o)||(r=s[0])&&te(r,o)||te(i,o)||te(Nn,o)||te(u.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:te(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Hs(e){return U(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $u=!0;function Ta(e){const t=xr(e),n=e.proxy,i=e.ctx;$u=!1,t.beforeCreate&&Us(t.beforeCreate,e,"bc");const{data:u,computed:s,methods:o,watch:r,provide:l,inject:a,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:g,deactivated:_,beforeDestroy:x,beforeUnmount:v,destroyed:w,unmounted:C,render:I,renderTracked:T,renderTriggered:L,errorCaptured:H,serverPrefetch:R,expose:X,inheritAttrs:ue,components:Ee,directives:be,filters:Ie}=t;if(a&&Fa(a,i,null),o)for(const G in o){const ie=o[G];V(ie)&&(i[G]=ie.bind(n))}if(u){const G=u.call(n,n);ce(G)&&(e.data=cs(G))}if($u=!0,s)for(const G in s){const ie=s[G],_t=V(ie)?ie.bind(n,n):V(ie.get)?ie.get.bind(n,n):mt,on=!V(ie)&&V(ie.set)?ie.set.bind(n):mt,Ht=_c({get:_t,set:on});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:st=>Ht.value=st})}if(r)for(const G in r)_r(r[G],i,n,G);if(l){const G=V(l)?l.call(n):l;Reflect.ownKeys(G).forEach(ie=>{yr(ie,G[ie])})}c&&Us(c,e,"c");function ge(G,ie){U(ie)?ie.forEach(_t=>G(_t.bind(n))):ie&&G(ie.bind(n))}if(ge(_a,d),ge(su,h),ge(xa,f),ge(Ca,m),ge(pa,g),ge(ba,_),ge(Ea,H),ge(wa,T),ge(va,L),ge(hr,v),ge(mr,C),ge(ya,R),U(X))if(X.length){const G=e.exposed||(e.exposed={});X.forEach(ie=>{Object.defineProperty(G,ie,{get:()=>n[ie],set:_t=>n[ie]=_t})})}else e.exposed||(e.exposed={});I&&e.render===mt&&(e.render=I),ue!=null&&(e.inheritAttrs=ue),Ee&&(e.components=Ee),be&&(e.directives=be),R&&cr(e)}function Fa(e,t,n=mt){U(e)&&(e=Wu(e));for(const i in e){const u=e[i];let s;ce(u)?"default"in u?s=$n(u.from||i,u.default,!0):s=$n(u.from||i):s=$n(u),ye(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Us(e,t,n){pt(U(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function _r(e,t,n,i){let u=i.includes(".")?Pr(n,i):()=>n[i];if(pe(e)){const s=t[e];V(s)&&Ti(u,s)}else if(V(e))Ti(u,e.bind(n));else if(ce(e))if(U(e))e.forEach(s=>_r(s,t,n,i));else{const s=V(e.handler)?e.handler.bind(n):t[e.handler];V(s)&&Ti(u,s,e)}}function xr(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:u,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,r=s.get(t);let l;return r?l=r:!u.length&&!n&&!i?l=t:(l={},u.length&&u.forEach(a=>Bi(l,a,o,!0)),Bi(l,t,o)),ce(t)&&s.set(t,l),l}function Bi(e,t,n,i=!1){const{mixins:u,extends:s}=t;s&&Bi(e,s,n,!0),u&&u.forEach(o=>Bi(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const r=Ma[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Ma={data:Ns,props:$s,emits:$s,methods:Bn,computed:Bn,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:Bn,directives:Bn,watch:Pa,provide:Ns,inject:za};function Ns(e,t){return t?e?function(){return Ae(V(e)?e.call(this,this):e,V(t)?t.call(this,this):t)}:t:e}function za(e,t){return Bn(Wu(e),Wu(t))}function Wu(e){if(U(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Te(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?Ae(Object.create(null),e,t):t}function $s(e,t){return e?U(e)&&U(t)?[...new Set([...e,...t])]:Ae(Object.create(null),Hs(e),Hs(t??{})):t}function Pa(e,t){if(!e)return t;if(!t)return e;const n=Ae(Object.create(null),e);for(const i in t)n[i]=Te(e[i],t[i]);return n}function Cr(){return{app:null,config:{isNativeTag:wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let La=0;function Ra(e,t){return function(i,u=null){V(i)||(i=Ae({},i)),u!=null&&!ce(u)&&(u=null);const s=Cr(),o=new WeakSet,r=[];let l=!1;const a=s.app={_uid:La++,_component:i,_props:u,_container:null,_context:s,_instance:null,version:xc,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&V(c.install)?(o.add(c),c.install(a,...d)):V(c)&&(o.add(c),c(a,...d))),a},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),a},component(c,d){return d?(s.components[c]=d,a):s.components[c]},directive(c,d){return d?(s.directives[c]=d,a):s.directives[c]},mount(c,d,h){if(!l){const f=a._ceVNode||Pe(i,u);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),e(f,c,h),l=!0,a._container=c,c.__vue_app__=a,lu(f.component)}},onUnmount(c){r.push(c)},unmount(){l&&(pt(r,a._instance,16),e(null,a._container),delete a._container.__vue_app__)},provide(c,d){return s.provides[c]=d,a},runWithContext(c){const d=_n;_n=a;try{return c()}finally{_n=d}}};return a}}let _n=null;function yr(e,t){if(we){let n=we.provides;const i=we.parent&&we.parent.provides;i===n&&(n=we.provides=Object.create(i)),n[e]=t}}function $n(e,t,n=!1){const i=we||Ce;if(i||_n){const u=_n?_n._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(u&&e in u)return u[e];if(arguments.length>1)return n&&V(t)?t.call(i&&i.proxy):t}}const vr={},wr=()=>Object.create(vr),Er=e=>Object.getPrototypeOf(e)===vr;function Oa(e,t,n,i=!1){const u={},s=wr();e.propsDefaults=Object.create(null),Ir(e,t,u,s);for(const o in e.propsOptions[0])o in u||(u[o]=void 0);n?e.props=i?u:ta(u):e.type.props?e.props=u:e.props=s,e.attrs=s}function Ba(e,t,n,i){const{props:u,attrs:s,vnode:{patchFlag:o}}=e,r=ee(u),[l]=e.propsOptions;let a=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(ou(e.emitsOptions,h))continue;const f=t[h];if(l)if(te(s,h))f!==s[h]&&(s[h]=f,a=!0);else{const m=Ye(h);u[m]=Vu(l,r,m,f,e,!1)}else f!==s[h]&&(s[h]=f,a=!0)}}}else{Ir(e,t,u,s)&&(a=!0);let c;for(const d in r)(!t||!te(t,d)&&((c=un(d))===d||!te(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(u[d]=Vu(l,r,d,void 0,e,!0)):delete u[d]);if(s!==r)for(const d in s)(!t||!te(t,d))&&(delete s[d],a=!0)}a&&yt(e.attrs,"set","")}function Ir(e,t,n,i){const[u,s]=e.propsOptions;let o=!1,r;if(t)for(let l in t){if(qn(l))continue;const a=t[l];let c;u&&te(u,c=Ye(l))?!s||!s.includes(c)?n[c]=a:(r||(r={}))[c]=a:ou(e.emitsOptions,l)||(!(l in i)||a!==i[l])&&(i[l]=a,o=!0)}if(s){const l=ee(n),a=r||se;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Vu(u,l,d,a[d],e,!te(a,d))}}return o}function Vu(e,t,n,i,u,s){const o=e[n];if(o!=null){const r=te(o,"default");if(r&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&V(l)){const{propsDefaults:a}=u;if(n in a)i=a[n];else{const c=pi(u);i=a[n]=l.call(null,t),c()}}else i=l;u.ce&&u.ce._setProp(n,i)}o[0]&&(s&&!r?i=!1:o[1]&&(i===""||i===un(n))&&(i=!0))}return i}const qa=new WeakMap;function Sr(e,t,n=!1){const i=n?qa:t.propsCache,u=i.get(e);if(u)return u;const s=e.props,o={},r=[];let l=!1;if(!V(e)){const c=d=>{l=!0;const[h,f]=Sr(d,t,!0);Ae(o,h),f&&r.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return ce(e)&&i.set(e,hn),hn;if(U(s))for(let c=0;c<s.length;c++){const d=Ye(s[c]);Ws(d)&&(o[d]=se)}else if(s)for(const c in s){const d=Ye(c);if(Ws(d)){const h=s[c],f=o[d]=U(h)||V(h)?{type:h}:Ae({},h),m=f.type;let g=!1,_=!0;if(U(m))for(let x=0;x<m.length;++x){const v=m[x],w=V(v)&&v.name;if(w==="Boolean"){g=!0;break}else w==="String"&&(_=!1)}else g=V(m)&&m.name==="Boolean";f[0]=g,f[1]=_,(g||te(f,"default"))&&r.push(d)}}const a=[o,r];return ce(e)&&i.set(e,a),a}function Ws(e){return e[0]!=="$"&&!qn(e)}const kr=e=>e[0]==="_"||e==="$stable",bs=e=>U(e)?e.map(dt):[dt(e)],Ha=(e,t,n)=>{if(t._n)return t;const i=cn((...u)=>bs(t(...u)),n);return i._c=!1,i},Dr=(e,t,n)=>{const i=e._ctx;for(const u in e){if(kr(u))continue;const s=e[u];if(V(s))t[u]=Ha(u,s,i);else if(s!=null){const o=bs(s);t[u]=()=>o}}},Ar=(e,t)=>{const n=bs(t);e.slots.default=()=>n},Tr=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},Ua=(e,t,n)=>{const i=e.slots=wr();if(e.vnode.shapeFlag&32){const u=t._;u?(Tr(i,t,n),n&&Bo(i,"_",u,!0)):Dr(t,i)}else t&&Ar(e,t)},Na=(e,t,n)=>{const{vnode:i,slots:u}=e;let s=!0,o=se;if(i.shapeFlag&32){const r=t._;r?n&&r===1?s=!1:Tr(u,t,n):(s=!t.$stable,Dr(t,u)),o=t}else t&&(Ar(e,t),o={default:1});if(s)for(const r in u)!kr(r)&&o[r]==null&&delete u[r]},He=nc;function $a(e){return Wa(e)}function Wa(e,t){const n=eu();n.__VUE__=!0;const{insert:i,remove:u,patchProp:s,createElement:o,createText:r,createComment:l,setText:a,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=mt,insertStaticContent:m}=e,g=(p,b,y,k=null,E=null,S=null,z=void 0,M=null,F=!!b.dynamicChildren)=>{if(p===b)return;p&&!Rn(p,b)&&(k=yi(p),st(p,E,S,!0),p=null),b.patchFlag===-2&&(F=!1,b.dynamicChildren=null);const{type:D,ref:q,shapeFlag:P}=b;switch(D){case ru:_(p,b,y,k);break;case wn:x(p,b,y,k);break;case Fi:p==null&&v(b,y,k,z);break;case ze:Ee(p,b,y,k,E,S,z,M,F);break;default:P&1?I(p,b,y,k,E,S,z,M,F):P&6?be(p,b,y,k,E,S,z,M,F):(P&64||P&128)&&D.process(p,b,y,k,E,S,z,M,F,zn)}q!=null&&E&&Oi(q,p&&p.ref,S,b||p,!b)},_=(p,b,y,k)=>{if(p==null)i(b.el=r(b.children),y,k);else{const E=b.el=p.el;b.children!==p.children&&a(E,b.children)}},x=(p,b,y,k)=>{p==null?i(b.el=l(b.children||""),y,k):b.el=p.el},v=(p,b,y,k)=>{[p.el,p.anchor]=m(p.children,b,y,k,p.el,p.anchor)},w=({el:p,anchor:b},y,k)=>{let E;for(;p&&p!==b;)E=h(p),i(p,y,k),p=E;i(b,y,k)},C=({el:p,anchor:b})=>{let y;for(;p&&p!==b;)y=h(p),u(p),p=y;u(b)},I=(p,b,y,k,E,S,z,M,F)=>{b.type==="svg"?z="svg":b.type==="math"&&(z="mathml"),p==null?T(b,y,k,E,S,z,M,F):R(p,b,E,S,z,M,F)},T=(p,b,y,k,E,S,z,M)=>{let F,D;const{props:q,shapeFlag:P,transition:O,dirs:$}=p;if(F=p.el=o(p.type,S,q&&q.is,q),P&8?c(F,p.children):P&16&&H(p.children,F,null,k,E,yu(p,S),z,M),$&&Ut(p,null,k,"created"),L(F,p,p.scopeId,z,k),q){for(const oe in q)oe!=="value"&&!qn(oe)&&s(F,oe,null,q[oe],S,k);"value"in q&&s(F,"value",null,q.value,S),(D=q.onVnodeBeforeMount)&&at(D,k,p)}$&&Ut(p,null,k,"beforeMount");const K=Va(E,O);K&&O.beforeEnter(F),i(F,b,y),((D=q&&q.onVnodeMounted)||K||$)&&He(()=>{D&&at(D,k,p),K&&O.enter(F),$&&Ut(p,null,k,"mounted")},E)},L=(p,b,y,k,E)=>{if(y&&f(p,y),k)for(let S=0;S<k.length;S++)f(p,k[S]);if(E){let S=E.subTree;if(b===S||Rr(S.type)&&(S.ssContent===b||S.ssFallback===b)){const z=E.vnode;L(p,z,z.scopeId,z.slotScopeIds,E.parent)}}},H=(p,b,y,k,E,S,z,M,F=0)=>{for(let D=F;D<p.length;D++){const q=p[D]=M?kt(p[D]):dt(p[D]);g(null,q,b,y,k,E,S,z,M)}},R=(p,b,y,k,E,S,z)=>{const M=b.el=p.el;let{patchFlag:F,dynamicChildren:D,dirs:q}=b;F|=p.patchFlag&16;const P=p.props||se,O=b.props||se;let $;if(y&&Nt(y,!1),($=O.onVnodeBeforeUpdate)&&at($,y,b,p),q&&Ut(b,p,y,"beforeUpdate"),y&&Nt(y,!0),(P.innerHTML&&O.innerHTML==null||P.textContent&&O.textContent==null)&&c(M,""),D?X(p.dynamicChildren,D,M,y,k,yu(b,E),S):z||ie(p,b,M,null,y,k,yu(b,E),S,!1),F>0){if(F&16)ue(M,P,O,y,E);else if(F&2&&P.class!==O.class&&s(M,"class",null,O.class,E),F&4&&s(M,"style",P.style,O.style,E),F&8){const K=b.dynamicProps;for(let oe=0;oe<K.length;oe++){const ne=K[oe],Be=P[ne],Re=O[ne];(Re!==Be||ne==="value")&&s(M,ne,Be,Re,E,y)}}F&1&&p.children!==b.children&&c(M,b.children)}else!z&&D==null&&ue(M,P,O,y,E);(($=O.onVnodeUpdated)||q)&&He(()=>{$&&at($,y,b,p),q&&Ut(b,p,y,"updated")},k)},X=(p,b,y,k,E,S,z)=>{for(let M=0;M<b.length;M++){const F=p[M],D=b[M],q=F.el&&(F.type===ze||!Rn(F,D)||F.shapeFlag&70)?d(F.el):y;g(F,D,q,null,k,E,S,z,!0)}},ue=(p,b,y,k,E)=>{if(b!==y){if(b!==se)for(const S in b)!qn(S)&&!(S in y)&&s(p,S,b[S],null,E,k);for(const S in y){if(qn(S))continue;const z=y[S],M=b[S];z!==M&&S!=="value"&&s(p,S,M,z,E,k)}"value"in y&&s(p,"value",b.value,y.value,E)}},Ee=(p,b,y,k,E,S,z,M,F)=>{const D=b.el=p?p.el:r(""),q=b.anchor=p?p.anchor:r("");let{patchFlag:P,dynamicChildren:O,slotScopeIds:$}=b;$&&(M=M?M.concat($):$),p==null?(i(D,y,k),i(q,y,k),H(b.children||[],y,q,E,S,z,M,F)):P>0&&P&64&&O&&p.dynamicChildren?(X(p.dynamicChildren,O,y,E,S,z,M),(b.key!=null||E&&b===E.subTree)&&Fr(p,b,!0)):ie(p,b,y,q,E,S,z,M,F)},be=(p,b,y,k,E,S,z,M,F)=>{b.slotScopeIds=M,p==null?b.shapeFlag&512?E.ctx.activate(b,y,k,z,F):Ie(b,y,k,E,S,z,F):ve(p,b,F)},Ie=(p,b,y,k,E,S,z)=>{const M=p.component=cc(p,k,E);if(dr(p)&&(M.ctx.renderer=zn),fc(M,!1,z),M.asyncDep){if(E&&E.registerDep(M,ge,z),!p.el){const F=M.subTree=Pe(wn);x(null,F,b,y)}}else ge(M,p,b,y,E,S,z)},ve=(p,b,y)=>{const k=b.component=p.component;if(ec(p,b,y))if(k.asyncDep&&!k.asyncResolved){G(k,b,y);return}else k.next=b,k.update();else b.el=p.el,k.vnode=b},ge=(p,b,y,k,E,S,z)=>{const M=()=>{if(p.isMounted){let{next:P,bu:O,u:$,parent:K,vnode:oe}=p;{const rt=Mr(p);if(rt){P&&(P.el=oe.el,G(p,P,z)),rt.asyncDep.then(()=>{p.isUnmounted||M()});return}}let ne=P,Be;Nt(p,!1),P?(P.el=oe.el,G(p,P,z)):P=oe,O&&Ai(O),(Be=P.props&&P.props.onVnodeBeforeUpdate)&&at(Be,K,P,oe),Nt(p,!0);const Re=js(p),ot=p.subTree;p.subTree=Re,g(ot,Re,d(ot.el),yi(ot),p,E,S),P.el=Re.el,ne===null&&tc(p,Re.el),$&&He($,E),(Be=P.props&&P.props.onVnodeUpdated)&&He(()=>at(Be,K,P,oe),E)}else{let P;const{el:O,props:$}=b,{bm:K,m:oe,parent:ne,root:Be,type:Re}=p,ot=gn(b);Nt(p,!1),K&&Ai(K),!ot&&(P=$&&$.onVnodeBeforeMount)&&at(P,ne,b),Nt(p,!0);{Be.ce&&Be.ce._injectChildStyle(Re);const rt=p.subTree=js(p);g(null,rt,y,k,p,E,S),b.el=rt.el}if(oe&&He(oe,E),!ot&&(P=$&&$.onVnodeMounted)){const rt=b;He(()=>at(P,ne,rt),E)}(b.shapeFlag&256||ne&&gn(ne.vnode)&&ne.vnode.shapeFlag&256)&&p.a&&He(p.a,E),p.isMounted=!0,b=y=k=null}};p.scope.on();const F=p.effect=new Wo(M);p.scope.off();const D=p.update=F.run.bind(F),q=p.job=F.runIfDirty.bind(F);q.i=p,q.id=p.uid,F.scheduler=()=>ms(q),Nt(p,!0),D()},G=(p,b,y)=>{b.component=p;const k=p.vnode.props;p.vnode=b,p.next=null,Ba(p,b.props,k,y),Na(p,b.children,y),Bt(),Bs(p),qt()},ie=(p,b,y,k,E,S,z,M,F=!1)=>{const D=p&&p.children,q=p?p.shapeFlag:0,P=b.children,{patchFlag:O,shapeFlag:$}=b;if(O>0){if(O&128){on(D,P,y,k,E,S,z,M,F);return}else if(O&256){_t(D,P,y,k,E,S,z,M,F);return}}$&8?(q&16&&Mn(D,E,S),P!==D&&c(y,P)):q&16?$&16?on(D,P,y,k,E,S,z,M,F):Mn(D,E,S,!0):(q&8&&c(y,""),$&16&&H(P,y,k,E,S,z,M,F))},_t=(p,b,y,k,E,S,z,M,F)=>{p=p||hn,b=b||hn;const D=p.length,q=b.length,P=Math.min(D,q);let O;for(O=0;O<P;O++){const $=b[O]=F?kt(b[O]):dt(b[O]);g(p[O],$,y,null,E,S,z,M,F)}D>q?Mn(p,E,S,!0,!1,P):H(b,y,k,E,S,z,M,F,P)},on=(p,b,y,k,E,S,z,M,F)=>{let D=0;const q=b.length;let P=p.length-1,O=q-1;for(;D<=P&&D<=O;){const $=p[D],K=b[D]=F?kt(b[D]):dt(b[D]);if(Rn($,K))g($,K,y,null,E,S,z,M,F);else break;D++}for(;D<=P&&D<=O;){const $=p[P],K=b[O]=F?kt(b[O]):dt(b[O]);if(Rn($,K))g($,K,y,null,E,S,z,M,F);else break;P--,O--}if(D>P){if(D<=O){const $=O+1,K=$<q?b[$].el:k;for(;D<=O;)g(null,b[D]=F?kt(b[D]):dt(b[D]),y,K,E,S,z,M,F),D++}}else if(D>O)for(;D<=P;)st(p[D],E,S,!0),D++;else{const $=D,K=D,oe=new Map;for(D=K;D<=O;D++){const qe=b[D]=F?kt(b[D]):dt(b[D]);qe.key!=null&&oe.set(qe.key,D)}let ne,Be=0;const Re=O-K+1;let ot=!1,rt=0;const Pn=new Array(Re);for(D=0;D<Re;D++)Pn[D]=0;for(D=$;D<=P;D++){const qe=p[D];if(Be>=Re){st(qe,E,S,!0);continue}let lt;if(qe.key!=null)lt=oe.get(qe.key);else for(ne=K;ne<=O;ne++)if(Pn[ne-K]===0&&Rn(qe,b[ne])){lt=ne;break}lt===void 0?st(qe,E,S,!0):(Pn[lt-K]=D+1,lt>=rt?rt=lt:ot=!0,g(qe,b[lt],y,null,E,S,z,M,F),Be++)}const Ms=ot?ja(Pn):hn;for(ne=Ms.length-1,D=Re-1;D>=0;D--){const qe=K+D,lt=b[qe],zs=qe+1<q?b[qe+1].el:k;Pn[D]===0?g(null,lt,y,zs,E,S,z,M,F):ot&&(ne<0||D!==Ms[ne]?Ht(lt,y,zs,2):ne--)}}},Ht=(p,b,y,k,E=null)=>{const{el:S,type:z,transition:M,children:F,shapeFlag:D}=p;if(D&6){Ht(p.component.subTree,b,y,k);return}if(D&128){p.suspense.move(b,y,k);return}if(D&64){z.move(p,b,y,zn);return}if(z===ze){i(S,b,y);for(let P=0;P<F.length;P++)Ht(F[P],b,y,k);i(p.anchor,b,y);return}if(z===Fi){w(p,b,y);return}if(k!==2&&D&1&&M)if(k===0)M.beforeEnter(S),i(S,b,y),He(()=>M.enter(S),E);else{const{leave:P,delayLeave:O,afterLeave:$}=M,K=()=>i(S,b,y),oe=()=>{P(S,()=>{K(),$&&$()})};O?O(S,K,oe):oe()}else i(S,b,y)},st=(p,b,y,k=!1,E=!1)=>{const{type:S,props:z,ref:M,children:F,dynamicChildren:D,shapeFlag:q,patchFlag:P,dirs:O,cacheIndex:$}=p;if(P===-2&&(E=!1),M!=null&&Oi(M,null,y,p,!0),$!=null&&(b.renderCache[$]=void 0),q&256){b.ctx.deactivate(p);return}const K=q&1&&O,oe=!gn(p);let ne;if(oe&&(ne=z&&z.onVnodeBeforeUnmount)&&at(ne,b,p),q&6)vl(p.component,y,k);else{if(q&128){p.suspense.unmount(y,k);return}K&&Ut(p,null,b,"beforeUnmount"),q&64?p.type.remove(p,b,y,zn,k):D&&!D.hasOnce&&(S!==ze||P>0&&P&64)?Mn(D,b,y,!1,!0):(S===ze&&P&384||!E&&q&16)&&Mn(F,b,y),k&&Ts(p)}(oe&&(ne=z&&z.onVnodeUnmounted)||K)&&He(()=>{ne&&at(ne,b,p),K&&Ut(p,null,b,"unmounted")},y)},Ts=p=>{const{type:b,el:y,anchor:k,transition:E}=p;if(b===ze){yl(y,k);return}if(b===Fi){C(p);return}const S=()=>{u(y),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:z,delayLeave:M}=E,F=()=>z(y,S);M?M(p.el,S,F):F()}else S()},yl=(p,b)=>{let y;for(;p!==b;)y=h(p),u(p),p=y;u(b)},vl=(p,b,y)=>{const{bum:k,scope:E,job:S,subTree:z,um:M,m:F,a:D}=p;Vs(F),Vs(D),k&&Ai(k),E.stop(),S&&(S.flags|=8,st(z,p,b,y)),M&&He(M,b),He(()=>{p.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Mn=(p,b,y,k=!1,E=!1,S=0)=>{for(let z=S;z<p.length;z++)st(p[z],b,y,k,E)},yi=p=>{if(p.shapeFlag&6)return yi(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const b=h(p.anchor||p.el),y=b&&b[ha];return y?h(y):b};let mu=!1;const Fs=(p,b,y)=>{p==null?b._vnode&&st(b._vnode,null,null,!0):g(b._vnode||null,p,b,null,null,null,y),b._vnode=p,mu||(mu=!0,Bs(),rr(),mu=!1)},zn={p:g,um:st,m:Ht,r:Ts,mt:Ie,mc:H,pc:ie,pbc:X,n:yi,o:e};return{render:Fs,hydrate:void 0,createApp:Ra(Fs)}}function yu({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Nt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Va(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fr(e,t,n=!1){const i=e.children,u=t.children;if(U(i)&&U(u))for(let s=0;s<i.length;s++){const o=i[s];let r=u[s];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=u[s]=kt(u[s]),r.el=o.el),!n&&r.patchFlag!==-2&&Fr(o,r)),r.type===ru&&(r.el=o.el)}}function ja(e){const t=e.slice(),n=[0];let i,u,s,o,r;const l=e.length;for(i=0;i<l;i++){const a=e[i];if(a!==0){if(u=n[n.length-1],e[u]<a){t[i]=u,n.push(i);continue}for(s=0,o=n.length-1;s<o;)r=s+o>>1,e[n[r]]<a?s=r+1:o=r;a<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function Mr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Mr(t)}function Vs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Za=Symbol.for("v-scx"),Ga=()=>$n(Za);function Ti(e,t,n){return zr(e,t,n)}function zr(e,t,n=se){const{immediate:i,deep:u,flush:s,once:o}=n,r=Ae({},n),l=t&&i||!t&&s!=="post";let a;if(Yn){if(s==="sync"){const f=Ga();a=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=mt,f.resume=mt,f.pause=mt,f}}const c=we;r.call=(f,m,g)=>pt(f,c,m,g);let d=!1;s==="post"?r.scheduler=f=>{He(f,c&&c.suspense)}:s!=="sync"&&(d=!0,r.scheduler=(f,m)=>{m?f():ms(f)}),r.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const h=aa(e,t,r);return Yn&&(a?a.push(h):l&&h()),h}function Ka(e,t,n){const i=this.proxy,u=pe(e)?e.includes(".")?Pr(i,e):()=>i[e]:e.bind(i,i);let s;V(t)?s=t:(s=t.handler,n=t);const o=pi(this),r=zr(u,s.bind(i),n);return o(),r}function Pr(e,t){const n=t.split(".");return()=>{let i=e;for(let u=0;u<n.length&&i;u++)i=i[n[u]];return i}}const Xa=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ye(t)}Modifiers`]||e[`${un(t)}Modifiers`];function Qa(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||se;let u=n;const s=t.startsWith("update:"),o=s&&Xa(i,t.slice(7));o&&(o.trim&&(u=n.map(c=>pe(c)?c.trim():c)),o.number&&(u=n.map(Ru)));let r,l=i[r=pu(t)]||i[r=pu(Ye(t))];!l&&s&&(l=i[r=pu(un(t))]),l&&pt(l,e,6,u);const a=i[r+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,pt(a,e,6,u)}}function Lr(e,t,n=!1){const i=t.emitsCache,u=i.get(e);if(u!==void 0)return u;const s=e.emits;let o={},r=!1;if(!V(e)){const l=a=>{const c=Lr(a,t,!0);c&&(r=!0,Ae(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!r?(ce(e)&&i.set(e,null),null):(U(s)?s.forEach(l=>o[l]=null):Ae(o,s),ce(e)&&i.set(e,o),o)}function ou(e,t){return!e||!Xi(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,un(t))||te(e,t))}function js(e){const{type:t,vnode:n,proxy:i,withProxy:u,propsOptions:[s],slots:o,attrs:r,emit:l,render:a,renderCache:c,props:d,data:h,setupState:f,ctx:m,inheritAttrs:g}=e,_=Ri(e);let x,v;try{if(n.shapeFlag&4){const C=u||i,I=C;x=dt(a.call(I,C,c,d,f,h,m)),v=r}else{const C=t;x=dt(C.length>1?C(d,{attrs:r,slots:o,emit:l}):C(d,null)),v=t.props?r:Ja(r)}}catch(C){Wn.length=0,iu(C,e,1),x=Pe(wn)}let w=x;if(v&&g!==!1){const C=Object.keys(v),{shapeFlag:I}=w;C.length&&I&7&&(s&&C.some(es)&&(v=Ya(v,s)),w=En(w,v,!1,!0))}return n.dirs&&(w=En(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&ps(w,n.transition),x=w,Ri(_),x}const Ja=e=>{let t;for(const n in e)(n==="class"||n==="style"||Xi(n))&&((t||(t={}))[n]=e[n]);return t},Ya=(e,t)=>{const n={};for(const i in e)(!es(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function ec(e,t,n){const{props:i,children:u,component:s}=e,{props:o,children:r,patchFlag:l}=t,a=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Zs(i,o,a):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==i[h]&&!ou(a,h))return!0}}}else return(u||r)&&(!r||!r.$stable)?!0:i===o?!1:i?o?Zs(i,o,a):!0:!!o;return!1}function Zs(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let u=0;u<i.length;u++){const s=i[u];if(t[s]!==e[s]&&!ou(n,s))return!0}return!1}function tc({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Rr=e=>e.__isSuspense;function nc(e,t){t&&t.pendingBranch?U(e)?t.effects.push(...e):t.effects.push(e):fa(e)}const ze=Symbol.for("v-fgt"),ru=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),Fi=Symbol.for("v-stc"),Wn=[];let We=null;function Le(e=!1){Wn.push(We=e?null:[])}function ic(){Wn.pop(),We=Wn[Wn.length-1]||null}let Jn=1;function Gs(e,t=!1){Jn+=e,e<0&&We&&t&&(We.hasOnce=!0)}function Or(e){return e.dynamicChildren=Jn>0?We||hn:null,ic(),Jn>0&&We&&We.push(e),e}function nt(e,t,n,i,u,s){return Or(B(e,t,n,i,u,s,!0))}function qi(e,t,n,i,u){return Or(Pe(e,t,n,i,u,!0))}function gs(e){return e?e.__v_isVNode===!0:!1}function Rn(e,t){return e.type===t.type&&e.key===t.key}const Br=({key:e})=>e??null,Mi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?pe(e)||ye(e)||V(e)?{i:Ce,r:e,k:t,f:!!n}:e:null);function B(e,t=null,n=null,i=0,u=null,s=e===ze?0:1,o=!1,r=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Br(t),ref:t&&Mi(t),scopeId:ar,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:Ce};return r?(_s(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=pe(n)?8:16),Jn>0&&!o&&We&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&We.push(l),l}const Pe=uc;function uc(e,t=null,n=null,i=0,u=null,s=!1){if((!e||e===pr)&&(e=wn),gs(e)){const r=En(e,t,!0);return n&&_s(r,n),Jn>0&&!s&&We&&(r.shapeFlag&6?We[We.indexOf(e)]=r:We.push(r)),r.patchFlag=-2,r}if(gc(e)&&(e=e.__vccOpts),t){t=sc(t);let{class:r,style:l}=t;r&&!pe(r)&&(t.class=us(r)),ce(l)&&(hs(l)&&!U(l)&&(l=Ae({},l)),t.style=is(l))}const o=pe(e)?1:Rr(e)?128:ma(e)?64:ce(e)?4:V(e)?2:0;return B(e,t,n,i,u,o,s,!0)}function sc(e){return e?hs(e)||Er(e)?Ae({},e):e:null}function En(e,t,n=!1,i=!1){const{props:u,ref:s,patchFlag:o,children:r,transition:l}=e,a=t?rc(u||{},t):u,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Br(a),ref:t&&t.ref?n&&s?U(s)?s.concat(Mi(t)):[s,Mi(t)]:Mi(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ze?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&En(e.ssContent),ssFallback:e.ssFallback&&En(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&ps(c,l.clone(c)),c}function qr(e=" ",t=0){return Pe(ru,null,e,t)}function oc(e,t){const n=Pe(Fi,null,e);return n.staticCount=t,n}function dt(e){return e==null||typeof e=="boolean"?Pe(wn):U(e)?Pe(ze,null,e.slice()):gs(e)?kt(e):Pe(ru,null,String(e))}function kt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:En(e)}function _s(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(U(t))n=16;else if(typeof t=="object")if(i&65){const u=t.default;u&&(u._c&&(u._d=!1),_s(e,u()),u._c&&(u._d=!0));return}else{n=32;const u=t._;!u&&!Er(t)?t._ctx=Ce:u===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else V(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),i&64?(n=16,t=[qr(t)]):n=8);e.children=t,e.shapeFlag|=n}function rc(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const u in i)if(u==="class")t.class!==i.class&&(t.class=us([t.class,i.class]));else if(u==="style")t.style=is([t.style,i.style]);else if(Xi(u)){const s=t[u],o=i[u];o&&s!==o&&!(U(s)&&s.includes(o))&&(t[u]=s?[].concat(s,o):o)}else u!==""&&(t[u]=i[u])}return t}function at(e,t,n,i=null){pt(e,t,7,[n,i])}const lc=Cr();let ac=0;function cc(e,t,n){const i=e.type,u=(t?t.appContext:e.appContext)||lc,s={uid:ac++,vnode:e,type:i,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ll(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sr(i,u),emitsOptions:Lr(i,u),emit:null,emitted:null,propsDefaults:se,inheritAttrs:i.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Qa.bind(null,s),e.ce&&e.ce(s),s}let we=null;const dc=()=>we||Ce;let Hi,ju;{const e=eu(),t=(n,i)=>{let u;return(u=e[n])||(u=e[n]=[]),u.push(i),s=>{u.length>1?u.forEach(o=>o(s)):u[0](s)}};Hi=t("__VUE_INSTANCE_SETTERS__",n=>we=n),ju=t("__VUE_SSR_SETTERS__",n=>Yn=n)}const pi=e=>{const t=we;return Hi(e),e.scope.on(),()=>{e.scope.off(),Hi(t)}},Ks=()=>{we&&we.scope.off(),Hi(null)};function Hr(e){return e.vnode.shapeFlag&4}let Yn=!1;function fc(e,t=!1,n=!1){t&&ju(t);const{props:i,children:u}=e.vnode,s=Hr(e);Oa(e,i,s,t),Ua(e,u,n);const o=s?hc(e,t):void 0;return t&&ju(!1),o}function hc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Aa);const{setup:i}=n;if(i){Bt();const u=e.setupContext=i.length>1?pc(e):null,s=pi(e),o=mi(i,e,0,[e.props,u]),r=Lo(o);if(qt(),s(),(r||e.sp)&&!gn(e)&&cr(e),r){if(o.then(Ks,Ks),t)return o.then(l=>{Xs(e,l)}).catch(l=>{iu(l,e,0)});e.asyncDep=o}else Xs(e,o)}else Ur(e)}function Xs(e,t,n){V(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=ur(t)),Ur(e)}function Ur(e,t,n){const i=e.type;e.render||(e.render=i.render||mt);{const u=pi(e);Bt();try{Ta(e)}finally{qt(),u()}}}const mc={get(e,t){return ke(e,"get",""),e[t]}};function pc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,mc),slots:e.slots,emit:e.emit,expose:t}}function lu(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ur(na(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Nn)return Nn[n](e)},has(t,n){return n in t||n in Nn}})):e.proxy}function bc(e,t=!0){return V(e)?e.displayName||e.name:e.name||t&&e.__name}function gc(e){return V(e)&&"__vccOpts"in e}const _c=(e,t)=>ra(e,t,Yn),xc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zu;const Qs=typeof window<"u"&&window.trustedTypes;if(Qs)try{Zu=Qs.createPolicy("vue",{createHTML:e=>e})}catch{}const Nr=Zu?e=>Zu.createHTML(e):e=>e,Cc="http://www.w3.org/2000/svg",yc="http://www.w3.org/1998/Math/MathML",Ct=typeof document<"u"?document:null,Js=Ct&&Ct.createElement("template"),vc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const u=t==="svg"?Ct.createElementNS(Cc,e):t==="mathml"?Ct.createElementNS(yc,e):n?Ct.createElement(e,{is:n}):Ct.createElement(e);return e==="select"&&i&&i.multiple!=null&&u.setAttribute("multiple",i.multiple),u},createText:e=>Ct.createTextNode(e),createComment:e=>Ct.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ct.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,u,s){const o=n?n.previousSibling:t.lastChild;if(u&&(u===s||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),n),!(u===s||!(u=u.nextSibling)););else{Js.innerHTML=Nr(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const r=Js.content;if(i==="svg"||i==="mathml"){const l=r.firstChild;for(;l.firstChild;)r.appendChild(l.firstChild);r.removeChild(l)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wc=Symbol("_vtc");function Ec(e,t,n){const i=e[wc];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ui=Symbol("_vod"),$r=Symbol("_vsh"),Ic={beforeMount(e,{value:t},{transition:n}){e[Ui]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):On(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),On(e,!0),i.enter(e)):i.leave(e,()=>{On(e,!1)}):On(e,t))},beforeUnmount(e,{value:t}){On(e,t)}};function On(e,t){e.style.display=t?e[Ui]:"none",e[$r]=!t}const Sc=Symbol(""),kc=/(^|;)\s*display\s*:/;function Dc(e,t,n){const i=e.style,u=pe(n);let s=!1;if(n&&!u){if(t)if(pe(t))for(const o of t.split(";")){const r=o.slice(0,o.indexOf(":")).trim();n[r]==null&&zi(i,r,"")}else for(const o in t)n[o]==null&&zi(i,o,"");for(const o in n)o==="display"&&(s=!0),zi(i,o,n[o])}else if(u){if(t!==n){const o=i[Sc];o&&(n+=";"+o),i.cssText=n,s=kc.test(n)}}else t&&e.removeAttribute("style");Ui in e&&(e[Ui]=s?i.display:"",e[$r]&&(i.display="none"))}const Ys=/\s*!important$/;function zi(e,t,n){if(U(n))n.forEach(i=>zi(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Ac(e,t);Ys.test(n)?e.setProperty(un(i),n.replace(Ys,""),"important"):e[i]=n}}const eo=["Webkit","Moz","ms"],vu={};function Ac(e,t){const n=vu[t];if(n)return n;let i=Ye(t);if(i!=="filter"&&i in e)return vu[t]=i;i=Yi(i);for(let u=0;u<eo.length;u++){const s=eo[u]+i;if(s in e)return vu[t]=s}return t}const to="http://www.w3.org/1999/xlink";function no(e,t,n,i,u,s=zl(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(to,t.slice(6,t.length)):e.setAttributeNS(to,t,n):n==null||s&&!qo(n)?e.removeAttribute(t):e.setAttribute(t,s?"":it(n)?String(n):n)}function io(e,t,n,i,u){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Nr(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const r=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(r!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const r=typeof e[t];r==="boolean"?n=qo(n):n==null&&r==="string"?(n="",o=!0):r==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(u||t)}function Vt(e,t,n,i){e.addEventListener(t,n,i)}function Tc(e,t,n,i){e.removeEventListener(t,n,i)}const uo=Symbol("_vei");function Fc(e,t,n,i,u=null){const s=e[uo]||(e[uo]={}),o=s[t];if(i&&o)o.value=i;else{const[r,l]=Mc(t);if(i){const a=s[t]=Lc(i,u);Vt(e,r,a,l)}else o&&(Tc(e,r,o,l),s[t]=void 0)}}const so=/(?:Once|Passive|Capture)$/;function Mc(e){let t;if(so.test(e)){t={};let i;for(;i=e.match(so);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):un(e.slice(2)),t]}let wu=0;const zc=Promise.resolve(),Pc=()=>wu||(zc.then(()=>wu=0),wu=Date.now());function Lc(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;pt(Rc(i,n.value),t,5,[i])};return n.value=e,n.attached=Pc(),n}function Rc(e,t){if(U(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>u=>!u._stopped&&i&&i(u))}else return t}const oo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Oc=(e,t,n,i,u,s)=>{const o=u==="svg";t==="class"?Ec(e,i,o):t==="style"?Dc(e,n,i):Xi(t)?es(t)||Fc(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bc(e,t,i,o))?(io(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&no(e,t,i,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!pe(i))?io(e,Ye(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),no(e,t,i,o))};function Bc(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&oo(t)&&V(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const u=e.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return oo(t)&&pe(n)?!1:t in e}const Ni=e=>{const t=e.props["onUpdate:modelValue"]||!1;return U(t)?n=>Ai(t,n):t};function qc(e){e.target.composing=!0}function ro(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xn=Symbol("_assign"),Wt={created(e,{modifiers:{lazy:t,trim:n,number:i}},u){e[xn]=Ni(u);const s=i||u.props&&u.props.type==="number";Vt(e,t?"change":"input",o=>{if(o.target.composing)return;let r=e.value;n&&(r=r.trim()),s&&(r=Ru(r)),e[xn](r)}),n&&Vt(e,"change",()=>{e.value=e.value.trim()}),t||(Vt(e,"compositionstart",qc),Vt(e,"compositionend",ro),Vt(e,"change",ro))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:u,number:s}},o){if(e[xn]=Ni(o),e.composing)return;const r=(s||e.type==="number")&&!/^0\d/.test(e.value)?Ru(e.value):e.value,l=t??"";r!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||u&&e.value.trim()===l)||(e.value=l))}},Ii={deep:!0,created(e,t,n){e[xn]=Ni(n),Vt(e,"change",()=>{const i=e._modelValue,u=Hc(e),s=e.checked,o=e[xn];if(U(i)){const r=Ho(i,u),l=r!==-1;if(s&&!l)o(i.concat(u));else if(!s&&l){const a=[...i];a.splice(r,1),o(a)}}else if(Qi(i)){const r=new Set(i);s?r.add(u):r.delete(u),o(r)}else o(Wr(e,s))})},mounted:lo,beforeUpdate(e,t,n){e[xn]=Ni(n),lo(e,t,n)}};function lo(e,{value:t,oldValue:n},i){e._modelValue=t;let u;if(U(t))u=Ho(t,i.props.value)>-1;else if(Qi(t))u=t.has(i.props.value);else{if(t===n)return;u=tu(t,Wr(e,!0))}e.checked!==u&&(e.checked=u)}function Hc(e){return"_value"in e?e._value:e.value}function Wr(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Uc=["ctrl","shift","alt","meta"],Nc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Uc.some(n=>e[`${n}Key`]&&!t.includes(n))},$c=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(u,...s)=>{for(let o=0;o<t.length;o++){const r=Nc[t[o]];if(r&&r(u,t))return}return e(u,...s)})},Wc=Ae({patchProp:Oc},vc);let ao;function Vc(){return ao||(ao=$a(Wc))}const jc=(...e)=>{const t=Vc().createApp(...e),{mount:n}=t;return t.mount=i=>{const u=Gc(i);if(!u)return;const s=t._component;!V(s)&&!s.render&&!s.template&&(s.template=u.innerHTML),u.nodeType===1&&(u.textContent="");const o=n(u,!1,Zc(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),o},t};function Zc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Gc(e){return pe(e)?document.querySelector(e):e}class xs extends Error{constructor(t,n){super(n),this.type=t}}class Kt extends xs{constructor(t,n){super("Configuration",t),this.node=n}}class Kc extends xs{constructor(t){super("PopoutBlocked",t)}}class Xc extends xs{constructor(t){super("Bind",t)}}class au extends Error{constructor(t,n,i){super(`${t}: ${n}${i===void 0?"":": "+i}`)}}class J extends au{constructor(t,n){super("Assert",t,n)}}class je extends au{constructor(t,n,i){super("UnreachableCase",t,`${n}${i===void 0?"":": "+i}`)}}class ae extends au{constructor(t,n){super("UnexpectedNull",t,n)}}class j extends au{constructor(t,n){super("UnexpectedUndefined",t,n)}}var $i;(function(e){let t=!1;const n={PopoutCannotBeCreatedWithGroundItemConfig:{id:0,default:"Popout cannot be created with ground ItemConfig"},PleaseRegisterAConstructorFunction:{id:1,default:"Please register a constructor function"},ComponentTypeNotRegisteredAndBindComponentEventHandlerNotAssigned:{id:2,default:"Component type not registered and BindComponentEvent handler not assigned"},ComponentIsAlreadyRegistered:{id:3,default:"Component is already registered"},ComponentIsNotVirtuable:{id:4,default:"Component is not virtuable. Requires rootHtmlElement field/getter"},VirtualComponentDoesNotHaveRootHtmlElement:{id:5,default:'Virtual component does not have getter "rootHtmlElement"'},ItemConfigIsNotTypeComponent:{id:6,default:"ItemConfig is not of type component"},InvalidNumberPartInSizeString:{id:7,default:"Invalid number part in size string"},UnknownUnitInSizeString:{id:8,default:"Unknown unit in size string"},UnsupportedUnitInSizeString:{id:9,default:"Unsupported unit in size string"}};e.idCount=Object.keys(n).length;const i=Object.values(n);function u(){if(!t)for(let s=0;s<e.idCount;s++){const o=i[s];if(o.id!==s)throw new J("INSI00110",`${s}: ${o.id}`);Xt[s]=o.default}t=!0}e.checkInitialise=u})($i||($i={}));const Xt=new Array($i.idCount);var Vn;(function(e){e.defaultComponentBaseZIndex="auto",e.defaultComponentDragZIndex="32",e.defaultComponentStackMaximisedZIndex="41"})(Vn||(Vn={}));var Wi;(function(e){e.width="width",e.height="height"})(Wi||(Wi={}));var zt;(function(e){e.top="top",e.left="left",e.right="right",e.bottom="bottom"})(zt||(zt={}));var jn;(function(e){e.base="base",e.drag="drag",e.stackMaximised="stackMaximised"})(jn||(jn={}));const Qc={base:Vn.defaultComponentBaseZIndex,drag:Vn.defaultComponentDragZIndex,stackMaximised:Vn.defaultComponentStackMaximisedZIndex};var co;(function(e){function t(i){return n(i)}e.isJson=t;function n(i){return!Array.isArray(i)&&i!==null&&typeof i=="object"}e.isJsonObject=n})(co||(co={}));var A;(function(e){e.ground="ground",e.row="row",e.column="column",e.stack="stack",e.component="component"})(A||(A={}));var ei;(function(e){e.none="none",e.always="always",e.onload="onload"})(ei||(ei={}));var Q;(function(e){e.Pixel="px",e.Percent="%",e.Fractional="fr",e.Em="em"})(Q||(Q={}));(function(e){function t(i){switch(i){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:return}}e.tryParse=t;function n(i){switch(i){case e.Pixel:return e.Pixel;case e.Percent:return e.Percent;case e.Fractional:return e.Fractional;case e.Em:return e.Em;default:throw new je("SUEF44998",i)}}e.format=n})(Q||(Q={}));function Y(e){return e.toString(10)+"px"}function dn(e){const t=e.replace("px","");return parseFloat(t)}function Jc(e){e=e.trimStart();const t=e.length;if(t===0)return{numericPart:"",firstNonNumericCharPart:""};{let n=t,i=!1;for(let o=0;o<t;o++){const r=e[o];if(!Yc(r))if(r!=="."){n=o;break}else if(i){n=o;break}else i=!0}const u=e.substring(0,n),s=e.substring(n).trim();return{numericPart:u,firstNonNumericCharPart:s}}}function Yc(e){return e>="0"&&e<="9"}function ed(e){return e.offsetWidth}function Xe(e,t){const n=Y(t);e.style.width=n}function td(e){return e.offsetHeight}function Qe(e,t){const n=Y(t);e.style.height=n}function Tt(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Qt(e,t){t?e.style.display="":e.style.display="none"}function jt(e,t){if(t!==void 0){for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],u=e[n];e[n]=ti(u,i)}}return e}function ti(e,t){if(typeof t!="object")return t;if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let u=0;u<n;u++){const s=t[u];i[u]=ti({},s)}return i}else{if(t===null)return null;{const n=t;return e===void 0?jt({},n):typeof e!="object"?jt({},n):Array.isArray(e)?jt({},n):jt(e===null?{}:e,n)}}}function nd(e,t){const n=t.indexOf(e);if(n===-1)throw new Error("Can't remove item from array. Item is not in the array");t.splice(n,1)}function Vr(){return(Math.random()*1e15).toString(36).replace(".","")}function id(e){return e instanceof Error?e.message:typeof e=="string"?e:"Unknown Error"}var ni;(function(e){const t=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentType","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],n=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"];function i(){if(t.length>36)throw new Error("Too many keys in config minifier map")}e.checkInitialise=i;function u(f,m){const g={};for(const _ in f)if(f.hasOwnProperty(_)){let x;m?x=r(_):x=l(_);const v=f[_];g[x]=o(v,m)}return g}e.translateObject=u;function s(f,m){const g=f.length,_=new Array(g);for(let x=0;x<g;x++){const v=f[x];_[x]=o(v,m)}return _}function o(f,m){return typeof f=="object"?f===null?null:Array.isArray(f)?s(f,m):u(f,m):m?a(f):c(f)}function r(f){if(typeof f=="string"&&f.length===1)return"___"+f;const m=d(f);return m===-1?f:m.toString(36)}function l(f){return f.length===1?t[parseInt(f,36)]:f.substr(0,3)==="___"?f[3]:f}function a(f){if(typeof f=="string"&&f.length===1)return"___"+f;const m=h(f);return m===-1?f:m.toString(36)}function c(f){return typeof f=="string"&&f.length===1?n[parseInt(f,36)]:typeof f=="string"&&f.substr(0,3)==="___"?f[3]:f}function d(f){for(let m=0;m<t.length;m++)if(t[m]===f)return m;return-1}function h(f){for(let m=0;m<n.length;m++)if(n[m]===f)return m;return-1}})(ni||(ni={}));var Z;(function(e){e.defaults={type:A.ground,content:[],size:1,sizeUnit:Q.Fractional,minSize:void 0,minSizeUnit:Q.Pixel,id:"",isClosable:!0};function t(o,r){switch(o.type){case A.ground:case A.row:case A.column:return Sn.createCopy(o,r);case A.stack:return Et.createCopy(o,r);case A.component:return In.createCopy(o);default:throw new je("CICC91354",o.type,"Invalid Config Item type specified")}}e.createCopy=t;function n(o){switch(o){case A.ground:throw new J("CICCDR91562");case A.row:case A.column:return Sn.createDefault(o);case A.stack:return Et.createDefault();case A.component:return In.createDefault();default:throw new je("CICCDD91563",o,"Invalid Config Item type specified")}}e.createDefault=n;function i(o){return o.type===A.component}e.isComponentItem=i;function u(o){return o.type===A.stack}e.isStackItem=u;function s(o){return o.type===A.ground}e.isGroundItem=s})(Z||(Z={}));var et;(function(e){e.defaultMaximised=!1,function(t){function n(i,u){if(i!==void 0)return{show:u??i.show,popout:i.popout,close:i.close,maximise:i.maximise,minimise:i.minimise,tabDropdown:i.tabDropdown}}t.createCopy=n}(e.Header||(e.Header={}))})(et||(et={}));var Et;(function(e){e.defaultActiveItemIndex=0;function t(u,s){return{type:u.type,content:n(s!==void 0?s:u.content),size:u.size,sizeUnit:u.sizeUnit,minSize:u.minSize,minSizeUnit:u.minSizeUnit,id:u.id,maximised:u.maximised,isClosable:u.isClosable,activeItemIndex:u.activeItemIndex,header:et.Header.createCopy(u.header)}}e.createCopy=t;function n(u){const s=u.length,o=new Array(s);for(let r=0;r<s;r++)o[r]=Z.createCopy(u[r]);return o}e.copyContent=n;function i(){return{type:A.stack,content:[],size:Z.defaults.size,sizeUnit:Z.defaults.sizeUnit,minSize:Z.defaults.minSize,minSizeUnit:Z.defaults.minSizeUnit,id:Z.defaults.id,maximised:et.defaultMaximised,isClosable:Z.defaults.isClosable,activeItemIndex:e.defaultActiveItemIndex,header:void 0}}e.createDefault=i})(Et||(Et={}));var In;(function(e){e.defaultReorderEnabled=!0;function t(s){const o=s.componentType;if(typeof o=="string")return o}e.resolveComponentTypeName=t;function n(s){return{type:s.type,content:[],size:s.size,sizeUnit:s.sizeUnit,minSize:s.minSize,minSizeUnit:s.minSizeUnit,id:s.id,maximised:s.maximised,isClosable:s.isClosable,reorderEnabled:s.reorderEnabled,title:s.title,header:et.Header.createCopy(s.header),componentType:s.componentType,componentState:ti(void 0,s.componentState)}}e.createCopy=n;function i(s="",o,r=""){return{type:A.component,content:[],size:Z.defaults.size,sizeUnit:Z.defaults.sizeUnit,minSize:Z.defaults.minSize,minSizeUnit:Z.defaults.minSizeUnit,id:Z.defaults.id,maximised:et.defaultMaximised,isClosable:Z.defaults.isClosable,reorderEnabled:e.defaultReorderEnabled,title:r,header:void 0,componentType:s,componentState:o}}e.createDefault=i;function u(s){return ti({},s)}e.copyComponentType=u})(In||(In={}));var Sn;(function(e){function t(s){switch(s.type){case A.row:case A.column:case A.stack:case A.component:return!0;case A.ground:return!1;default:throw new je("CROCOSPCICIC13687",s.type)}}e.isChildItemConfig=t;function n(s,o){return{type:s.type,content:i(o!==void 0?o:s.content),size:s.size,sizeUnit:s.sizeUnit,minSize:s.minSize,minSizeUnit:s.minSizeUnit,id:s.id,isClosable:s.isClosable}}e.createCopy=n;function i(s){const o=s.length,r=new Array(o);for(let l=0;l<o;l++)r[l]=Z.createCopy(s[l]);return r}e.copyContent=i;function u(s){return{type:s,content:[],size:Z.defaults.size,sizeUnit:Z.defaults.sizeUnit,minSize:Z.defaults.minSize,minSizeUnit:Z.defaults.minSizeUnit,id:Z.defaults.id,isClosable:Z.defaults.isClosable}}e.createDefault=u})(Sn||(Sn={}));var tn;(function(e){function t(i){return Z.createCopy(i)}e.createCopy=t;function n(i){switch(i.type){case A.row:case A.column:case A.stack:case A.component:return!0;case A.ground:return!1;default:throw new je("CROCOSPCICIC13687",i.type)}}e.isRootItemConfig=n})(tn||(tn={}));var Gu;(function(e){function t(n){const i=n===void 0?[]:[n];return{type:A.ground,content:i,size:100,sizeUnit:Q.Percent,minSize:0,minSizeUnit:Q.Pixel,id:"",isClosable:!1,title:"",reorderEnabled:!1}}e.create=t})(Gu||(Gu={}));var N;(function(e){(function(r){r.defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:ei.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,popInOnClose:!1};function l(a){return{constrainDragToContainer:a.constrainDragToContainer,reorderEnabled:a.reorderEnabled,popoutWholeStack:a.popoutWholeStack,blockedPopoutsThrowError:a.blockedPopoutsThrowError,closePopoutsOnUnload:a.closePopoutsOnUnload,responsiveMode:a.responsiveMode,tabOverlapAllowance:a.tabOverlapAllowance,reorderOnTabMenuClick:a.reorderOnTabMenuClick,tabControlOffset:a.tabControlOffset,popInOnClose:a.popInOnClose}}r.createCopy=l})(e.Settings||(e.Settings={})),function(r){function l(a){return{borderWidth:a.borderWidth,borderGrabWidth:a.borderGrabWidth,defaultMinItemHeight:a.defaultMinItemHeight,defaultMinItemHeightUnit:a.defaultMinItemHeightUnit,defaultMinItemWidth:a.defaultMinItemWidth,defaultMinItemWidthUnit:a.defaultMinItemWidthUnit,headerHeight:a.headerHeight,dragProxyWidth:a.dragProxyWidth,dragProxyHeight:a.dragProxyHeight}}r.createCopy=l,r.defaults={borderWidth:5,borderGrabWidth:5,defaultMinItemHeight:0,defaultMinItemHeightUnit:Q.Pixel,defaultMinItemWidth:10,defaultMinItemWidthUnit:Q.Pixel,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200}}(e.Dimensions||(e.Dimensions={})),function(r){function l(a){return{show:a.show,popout:a.popout,dock:a.dock,close:a.close,maximise:a.maximise,minimise:a.minimise,tabDropdown:a.tabDropdown}}r.createCopy=l,r.defaults={show:zt.top,popout:"open in new window",dock:"dock",maximise:"maximise",minimise:"minimise",close:"close",tabDropdown:"additional tabs"}}(e.Header||(e.Header={}));function t(r){return"parentId"in r}e.isPopout=t;function n(){return{root:void 0,openPopouts:[],dimensions:e.Dimensions.defaults,settings:e.Settings.defaults,header:e.Header.defaults,resolved:!0}}e.createDefault=n;function i(r){return t(r)?ii.createCopy(r):{root:r.root===void 0?void 0:tn.createCopy(r.root),openPopouts:e.copyOpenPopouts(r.openPopouts),settings:e.Settings.createCopy(r.settings),dimensions:e.Dimensions.createCopy(r.dimensions),header:e.Header.createCopy(r.header),resolved:r.resolved}}e.createCopy=i;function u(r){const l=r.length,a=new Array(l);for(let c=0;c<l;c++)a[c]=ii.createCopy(r[c]);return a}e.copyOpenPopouts=u;function s(r){return ni.translateObject(r,!0)}e.minifyConfig=s;function o(r){return ni.translateObject(r,!1)}e.unminifyConfig=o})(N||(N={}));var ii;(function(e){(function(n){function i(u){return{width:u.width,height:u.height,left:u.left,top:u.top}}n.createCopy=i,n.defaults={width:null,height:null,left:null,top:null}})(e.Window||(e.Window={}));function t(n){return{root:n.root===void 0?void 0:tn.createCopy(n.root),openPopouts:N.copyOpenPopouts(n.openPopouts),settings:N.Settings.createCopy(n.settings),dimensions:N.Dimensions.createCopy(n.dimensions),header:N.Header.createCopy(n.header),parentId:n.parentId,indexInParent:n.indexInParent,window:e.Window.createCopy(n.window),resolved:n.resolved}}e.createCopy=t})(ii||(ii={}));var fe;(function(e){function t(h,f){switch(h.type){case A.ground:throw new Kt("ItemConfig cannot specify type ground",JSON.stringify(h));case A.row:case A.column:return Vi.resolve(h,f);case A.stack:return ui.resolve(h,f);case A.component:return Pt.resolve(h,f);default:throw new je("UCUICR55499",h.type)}}e.resolve=t;function n(h){if(h===void 0)return[];{const f=h.length,m=new Array(f);for(let g=0;g<f;g++)m[g]=e.resolve(h[g],!1);return m}}e.resolveContent=n;function i(h){return h===void 0?Z.defaults.id:Array.isArray(h)?h.length===0?Z.defaults.id:h[0]:h}e.resolveId=i;function u(h,f,m,g){if(h!==void 0)return ji(h,[Q.Percent,Q.Fractional]);if(f!==void 0||m!==void 0){if(f!==void 0)return{size:f,sizeUnit:Q.Percent};if(m!==void 0)return{size:m,sizeUnit:Q.Percent};throw new j("CRS33390")}else return g?{size:50,sizeUnit:Q.Percent}:{size:Z.defaults.size,sizeUnit:Z.defaults.sizeUnit}}e.resolveSize=u;function s(h,f,m){if(h!==void 0)return ji(h,[Q.Pixel]);{const g=f!==void 0;return g||m!==void 0?g?{size:f,sizeUnit:Q.Pixel}:{size:m,sizeUnit:Q.Pixel}:{size:Z.defaults.minSize,sizeUnit:Z.defaults.minSizeUnit}}}e.resolveMinSize=s;function o(h){return h.size!==void 0?1:h.width!==void 0||h.height!==void 0?2:0}e.calculateSizeWidthHeightSpecificationType=o;function r(h){return h.type===A.ground}e.isGround=r;function l(h){return h.type===A.row}e.isRow=l;function a(h){return h.type===A.column}e.isColumn=a;function c(h){return h.type===A.stack}e.isStack=c;function d(h){return h.type===A.component}e.isComponent=d})(fe||(fe={}));var kn;(function(e){const t="__glMaximised";(function(i){function u(s,o){var r;if(!(s===void 0&&o===void 0))return{show:(r=s==null?void 0:s.show)!==null&&r!==void 0?r:o===void 0?void 0:o?N.Header.defaults.show:!1,popout:s==null?void 0:s.popout,maximise:s==null?void 0:s.maximise,close:s==null?void 0:s.close,minimise:s==null?void 0:s.minimise,tabDropdown:s==null?void 0:s.tabDropdown}}i.resolve=u})(e.Header||(e.Header={}));function n(i){let u,s=i.id,o=!1;if(s===void 0)u=Z.defaults.id;else if(Array.isArray(s)){const l=s.findIndex(a=>a===t);l>0&&(o=!0,s=s.splice(l,1)),s.length>0?u=s[0]:u=Z.defaults.id}else u=s;let r;return i.maximised!==void 0?r=i.maximised:r=o,{id:u,maximised:r}}e.resolveIdAndMaximised=n})(kn||(kn={}));var ui;(function(e){function t(s,o){var r,l;const{id:a,maximised:c}=kn.resolveIdAndMaximised(s),{size:d,sizeUnit:h}=fe.resolveSize(s.size,s.width,s.height,o),{size:f,sizeUnit:m}=fe.resolveMinSize(s.minSize,s.minWidth,s.minHeight);return{type:A.stack,content:i(s.content),size:d,sizeUnit:h,minSize:f,minSizeUnit:m,id:a,maximised:c,isClosable:(r=s.isClosable)!==null&&r!==void 0?r:Z.defaults.isClosable,activeItemIndex:(l=s.activeItemIndex)!==null&&l!==void 0?l:Et.defaultActiveItemIndex,header:kn.Header.resolve(s.header,s.hasHeaders)}}e.resolve=t;function n(s){return{type:A.stack,content:u(s.content),size:si(s.size,s.sizeUnit),minSize:Cs(s.minSize,s.minSizeUnit),id:s.id,maximised:s.maximised,isClosable:s.isClosable,activeItemIndex:s.activeItemIndex,header:et.Header.createCopy(s.header)}}e.fromResolved=n;function i(s){if(s===void 0)return[];{const o=s.length,r=new Array(o);for(let l=0;l<o;l++){const a=s[l],c=fe.resolve(a,!1);if(Z.isComponentItem(c))r[l]=c;else throw new J("UCUSICRC91114",JSON.stringify(c))}return r}}function u(s){const o=s.length,r=new Array(o);for(let l=0;l<o;l++){const a=s[l];r[l]=Pt.fromResolved(a)}return r}})(ui||(ui={}));var Pt;(function(e){function t(u,s){var o,r,l;let a=u.componentType;if(a===void 0&&(a=u.componentName),a===void 0)throw new Error("ComponentItemConfig.componentType is undefined");{const{id:c,maximised:d}=kn.resolveIdAndMaximised(u);let h;u.title===void 0||u.title===""?h=e.componentTypeToTitle(a):h=u.title;const{size:f,sizeUnit:m}=fe.resolveSize(u.size,u.width,u.height,s),{size:g,sizeUnit:_}=fe.resolveMinSize(u.minSize,u.minWidth,u.minHeight);return{type:u.type,content:[],size:f,sizeUnit:m,minSize:g,minSizeUnit:_,id:c,maximised:d,isClosable:(o=u.isClosable)!==null&&o!==void 0?o:Z.defaults.isClosable,reorderEnabled:(r=u.reorderEnabled)!==null&&r!==void 0?r:In.defaultReorderEnabled,title:h,header:kn.Header.resolve(u.header,u.hasHeaders),componentType:a,componentState:(l=u.componentState)!==null&&l!==void 0?l:{}}}}e.resolve=t;function n(u){return{type:A.component,size:si(u.size,u.sizeUnit),minSize:Cs(u.minSize,u.minSizeUnit),id:u.id,maximised:u.maximised,isClosable:u.isClosable,reorderEnabled:u.reorderEnabled,title:u.title,header:et.Header.createCopy(u.header),componentType:u.componentType,componentState:ti(void 0,u.componentState)}}e.fromResolved=n;function i(u){switch(typeof u){case"string":return u;case"number":return u.toString();case"boolean":return u.toString();default:return""}}e.componentTypeToTitle=i})(Pt||(Pt={}));var Vi;(function(e){function t(o){switch(o.type){case A.row:case A.column:case A.stack:case A.component:return!0;case A.ground:return!1;default:throw new je("UROCOSPCICIC13687",o.type)}}e.isChildItemConfig=t;function n(o,r){var l;const{size:a,sizeUnit:c}=fe.resolveSize(o.size,o.width,o.height,r),{size:d,sizeUnit:h}=fe.resolveMinSize(o.minSize,o.minWidth,o.minHeight);return{type:o.type,content:e.resolveContent(o.content),size:a,sizeUnit:c,minSize:d,minSizeUnit:h,id:fe.resolveId(o.id),isClosable:(l=o.isClosable)!==null&&l!==void 0?l:Z.defaults.isClosable}}e.resolve=n;function i(o){return{type:o.type,content:s(o.content),size:si(o.size,o.sizeUnit),minSize:Cs(o.minSize,o.minSizeUnit),id:o.id,isClosable:o.isClosable}}e.fromResolved=i;function u(o){if(o===void 0)return[];{const r=o.length,l=new Array(r);let a=!1,c=!1;for(let f=0;f<r;f++){const m=o[f];if(e.isChildItemConfig(m)){if(!c){const g=fe.calculateSizeWidthHeightSpecificationType(m);switch(g){case 0:break;case 2:a=!0;break;case 1:c=!0;break;default:throw new je("ROCICRC87556",g)}}l[f]=m}else throw new Kt("ItemConfig is not Row, Column or Stack",m)}let d;c?d=!1:a?d=!0:d=!1;const h=new Array(r);for(let f=0;f<r;f++){const m=l[f],g=fe.resolve(m,d);if(Sn.isChildItemConfig(g))h[f]=g;else throw new J("UROCOSPIC99512",JSON.stringify(g))}return h}}e.resolveContent=u;function s(o){const r=o.length,l=new Array(r);for(let a=0;a<r;a++){const c=o[a],d=c.type;let h;switch(d){case A.row:case A.column:h=e.fromResolved(c);break;case A.stack:h=ui.fromResolved(c);break;case A.component:h=Pt.fromResolved(c);break;default:throw new je("ROCICFRC44797",d)}l[a]=h}return l}})(Vi||(Vi={}));var Dn;(function(e){function t(u){switch(u.type){case A.row:case A.column:case A.stack:case A.component:return!0;case A.ground:return!1;default:throw new je("URICIR23687",u.type)}}e.isRootItemConfig=t;function n(u){if(u!==void 0){const s=fe.resolve(u,!1);if(tn.isRootItemConfig(s))return s;throw new Kt("ItemConfig is not Row, Column or Stack",JSON.stringify(u))}}e.resolve=n;function i(u){if(u!==void 0){const s=u.type;switch(s){case A.row:case A.column:return Vi.fromResolved(u);case A.stack:return ui.fromResolved(u);case A.component:return Pt.fromResolved(u);default:throw new je("RICFROU89921",s)}}}e.fromResolvedOrUndefined=i})(Dn||(Dn={}));var $e;(function(e){(function(o){function r(l){var a,c,d,h,f,m,g,_,x,v;return{constrainDragToContainer:(a=l==null?void 0:l.constrainDragToContainer)!==null&&a!==void 0?a:N.Settings.defaults.constrainDragToContainer,reorderEnabled:(c=l==null?void 0:l.reorderEnabled)!==null&&c!==void 0?c:N.Settings.defaults.reorderEnabled,popoutWholeStack:(d=l==null?void 0:l.popoutWholeStack)!==null&&d!==void 0?d:N.Settings.defaults.popoutWholeStack,blockedPopoutsThrowError:(h=l==null?void 0:l.blockedPopoutsThrowError)!==null&&h!==void 0?h:N.Settings.defaults.blockedPopoutsThrowError,closePopoutsOnUnload:(f=l==null?void 0:l.closePopoutsOnUnload)!==null&&f!==void 0?f:N.Settings.defaults.closePopoutsOnUnload,responsiveMode:(m=l==null?void 0:l.responsiveMode)!==null&&m!==void 0?m:N.Settings.defaults.responsiveMode,tabOverlapAllowance:(g=l==null?void 0:l.tabOverlapAllowance)!==null&&g!==void 0?g:N.Settings.defaults.tabOverlapAllowance,reorderOnTabMenuClick:(_=l==null?void 0:l.reorderOnTabMenuClick)!==null&&_!==void 0?_:N.Settings.defaults.reorderOnTabMenuClick,tabControlOffset:(x=l==null?void 0:l.tabControlOffset)!==null&&x!==void 0?x:N.Settings.defaults.tabControlOffset,popInOnClose:(v=l==null?void 0:l.popInOnClose)!==null&&v!==void 0?v:N.Settings.defaults.popInOnClose}}o.resolve=r})(e.Settings||(e.Settings={})),function(o){function r(d){var h,f,m,g,_;const{size:x,sizeUnit:v}=o.resolveDefaultMinItemHeight(d),{size:w,sizeUnit:C}=o.resolveDefaultMinItemWidth(d);return{borderWidth:(h=d==null?void 0:d.borderWidth)!==null&&h!==void 0?h:N.Dimensions.defaults.borderWidth,borderGrabWidth:(f=d==null?void 0:d.borderGrabWidth)!==null&&f!==void 0?f:N.Dimensions.defaults.borderGrabWidth,defaultMinItemHeight:x,defaultMinItemHeightUnit:v,defaultMinItemWidth:w,defaultMinItemWidthUnit:C,headerHeight:(m=d==null?void 0:d.headerHeight)!==null&&m!==void 0?m:N.Dimensions.defaults.headerHeight,dragProxyWidth:(g=d==null?void 0:d.dragProxyWidth)!==null&&g!==void 0?g:N.Dimensions.defaults.dragProxyWidth,dragProxyHeight:(_=d==null?void 0:d.dragProxyHeight)!==null&&_!==void 0?_:N.Dimensions.defaults.dragProxyHeight}}o.resolve=r;function l(d){return{borderWidth:d.borderWidth,borderGrabWidth:d.borderGrabWidth,defaultMinItemHeight:si(d.defaultMinItemHeight,d.defaultMinItemHeightUnit),defaultMinItemWidth:si(d.defaultMinItemWidth,d.defaultMinItemWidthUnit),headerHeight:d.headerHeight,dragProxyWidth:d.dragProxyWidth,dragProxyHeight:d.dragProxyHeight}}o.fromResolved=l;function a(d){const h=d==null?void 0:d.defaultMinItemHeight;return h===void 0?{size:N.Dimensions.defaults.defaultMinItemHeight,sizeUnit:N.Dimensions.defaults.defaultMinItemHeightUnit}:ji(h,[Q.Pixel])}o.resolveDefaultMinItemHeight=a;function c(d){const h=d==null?void 0:d.defaultMinItemWidth;return h===void 0?{size:N.Dimensions.defaults.defaultMinItemWidth,sizeUnit:N.Dimensions.defaults.defaultMinItemWidthUnit}:ji(h,[Q.Pixel])}o.resolveDefaultMinItemWidth=c}(e.Dimensions||(e.Dimensions={})),function(o){function r(l,a,c){var d,h,f,m,g,_,x,v,w,C,I,T;let L;return(l==null?void 0:l.show)!==void 0?L=l.show:a!==void 0&&a.hasHeaders!==void 0?L=a.hasHeaders?N.Header.defaults.show:!1:L=N.Header.defaults.show,{show:L,popout:(h=(d=l==null?void 0:l.popout)!==null&&d!==void 0?d:c==null?void 0:c.popout)!==null&&h!==void 0?h:(a==null?void 0:a.showPopoutIcon)===!1?!1:N.Header.defaults.popout,dock:(m=(f=l==null?void 0:l.popin)!==null&&f!==void 0?f:c==null?void 0:c.popin)!==null&&m!==void 0?m:N.Header.defaults.dock,maximise:(_=(g=l==null?void 0:l.maximise)!==null&&g!==void 0?g:c==null?void 0:c.maximise)!==null&&_!==void 0?_:(a==null?void 0:a.showMaximiseIcon)===!1?!1:N.Header.defaults.maximise,close:(v=(x=l==null?void 0:l.close)!==null&&x!==void 0?x:c==null?void 0:c.close)!==null&&v!==void 0?v:(a==null?void 0:a.showCloseIcon)===!1?!1:N.Header.defaults.close,minimise:(C=(w=l==null?void 0:l.minimise)!==null&&w!==void 0?w:c==null?void 0:c.minimise)!==null&&C!==void 0?C:N.Header.defaults.minimise,tabDropdown:(T=(I=l==null?void 0:l.tabDropdown)!==null&&I!==void 0?I:c==null?void 0:c.tabDropdown)!==null&&T!==void 0?T:N.Header.defaults.tabDropdown}}o.resolve=r}(e.Header||(e.Header={}));function t(o){return"parentId"in o||"indexInParent"in o||"window"in o}e.isPopout=t;function n(o){if(t(o))return Zn.resolve(o);{let r;return o.root!==void 0?r=o.root:o.content!==void 0&&o.content.length>0?r=o.content[0]:r=void 0,{resolved:!0,root:Dn.resolve(r),openPopouts:e.resolveOpenPopouts(o.openPopouts),dimensions:e.Dimensions.resolve(o.dimensions),settings:e.Settings.resolve(o.settings),header:e.Header.resolve(o.header,o.settings,o.labels)}}}e.resolve=n;function i(o){return{root:Dn.fromResolvedOrUndefined(o.root),openPopouts:Zn.fromResolvedArray(o.openPopouts),settings:N.Settings.createCopy(o.settings),dimensions:e.Dimensions.fromResolved(o.dimensions),header:N.Header.createCopy(o.header)}}e.fromResolved=i;function u(o){const r=o;return r.resolved!==void 0&&r.resolved===!0}e.isResolved=u;function s(o){if(o===void 0)return[];{const r=o.length,l=new Array(r);for(let a=0;a<r;a++)l[a]=Zn.resolve(o[a]);return l}}e.resolveOpenPopouts=s})($e||($e={}));var Zn;(function(e){(function(u){function s(r,l){var a,c,d,h,f,m,g,_;let x;const v=ii.Window.defaults;return r!==void 0?x={width:(a=r.width)!==null&&a!==void 0?a:v.width,height:(c=r.height)!==null&&c!==void 0?c:v.height,left:(d=r.left)!==null&&d!==void 0?d:v.left,top:(h=r.top)!==null&&h!==void 0?h:v.top}:x={width:(f=l==null?void 0:l.width)!==null&&f!==void 0?f:v.width,height:(m=l==null?void 0:l.height)!==null&&m!==void 0?m:v.height,left:(g=l==null?void 0:l.left)!==null&&g!==void 0?g:v.left,top:(_=l==null?void 0:l.top)!==null&&_!==void 0?_:v.top},x}u.resolve=s;function o(r){return{width:r.width===null?void 0:r.width,height:r.height===null?void 0:r.height,left:r.left===null?void 0:r.left,top:r.top===null?void 0:r.top}}u.fromResolved=o})(e.Window||(e.Window={}));function t(u){var s,o;let r;return u.root!==void 0?r=u.root:u.content!==void 0&&u.content.length>0?r=u.content[0]:r=void 0,{root:Dn.resolve(r),openPopouts:$e.resolveOpenPopouts(u.openPopouts),dimensions:$e.Dimensions.resolve(u.dimensions),settings:$e.Settings.resolve(u.settings),header:$e.Header.resolve(u.header,u.settings,u.labels),parentId:(s=u.parentId)!==null&&s!==void 0?s:null,indexInParent:(o=u.indexInParent)!==null&&o!==void 0?o:null,window:e.Window.resolve(u.window,u.dimensions),resolved:!0}}e.resolve=t;function n(u){return{root:Dn.fromResolvedOrUndefined(u.root),openPopouts:i(u.openPopouts),dimensions:$e.Dimensions.fromResolved(u.dimensions),settings:N.Settings.createCopy(u.settings),header:N.Header.createCopy(u.header),parentId:u.parentId,indexInParent:u.indexInParent,window:e.Window.fromResolved(u.window)}}e.fromResolved=n;function i(u){const s=u.length,o=new Array(s);for(let r=0;r<s;r++){const l=u[r];o[r]=e.fromResolved(l)}return o}e.fromResolvedArray=i})(Zn||(Zn={}));function ji(e,t){const{numericPart:n,firstNonNumericCharPart:i}=Jc(e),u=Number.parseInt(n,10);if(isNaN(u))throw new Kt(`${Xt[7]}: ${e}`);{const s=Q.tryParse(i);if(s===void 0)throw new Kt(`${Xt[8]}: ${e}`);if(t.includes(s))return{size:u,sizeUnit:s};throw new Kt(`${Xt[9]}: ${e}`)}}function si(e,t){return e.toString(10)+Q.format(t)}function Cs(e,t){if(e!==void 0)return e.toString(10)+Q.format(t)}class me{constructor(){this._allEventSubscriptions=[],this._subscriptionsMap=new Map,this.unbind=this.removeEventListener,this.trigger=this.emit}tryBubbleEvent(t,n){}emit(t,...n){let i=this._subscriptionsMap.get(t);if(i!==void 0){i=i.slice();for(let u=0;u<i.length;u++){const s=i[u];s(...n)}}this.emitAllEvent(t,n),this.tryBubbleEvent(t,n)}emitUnknown(t,...n){let i=this._subscriptionsMap.get(t);if(i!==void 0){i=i.slice();for(let u=0;u<i.length;u++)i[u](...n)}this.emitAllEvent(t,n),this.tryBubbleEvent(t,n)}emitBaseBubblingEvent(t){const n=new me.BubblingEvent(t,this);this.emitUnknown(t,n)}emitUnknownBubblingEvent(t){const n=new me.BubblingEvent(t,this);this.emitUnknown(t,n)}removeEventListener(t,n){const i=n;this.removeUnknownEventListener(t,i)}off(t,n){this.removeEventListener(t,n)}addEventListener(t,n){const i=n;this.addUnknownEventListener(t,i)}on(t,n){this.addEventListener(t,n)}addUnknownEventListener(t,n){if(t===me.ALL_EVENT)this._allEventSubscriptions.push(n);else{let i=this._subscriptionsMap.get(t);i!==void 0?i.push(n):(i=[n],this._subscriptionsMap.set(t,i))}}removeUnknownEventListener(t,n){if(t===me.ALL_EVENT)this.removeSubscription(t,this._allEventSubscriptions,n);else{const i=this._subscriptionsMap.get(t);if(i===void 0)throw new Error("No subscribtions to unsubscribe for event "+t);this.removeSubscription(t,i,n)}}removeSubscription(t,n,i){const u=n.indexOf(i);if(u<0)throw new Error("Nothing to unbind for "+t);n.splice(u,1)}emitAllEvent(t,n){const i=this._allEventSubscriptions.length;if(i>0){const u=n.slice();u.unshift(t);const s=this._allEventSubscriptions.slice();for(let o=0;o<i;o++)s[o](...u)}}}(function(e){e.ALL_EVENT="__all",e.headerClickEventName="stackHeaderClick",e.headerTouchStartEventName="stackHeaderTouchStart";class t{constructor(s,o){this._name=s,this._target=o,this._isPropagationStopped=!1}get name(){return this._name}get target(){return this._target}get origin(){return this._target}get isPropagationStopped(){return this._isPropagationStopped}stopPropagation(){this._isPropagationStopped=!0}}e.BubblingEvent=t;class n extends t{constructor(s,o,r){super(s,o),this._mouseEvent=r}get mouseEvent(){return this._mouseEvent}}e.ClickBubblingEvent=n;class i extends t{constructor(s,o,r){super(s,o),this._touchEvent=r}get touchEvent(){return this._touchEvent}}e.TouchStartBubblingEvent=i})(me||(me={}));class ud extends me{constructor(t,n,i,u,s,o,r,l,a){super(),this._config=t,this._parent=n,this._layoutManager=i,this._element=u,this._updateItemConfigEvent=s,this._showEvent=o,this._hideEvent=r,this._focusEvent=l,this._blurEvent=a,this._stackMaximised=!1,this._width=0,this._height=0,this._visible=!0,this._isShownWithZeroDimensions=!0,this._componentType=t.componentType,this._isClosable=t.isClosable,this._initialState=t.componentState,this._state=this._initialState,this._boundComponent=this.layoutManager.bindComponent(this,t),this.updateElementPositionPropertyFromBoundComponent()}get width(){return this._width}get height(){return this._height}get parent(){return this._parent}get componentName(){return this._componentType}get componentType(){return this._componentType}get virtual(){return this._boundComponent.virtual}get component(){return this._boundComponent.component}get tab(){return this._tab}get title(){return this._parent.title}get layoutManager(){return this._layoutManager}get isHidden(){return!this._visible}get visible(){return this._visible}get state(){return this._state}get initialState(){return this._initialState}get element(){return this._element}destroy(){this.releaseComponent(),this.stateRequestEvent=void 0,this.emit("destroy")}getElement(){return this._element}hide(){this._hideEvent()}show(){this._showEvent()}focus(t=!1){this._focusEvent(t)}blur(t=!1){this._blurEvent(t)}setSize(t,n){let i=this._parent;if(i.isColumn||i.isRow||i.parent===null)throw new J("ICSSPRC","ComponentContainer cannot have RowColumn Parent");{let u;do u=i,i=i.parent;while(i!==null&&!i.isColumn&&!i.isRow);if(i===null)return!1;{const s=i.isColumn?"height":"width",o=this[s];if(o===null)throw new ae("ICSSCS11194");{const r=s==="height"?n:t,l=o*(1/(u.size/100)),a=r/l*100,c=(u.size-a)/(i.contentItems.length-1);for(let d=0;d<i.contentItems.length;d++){const h=i.contentItems[d];h===u?h.size=a:h.size+=c}return i.updateSize(!1),!0}}}}close(){this._isClosable&&(this.emit("close"),this._parent.close())}replaceComponent(t){if(this.releaseComponent(),fe.isComponent(t)){const n=Pt.resolve(t,!1);if(this._initialState=n.componentState,this._state=this._initialState,this._componentType=n.componentType,this._updateItemConfigEvent(n),this._boundComponent=this.layoutManager.bindComponent(this,n),this.updateElementPositionPropertyFromBoundComponent(),this._boundComponent.virtual){if(this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,this._visible),this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}this.setBaseLogicalZIndex()}this.emit("stateChanged")}else throw new Error("ReplaceComponent not passed a component ItemConfig")}getState(){return this._state}extendState(t){const n=jt(this._state,t);this.setState(n)}setState(t){this._state=t,this._parent.emitBaseBubblingEvent("stateChanged")}setTitle(t){this._parent.setTitle(t)}setTab(t){this._tab=t,this.emit("tab",t)}setVisibility(t){this._boundComponent.virtual&&this.virtualVisibilityChangeRequiredEvent!==void 0&&this.virtualVisibilityChangeRequiredEvent(this,t),t?this._visible?this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow()):(this._visible=!0,this._height===0&&this._width===0?this._isShownWithZeroDimensions=!0:(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow())):this._visible&&(this._visible=!1,this._isShownWithZeroDimensions=!1,this.emitHide())}setBaseLogicalZIndex(){this.setLogicalZIndex(jn.base)}setLogicalZIndex(t){t!==this._logicalZIndex&&(this._logicalZIndex=t,this.notifyVirtualZIndexChangeRequired())}enterDragMode(t,n){this._width=t,this._height=n,Xe(this._element,t),Qe(this._element,n),this.setLogicalZIndex(jn.drag),this.drag()}exitDragMode(){this.setBaseLogicalZIndex()}enterStackMaximised(){this._stackMaximised=!0,this.setLogicalZIndex(jn.stackMaximised)}exitStackMaximised(){this.setBaseLogicalZIndex(),this._stackMaximised=!1}drag(){if(this._boundComponent.virtual&&this.virtualRectingRequiredEvent!==void 0){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}}setSizeToNodeSize(t,n,i){(t!==this._width||n!==this._height||i)&&(this._width=t,this._height=n,Xe(this._element,t),Qe(this._element,n),this._boundComponent.virtual?this.addVirtualSizedContainerToLayoutManager():(this.emit("resize"),this.checkShownFromZeroDimensions()))}notifyVirtualRectingRequired(){this.virtualRectingRequiredEvent!==void 0&&(this.virtualRectingRequiredEvent(this,this._width,this._height),this.emit("resize"),this.checkShownFromZeroDimensions())}notifyVirtualZIndexChangeRequired(){if(this.virtualZIndexChangeRequiredEvent!==void 0){const t=this._logicalZIndex,n=Qc[t];this.virtualZIndexChangeRequiredEvent(this,t,n)}}updateElementPositionPropertyFromBoundComponent(){this._boundComponent.virtual?this._element.style.position="static":this._element.style.position=""}addVirtualSizedContainerToLayoutManager(){this._layoutManager.beginVirtualSizedContainerAdding();try{this._layoutManager.addVirtualSizedContainer(this)}finally{this._layoutManager.endVirtualSizedContainerAdding()}}checkShownFromZeroDimensions(){this._isShownWithZeroDimensions&&(this._height!==0||this._width!==0)&&(this._isShownWithZeroDimensions=!1,this.emitShow())}emitShow(){this.emit("shown"),this.emit("show")}emitHide(){this.emit("hide")}releaseComponent(){this._stackMaximised&&this.exitStackMaximised(),this.emit("beforeComponentRelease",this._boundComponent.component),this.layoutManager.unbindComponent(this,this._boundComponent.virtual,this._boundComponent.component)}}class sd extends me{constructor(t,n,i){super(),this._config=t,this._initialWindowSize=n,this._layoutManager=i,this._isInitialised=!1,this._popoutWindow=null,this.createWindow()}toConfig(){var t,n;if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");const u=this.getGlInstance().saveLayout();let s,o;this._popoutWindow===null?(s=null,o=null):(s=(t=this._popoutWindow.screenX)!==null&&t!==void 0?t:this._popoutWindow.screenLeft,o=(n=this._popoutWindow.screenY)!==null&&n!==void 0?n:this._popoutWindow.screenTop);const r={width:this.getGlInstance().width,height:this.getGlInstance().height,left:s,top:o};return{root:u.root,openPopouts:u.openPopouts,settings:u.settings,dimensions:u.dimensions,header:u.header,window:r,parentId:this._config.parentId,indexInParent:this._config.indexInParent,resolved:!0}}getGlInstance(){if(this._popoutWindow===null)throw new ae("BPGGI24693");return this._popoutWindow.__glInstance}getWindow(){if(this._popoutWindow===null)throw new ae("BPGW087215");return this._popoutWindow}close(){if(this.getGlInstance())this.getGlInstance().closeWindow();else try{this.getWindow().close()}catch{}}popIn(){let t,n=this._config.indexInParent;if(!this._config.parentId)return;const i=this.getGlInstance().saveLayout(),s=jt({},i).root;if(s===void 0)throw new j("BPPIR19998");const o=this._layoutManager.groundItem;if(o===void 0)throw new j("BPPIG34972");t=o.getItemsByPopInParentId(this._config.parentId)[0],t||(o.contentItems.length>0?t=o.contentItems[0]:t=o,n=0);const r=this._layoutManager.createAndInitContentItem(s,t);t.addChild(r,n),this._layoutManager.layoutConfig.settings.popInOnClose?this._onClose():this.close()}createWindow(){const t=this.createUrl(),n=Math.floor(Math.random()*1e6).toString(36),i=this.serializeWindowFeatures({width:this._initialWindowSize.width,height:this._initialWindowSize.height,innerWidth:this._initialWindowSize.width,innerHeight:this._initialWindowSize.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=globalThis.open(t,n,i),!this._popoutWindow){if(this._layoutManager.layoutConfig.settings.blockedPopoutsThrowError===!0)throw new Kc("Popout blocked");return}this._popoutWindow.addEventListener("load",()=>this.positionWindow(),{passive:!0}),this._popoutWindow.addEventListener("beforeunload",()=>{this._layoutManager.layoutConfig.settings.popInOnClose?this.popIn():this._onClose()},{passive:!0}),this._checkReadyInterval=setInterval(()=>this.checkReady(),10)}checkReady(){if(this._popoutWindow===null)throw new ae("BPCR01844");this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this.onInitialised(),this._checkReadyInterval!==void 0&&(clearInterval(this._checkReadyInterval),this._checkReadyInterval=void 0))}serializeWindowFeatures(t){const n=[];for(const i in t)n.push(i+"="+t[i].toString());return n.join(",")}createUrl(){const t="gl-window-config-"+Vr(),n=N.minifyConfig(this._config);try{localStorage.setItem(t,JSON.stringify(n))}catch(u){throw new Error("Error while writing to localStorage "+id(u))}const i=new URL(location.href);return i.searchParams.set("gl-window",t),i.toString()}positionWindow(){if(this._popoutWindow===null)throw new Error("BrowserPopout.positionWindow: null popoutWindow");this._popoutWindow.moveTo(this._initialWindowSize.left,this._initialWindowSize.top),this._popoutWindow.focus()}onInitialised(){this._isInitialised=!0,this.getGlInstance().on("popIn",()=>this.popIn()),this.emit("initialised")}_onClose(){setTimeout(()=>this.emit("closed"),50)}}class Ne extends me{constructor(t,n,i,u){super(),this.layoutManager=t,this._parent=i,this._element=u,this._popInParentIds=[],this._type=n.type,this._id=n.id,this._isInitialised=!1,this.isGround=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.size=n.size,this.sizeUnit=n.sizeUnit,this.minSize=n.minSize,this.minSizeUnit=n.minSizeUnit,this._isClosable=n.isClosable,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this._contentItems=this.createContentItems(n.content)}get type(){return this._type}get id(){return this._id}set id(t){this._id=t}get popInParentIds(){return this._popInParentIds}get parent(){return this._parent}get contentItems(){return this._contentItems}get isClosable(){return this._isClosable}get element(){return this._element}get isInitialised(){return this._isInitialised}static isStack(t){return t.isStack}static isComponentItem(t){return t.isComponent}static isComponentParentableItem(t){return t.isStack||t.isGround}removeChild(t,n=!1){const i=this._contentItems.indexOf(t);if(i===-1)throw new Error("Can't remove child item. Unknown content item");if(n||this._contentItems[i].destroy(),this._contentItems.splice(i,1),this._contentItems.length>0)this.updateSize(!1);else if(!this.isGround&&this._isClosable===!0){if(this._parent===null)throw new ae("CIUC00874");this._parent.removeChild(this)}}addChild(t,n,i){return n??(n=this._contentItems.length),this._contentItems.splice(n,0,t),t.setParent(this),this._isInitialised===!0&&t._isInitialised===!1&&t.init(),n}replaceChild(t,n,i=!1){const u=this._contentItems.indexOf(t),s=t._element.parentNode;if(u===-1)throw new J("CIRCI23232","Can't replace child. oldChild is not child of this");if(s===null)throw new ae("CIRCP23232");if(s.replaceChild(n._element,t._element),i===!0&&(t._parent=null,t.destroy()),this._contentItems[u]=n,n.setParent(this),n.size=t.size,n.sizeUnit=t.sizeUnit,n.minSize=t.minSize,n.minSizeUnit=t.minSizeUnit,n._parent===null)throw new ae("CIRCNC45699");n._parent._isInitialised===!0&&n._isInitialised===!1&&n.init(),this.updateSize(!1)}remove(){if(this._parent===null)throw new ae("CIR11110");this._parent.removeChild(this)}popout(){const t=Vr(),n=this.layoutManager.createPopoutFromContentItem(this,void 0,t,void 0);return this.emitBaseBubblingEvent("stateChanged"),n}calculateConfigContent(){const t=this._contentItems,n=t.length,i=new Array(n);for(let u=0;u<n;u++){const s=t[u];i[u]=s.toConfig()}return i}highlightDropZone(t,n,i){const u=this.layoutManager.dropTargetIndicator;if(u===null)throw new ae("ACIHDZ5593");u.highlightArea(i,1)}onDrop(t,n){this.addChild(t)}show(){this.layoutManager.beginSizeInvalidation();try{Qt(this._element,!0);for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].show()}finally{this.layoutManager.endSizeInvalidation()}}destroy(){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].destroy();this._contentItems=[],this.emitBaseBubblingEvent("beforeItemDestroyed"),this._element.remove(),this.emitBaseBubblingEvent("itemDestroyed")}getElementArea(t){t=t??this._element;const n=t.getBoundingClientRect(),i=n.top+document.body.scrollTop,u=n.left+document.body.scrollLeft,s=n.width,o=n.height;return{x1:u,y1:i,x2:u+s,y2:i+o,surface:s*o,contentItem:this}}init(){this._isInitialised=!0,this.emitBaseBubblingEvent("itemCreated"),this.emitUnknownBubblingEvent(this.type+"Created")}setParent(t){this._parent=t}addPopInParentId(t){this.popInParentIds.includes(t)||this.popInParentIds.push(t)}initContentItems(){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].init()}hide(){this.layoutManager.beginSizeInvalidation();try{Qt(this._element,!1)}finally{this.layoutManager.endSizeInvalidation()}}updateContentItemsSize(t){for(let n=0;n<this._contentItems.length;n++)this._contentItems[n].updateSize(t)}createContentItems(t){const n=t.length,i=new Array(n);for(let u=0;u<t.length;u++)i[u]=this.layoutManager.createContentItem(t[u],this);return i}propagateEvent(t,n){if(n.length===1){const i=n[0];i instanceof me.BubblingEvent&&i.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(t,i):this.scheduleEventPropagationToLayoutManager(t,i))}}tryBubbleEvent(t,n){if(n.length===1){const i=n[0];i instanceof me.BubblingEvent&&i.isPropagationStopped===!1&&this._isInitialised===!0&&(this.isGround===!1&&this._parent?this._parent.emitUnknown(t,i):this.scheduleEventPropagationToLayoutManager(t,i))}}scheduleEventPropagationToLayoutManager(t,n){this._throttledEvents.indexOf(t)===-1?this.layoutManager.emitUnknown(t,n):this._pendingEventPropagations[t]!==!0&&(this._pendingEventPropagations[t]=!0,globalThis.requestAnimationFrame(()=>this.propagateEventToLayoutManager(t,n)))}propagateEventToLayoutManager(t,n){this._pendingEventPropagations[t]=!1,this.layoutManager.emitUnknown(t,n)}}class Zt extends Ne{constructor(t,n,i){super(t,n,i,document.createElement("div")),this._parentItem=i,this._focused=!1,this.isComponent=!0,this._reorderEnabled=n.reorderEnabled,this.applyUpdatableConfig(n),this._initialWantMaximise=n.maximised;const u=document.createElement("div");u.classList.add("lm_content"),this.element.appendChild(u),this._container=new ud(n,this,t,u,s=>this.handleUpdateItemConfigEvent(s),()=>this.show(),()=>this.hide(),s=>this.focus(s),s=>this.blur(s))}get componentName(){return this._container.componentType}get componentType(){return this._container.componentType}get reorderEnabled(){return this._reorderEnabled}get initialWantMaximise(){return this._initialWantMaximise}get component(){return this._container.component}get container(){return this._container}get parentItem(){return this._parentItem}get headerConfig(){return this._headerConfig}get title(){return this._title}get tab(){return this._tab}get focused(){return this._focused}destroy(){this._container.destroy(),super.destroy()}applyUpdatableConfig(t){this.setTitle(t.title),this._headerConfig=t.header}toConfig(){const t=this._container.stateRequestEvent,n=t===void 0?this._container.state:t();return{type:A.component,content:[],size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,maximised:!1,isClosable:this.isClosable,reorderEnabled:this._reorderEnabled,title:this._title,header:et.Header.createCopy(this._headerConfig),componentType:In.copyComponentType(this.componentType),componentState:n}}close(){if(this.parent===null)throw new ae("CIC68883");this.parent.removeChild(this,!1)}enterDragMode(t,n){Xe(this.element,t),Qe(this.element,n),this._container.enterDragMode(t,n)}exitDragMode(){this._container.exitDragMode()}enterStackMaximised(){this._container.enterStackMaximised()}exitStackMaximised(){this._container.exitStackMaximised()}drag(){this._container.drag()}updateSize(t){this.updateNodeSize(t)}init(){this.updateNodeSize(!1),super.init(),this._container.emit("open"),this.initContentItems()}setTitle(t){this._title=t,this.emit("titleChanged",t),this.emit("stateChanged")}setTab(t){this._tab=t,this.emit("tab",t),this._container.setTab(t)}hide(){super.hide(),this._container.setVisibility(!1)}show(){super.show(),this._container.setVisibility(!0)}focus(t=!1){this.parentItem.setActiveComponentItem(this,!0,t)}setFocused(t){this._focused=!0,this.tab.setFocused(),t||this.emitBaseBubblingEvent("focus")}blur(t=!1){this._focused&&this.layoutManager.setFocusedComponentItem(void 0,t)}setBlurred(t){this._focused=!1,this.tab.setBlurred(),t||this.emitBaseBubblingEvent("blur")}setParent(t){this._parentItem=t,super.setParent(t)}handleUpdateItemConfigEvent(t){this.applyUpdatableConfig(t)}updateNodeSize(t){if(this.element.style.display!=="none"){const{width:n,height:i}=Tt(this.element);this._container.setSizeToNodeSize(n,i,t)}}}class jr extends Ne{constructor(){super(...arguments),this._focused=!1}get focused(){return this._focused}setFocusedValue(t){this._focused=t}}class ys extends me{constructor(t,n){super(),this._eElement=t,this._pointerTracking=!1,this._pointerDownEventListener=i=>this.onPointerDown(i),this._pointerMoveEventListener=i=>this.onPointerMove(i),this._pointerUpEventListener=i=>this.onPointerUp(i),this._timeout=void 0,this._allowableTargets=[t,...n],this._oDocument=document,this._eBody=document.body,this._nDelay=1800,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._dragging=!1,this._eElement.addEventListener("pointerdown",this._pointerDownEventListener,{passive:!0})}destroy(){this.checkRemovePointerTrackingEventListeners(),this._eElement.removeEventListener("pointerdown",this._pointerDownEventListener)}cancelDrag(){this.processDragStop(void 0)}onPointerDown(t){if(this._allowableTargets.includes(t.target)&&t.isPrimary){const n=this.getPointerCoordinates(t);this.processPointerDown(n)}}processPointerDown(t){this._nOriginalX=t.x,this._nOriginalY=t.y,this._oDocument.addEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.addEventListener("pointerup",this._pointerUpEventListener,{passive:!0}),this._pointerTracking=!0,this._timeout=setTimeout(()=>{try{this.startDrag()}catch(n){throw console.error(n),n}},this._nDelay)}onPointerMove(t){this._pointerTracking&&(this.processDragMove(t),t.preventDefault())}processDragMove(t){this._nX=t.pageX-this._nOriginalX,this._nY=t.pageY-this._nOriginalY,this._dragging===!1&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&this.startDrag(),this._dragging&&this.emit("drag",this._nX,this._nY,t)}onPointerUp(t){this.processDragStop(t)}processDragStop(t){var n;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this.checkRemovePointerTrackingEventListeners(),this._dragging===!0&&(this._eBody.classList.remove("lm_dragging"),this._eElement.classList.remove("lm_dragging"),(n=this._oDocument.querySelector("iframe"))===null||n===void 0||n.style.setProperty("pointer-events",""),this._dragging=!1,this.emit("dragStop",t))}checkRemovePointerTrackingEventListeners(){this._pointerTracking&&(this._oDocument.removeEventListener("pointermove",this._pointerMoveEventListener),this._oDocument.removeEventListener("pointerup",this._pointerUpEventListener),this._pointerTracking=!1)}startDrag(){var t;this._timeout!==void 0&&(clearTimeout(this._timeout),this._timeout=void 0),this._dragging=!0,this._eBody.classList.add("lm_dragging"),this._eElement.classList.add("lm_dragging"),(t=this._oDocument.querySelector("iframe"))===null||t===void 0||t.style.setProperty("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)}getPointerCoordinates(t){return{x:t.pageX,y:t.pageY}}}class od{constructor(t,n,i){this._isVertical=t,this._size=n,this._grabSize=i<this._size?this._size:i,this._element=document.createElement("div"),this._element.classList.add("lm_splitter");const u=document.createElement("div");u.classList.add("lm_drag_handle");const s=this._grabSize-this._size,o=s/2;this._isVertical?(u.style.top=Y(-o),u.style.height=Y(this._size+s),this._element.classList.add("lm_vertical"),this._element.style.height=Y(this._size)):(u.style.left=Y(-o),u.style.width=Y(this._size+s),this._element.classList.add("lm_horizontal"),this._element.style.width=Y(this._size)),this._element.appendChild(u),this._dragListener=new ys(this._element,[u])}get element(){return this._element}destroy(){this._element.remove()}on(t,n){this._dragListener.on(t,n)}}class nn extends Ne{constructor(t,n,i,u){switch(super(n,i,u,nn.createElement(document,t)),this._rowOrColumnParent=u,this._splitter=[],this.isRow=!t,this.isColumn=t,this._childElementContainer=this.element,this._splitterSize=n.layoutConfig.dimensions.borderWidth,this._splitterGrabSize=n.layoutConfig.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,i.type){case A.row:case A.column:this._configType=i.type;break;default:throw new J("ROCCCT00925")}}newComponent(t,n,i,u){const s={type:"component",componentType:t,componentState:n,title:i};return this.newItem(s,u)}addComponent(t,n,i,u){const s={type:"component",componentType:t,componentState:n,title:i};return this.addItem(s,u)}newItem(t,n){n=this.addItem(t,n);const i=this.contentItems[n];return Ne.isStack(i)&&fe.isComponent(t)?i.contentItems[0]:i}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=fe.resolve(t,!1),u=this.layoutManager.createAndInitContentItem(i,this);return this.addChild(u,n,!1)}addChild(t,n,i){if(n===void 0&&(n=this.contentItems.length),this.contentItems.length>0){const s=this.createSplitter(Math.max(0,n-1)).element;n>0?(this.contentItems[n-1].element.insertAdjacentElement("afterend",s),s.insertAdjacentElement("afterend",t.element)):(this.contentItems[0].element.insertAdjacentElement("beforebegin",s),s.insertAdjacentElement("beforebegin",t.element))}else this._childElementContainer.appendChild(t.element);super.addChild(t,n);const u=1/this.contentItems.length*100;if(i===!0)return this.emitBaseBubblingEvent("stateChanged"),n;for(let s=0;s<this.contentItems.length;s++){const o=this.contentItems[s];if(o===t)t.size=u;else{const r=o.size*=(100-u)/100;o.size=r}}return this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),n}removeChild(t,n){const i=this.contentItems.indexOf(t),u=Math.max(i-1,0);if(i===-1)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");if(this._splitter[u]&&(this._splitter[u].destroy(),this._splitter.splice(u,1)),super.removeChild(t,n),this.contentItems.length===1&&this.isClosable===!0){const s=this.contentItems[0];this.contentItems.length=0,this._rowOrColumnParent.replaceChild(this,s,!0)}else this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}replaceChild(t,n){const i=t.size;super.replaceChild(t,n),n.size=i,this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged")}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let t=0;t<this.contentItems.length;t++)this._childElementContainer.appendChild(this.contentItems[t].element);super.init();for(let t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.insertAdjacentElement("afterend",this.createSplitter(t).element);this.initContentItems()}}toConfig(){return{type:this.type,content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable}}setParent(t){this._rowOrColumnParent=t,super.setParent(t)}updateNodeSize(){this.contentItems.length>0&&(this.calculateRelativeSizes(),this.setAbsoluteSizes()),this.emitBaseBubblingEvent("stateChanged"),this.emit("resize")}setAbsoluteSizes(){const t=this.calculateAbsoluteSizes();for(let n=0;n<this.contentItems.length;n++)t.additionalPixel-n>0&&t.itemSizes[n]++,this._isColumn?(Xe(this.contentItems[n].element,t.crossAxisSize),Qe(this.contentItems[n].element,t.itemSizes[n])):(Xe(this.contentItems[n].element,t.itemSizes[n]),Qe(this.contentItems[n].element,t.crossAxisSize))}calculateAbsoluteSizes(){const t=(this.contentItems.length-1)*this._splitterSize,{width:n,height:i}=Tt(this.element);let u,s;this._isColumn?(u=i-t,s=n):(u=n-t,s=i);let o=0;const r=[];for(let a=0;a<this.contentItems.length;a++){const c=this.contentItems[a];let d;if(c.sizeUnit===Q.Percent)d=Math.floor(u*(c.size/100));else throw new J("ROCCAS6692");o+=d,r.push(d)}const l=Math.floor(u-o);return{itemSizes:r,additionalPixel:l,totalSize:u,crossAxisSize:s}}calculateRelativeSizes(){let t=0;const n=[];let i=0;for(let u=0;u<this.contentItems.length;u++){const s=this.contentItems[u];switch(s.sizeUnit){case Q.Percent:{t+=s.size;break}case Q.Fractional:{n.push(s),i+=s.size;break}default:throw new J("ROCCRS49110",JSON.stringify(s))}}if(Math.round(t)===100){this.respectMinItemSize();return}else if(Math.round(t)<100&&n.length>0){const u=100-t;for(let s=0;s<n.length;s++){const o=n[s];o.size=u*(o.size/i),o.sizeUnit=Q.Percent}this.respectMinItemSize();return}else{if(Math.round(t)>100&&n.length>0){for(let u=0;u<n.length;u++){const s=n[u];s.size=50*(s.size/i),s.sizeUnit=Q.Percent}t+=50}for(let u=0;u<this.contentItems.length;u++){const s=this.contentItems[u];s.size=s.size/t*100}this.respectMinItemSize()}}respectMinItemSize(){const t=this.calculateContentItemMinSize(this);if(!(t<=0||this.contentItems.length<=1)){let n=0,i=0;const u=[],s=[],o=this.calculateAbsoluteSizes();for(let r=0;r<o.itemSizes.length;r++){const l=o.itemSizes[r];let a;l<t?(i+=t-l,a={size:t}):(n+=l-t,a={size:l},u.push(a)),s.push(a)}if(i===0||i>n)return;{const r=i/n;let l=i;for(let a=0;a<u.length;a++){const c=u[a],d=Math.round((c.size-t)*r);l-=d,c.size-=d}l!==0&&(s[s.length-1].size-=l);for(let a=0;a<this.contentItems.length;a++){const c=this.contentItems[a];c.size=s[a].size/o.totalSize*100}}}}createSplitter(t){const n=new od(this._isColumn,this._splitterSize,this._splitterGrabSize);return n.on("drag",(i,u)=>this.onSplitterDrag(n,i,u)),n.on("dragStop",()=>this.onSplitterDragStop(n)),n.on("dragStart",()=>this.onSplitterDragStart(n)),this._splitter.splice(t,0,n),n}getSplitItems(t){const n=this._splitter.indexOf(t);return{before:this.contentItems[n],after:this.contentItems[n+1]}}calculateContentItemMinSize(t){const n=t.minSize;if(n!==void 0){if(t.minSizeUnit===Q.Pixel)return n;throw new J("ROCGMD98831",JSON.stringify(t))}else{const i=this.layoutManager.layoutConfig.dimensions;return this._isColumn?i.defaultMinItemHeight:i.defaultMinItemWidth}}calculateContentItemsTotalMinSize(t){let n=0;for(const i of t)n+=this.calculateContentItemMinSize(i);return n}onSplitterDragStart(t){const n=this.getSplitItems(t),i=dn(n.before.element.style[this._dimension]),u=dn(n.after.element.style[this._dimension]),s=this.calculateContentItemsTotalMinSize(n.before.contentItems),o=this.calculateContentItemsTotalMinSize(n.after.contentItems);this._splitterPosition=0,this._splitterMinPosition=-1*(i-s),this._splitterMaxPosition=u-o}onSplitterDrag(t,n,i){let u=this._isColumn?i:n;if(this._splitterMinPosition===null||this._splitterMaxPosition===null)throw new ae("ROCOSD59226");u=Math.max(u,this._splitterMinPosition),u=Math.min(u,this._splitterMaxPosition),this._splitterPosition=u;const s=Y(u);this._isColumn?t.element.style.top=s:t.element.style.left=s}onSplitterDragStop(t){if(this._splitterPosition===null)throw new ae("ROCOSDS66932");{const n=this.getSplitItems(t),i=dn(n.before.element.style[this._dimension]),u=dn(n.after.element.style[this._dimension]),s=(this._splitterPosition+i)/(i+u),o=n.before.size+n.after.size;n.before.size=s*o,n.after.size=(1-s)*o,t.element.style.top=Y(0),t.element.style.left=Y(0),globalThis.requestAnimationFrame(()=>this.updateSize(!1))}}}(function(e){function t(u,s){return s==="width"?ed(u):td(u)}e.getElementDimensionSize=t;function n(u,s,o){return s==="width"?Xe(u,o):Qe(u,o)}e.setElementDimensionSize=n;function i(u,s){const o=u.createElement("div");return o.classList.add("lm_item"),s?o.classList.add("lm_column"):o.classList.add("lm_row"),o}e.createElement=i})(nn||(nn={}));class Lt extends jr{constructor(t,n,i){super(t,Gu.create(n),null,Lt.createElement(document)),this.isGround=!0,this._childElementContainer=this.element,this._containerElement=i;let u=null;for(;;){const s=u?u.previousSibling:this._containerElement.lastChild;if(s instanceof Element&&s.classList.contains("lm_content"))u=s;else break}this._containerElement.insertBefore(this.element,u)}init(){if(this.isInitialised!==!0){this.updateNodeSize();for(let t=0;t<this.contentItems.length;t++)this._childElementContainer.appendChild(this.contentItems[t].element);super.init(),this.initContentItems()}}loadRoot(t){if(this.clearRoot(),t!==void 0){const n=this.layoutManager.createAndInitContentItem(t,this);this.addChild(n,0)}}clearRoot(){const t=this.contentItems;switch(t.length){case 0:return;case 1:{t[0].remove();return}default:throw new J("GILR07721")}}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=fe.resolve(t,!1);let u;if(this.contentItems.length>0?u=this.contentItems[0]:u=this,u.isComponent)throw new Error("Cannot add item as child to ComponentItem");{const s=this.layoutManager.createAndInitContentItem(i,u);return n=u.addChild(s,n),u===this?-1:n}}loadComponentAsRoot(t){this.clearRoot();const n=fe.resolve(t,!1);if(n.maximised)throw new Error("Root Component cannot be maximised");{const i=new Zt(this.layoutManager,n,this);i.init(),this.addChild(i,0)}}addChild(t,n){if(this.contentItems.length>0)throw new Error("Ground node can only have a single child");return this._childElementContainer.appendChild(t.element),n=super.addChild(t,n),this.updateSize(!1),this.emitBaseBubblingEvent("stateChanged"),n}calculateConfigContent(){const t=this.contentItems,n=t.length,i=new Array(n);for(let u=0;u<n;u++){const o=t[u].toConfig();if(tn.isRootItemConfig(o))i[u]=o;else throw new J("RCCC66832")}return i}setSize(t,n){t===void 0||n===void 0?this.updateSize(!1):(Xe(this.element,t),Qe(this.element,n),this.contentItems.length>0&&(Xe(this.contentItems[0].element,t),Qe(this.contentItems[0].element,n)),this.updateContentItemsSize(!1))}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}createSideAreas(){const n=Lt.Area.oppositeSides,i=new Array(Object.keys(n).length);let u=0;for(const s in n){const o=s,r=this.getElementArea();if(r===null)throw new ae("RCSA77553");r.side=o,n[o][1]==="2"?r[o]=r[n[o]]-50:r[o]=r[n[o]]+50,r.surface=(r.x2-r.x1)*(r.y2-r.y1),i[u++]=r}return i}highlightDropZone(t,n,i){this.layoutManager.tabDropPlaceholder.remove(),super.highlightDropZone(t,n,i)}onDrop(t,n){if(t.isComponent){const i=Et.createDefault(),u=t;i.header=et.Header.createCopy(u.headerConfig);const s=this.layoutManager.createAndInitContentItem(i,this);s.addChild(t),t=s}if(this.contentItems.length===0)this.addChild(t);else{if(t.type===A.row||t.type===A.column){const o=Et.createDefault(),r=this.layoutManager.createContentItem(o,this);r.addChild(t),t=r}const i=n.side[0]=="x"?A.row:A.column,u=n.side[1]=="2",s=this.contentItems[0];if(!(s instanceof nn)||s.type!==i){const o=Z.createDefault(i),r=this.layoutManager.createContentItem(o,this);this.replaceChild(s,r),r.addChild(t,u?0:void 0,!0),r.addChild(s,u?void 0:0,!0),s.size=50,t.size=50,t.sizeUnit=Q.Percent,r.updateSize(!1)}else{const o=s.contentItems[u?0:s.contentItems.length-1];s.addChild(t,u?0:void 0,!0),o.size*=.5,t.size=o.size,t.sizeUnit=Q.Percent,s.updateSize(!1)}}}dock(){throw new J("GID87731")}validateDocking(){throw new J("GIVD87732")}getAllContentItems(){const t=[this];return this.deepGetAllContentItems(this.contentItems,t),t}getConfigMaximisedItems(){const t=[];return this.deepFilterContentItems(this.contentItems,t,n=>Ne.isStack(n)&&n.initialWantMaximise?!0:!!(Ne.isComponentItem(n)&&n.initialWantMaximise)),t}getItemsByPopInParentId(t){const n=[];return this.deepFilterContentItems(this.contentItems,n,i=>i.popInParentIds.includes(t)),n}toConfig(){throw new Error("Cannot generate GroundItem config")}setActiveComponentItem(t,n,i){}updateNodeSize(){const{width:t,height:n}=Tt(this._containerElement);Xe(this.element,t),Qe(this.element,n),this.contentItems.length>0&&(Xe(this.contentItems[0].element,t),Qe(this.contentItems[0].element,n))}deepGetAllContentItems(t,n){for(let i=0;i<t.length;i++){const u=t[i];n.push(u),this.deepGetAllContentItems(u.contentItems,n)}}deepFilterContentItems(t,n,i){for(let u=0;u<t.length;u++){const s=t[u];i(s)&&n.push(s),this.deepFilterContentItems(s.contentItems,n,i)}}}(function(e){(function(n){n.oppositeSides={y2:"y1",x2:"x1",y1:"y2",x1:"x2"}})(e.Area||(e.Area={}));function t(n){const i=n.createElement("div");return i.classList.add("lm_goldenlayout"),i.classList.add("lm_item"),i.classList.add("lm_root"),i}e.createElement=t})(Lt||(Lt={}));class Si{constructor(t,n,i,u){this._header=t,this._pushEvent=u,this._clickEventListener=s=>this.onClick(s),this._touchStartEventListener=s=>this.onTouchStart(s),this._element=document.createElement("div"),this._element.classList.add(i),this._element.title=n,this._header.on("destroy",()=>this.destroy()),this._element.addEventListener("click",this._clickEventListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartEventListener,{passive:!0}),this._header.controlsContainerElement.appendChild(this._element)}get element(){return this._element}destroy(){var t;this._element.removeEventListener("click",this._clickEventListener),this._element.removeEventListener("touchstart",this._touchStartEventListener),(t=this._element.parentNode)===null||t===void 0||t.removeChild(this._element)}onClick(t){this._pushEvent(t)}onTouchStart(t){this._pushEvent(t)}}class rd{constructor(t,n,i,u,s){var o;this._layoutManager=t,this._componentItem=n,this._closeEvent=i,this._focusEvent=u,this._dragStartEvent=s,this._isActive=!1,this._tabClickListener=l=>this.onTabClickDown(l),this._tabTouchStartListener=l=>this.onTabTouchStart(l),this._closeClickListener=()=>this.onCloseClick(),this._closeTouchStartListener=()=>this.onCloseTouchStart(),this._dragStartListener=(l,a)=>this.onDragStart(l,a),this._contentItemDestroyListener=()=>this.onContentItemDestroy(),this._tabTitleChangedListener=l=>this.setTitle(l),this._element=document.createElement("div"),this._element.classList.add("lm_tab"),this._titleElement=document.createElement("span"),this._titleElement.classList.add("lm_title"),this._closeElement=document.createElement("div"),this._closeElement.classList.add("lm_close_tab"),this._element.appendChild(this._titleElement),this._element.appendChild(this._closeElement),n.isClosable?this._closeElement.style.display="":this._closeElement.style.display="none",this.setTitle(n.title),this._componentItem.on("titleChanged",this._tabTitleChangedListener),((o=n.reorderEnabled)!==null&&o!==void 0?o:this._layoutManager.layoutConfig.settings.reorderEnabled)&&this.enableReorder(),this._element.addEventListener("click",this._tabClickListener,{passive:!0}),this._element.addEventListener("touchstart",this._tabTouchStartListener,{passive:!0}),this._componentItem.isClosable?(this._closeElement.addEventListener("click",this._closeClickListener,{passive:!0}),this._closeElement.addEventListener("touchstart",this._closeTouchStartListener,{passive:!0})):(this._closeElement.remove(),this._closeElement=void 0),this._componentItem.setTab(this),this._layoutManager.emit("tabCreated",this)}get isActive(){return this._isActive}get componentItem(){return this._componentItem}get contentItem(){return this._componentItem}get element(){return this._element}get titleElement(){return this._titleElement}get closeElement(){return this._closeElement}get reorderEnabled(){return this._dragListener!==void 0}set reorderEnabled(t){t!==this.reorderEnabled&&(t?this.enableReorder():this.disableReorder())}setTitle(t){this._titleElement.innerText=t,this._element.title=t}setActive(t){t!==this._isActive&&(this._isActive=t,t?this._element.classList.add("lm_active"):this._element.classList.remove("lm_active"))}destroy(){var t,n;this._closeEvent=void 0,this._focusEvent=void 0,this._dragStartEvent=void 0,this._element.removeEventListener("click",this._tabClickListener),this._element.removeEventListener("touchstart",this._tabTouchStartListener),(t=this._closeElement)===null||t===void 0||t.removeEventListener("click",this._closeClickListener),(n=this._closeElement)===null||n===void 0||n.removeEventListener("touchstart",this._closeTouchStartListener),this._componentItem.off("titleChanged",this._tabTitleChangedListener),this.reorderEnabled&&this.disableReorder(),this._element.remove()}setBlurred(){this._element.classList.remove("lm_focused"),this._titleElement.classList.remove("lm_focused")}setFocused(){this._element.classList.add("lm_focused"),this._titleElement.classList.add("lm_focused")}onDragStart(t,n){if(this._dragListener===void 0)throw new j("TODSDLU10093");if(this._dragStartEvent===void 0)throw new j("TODS23309");this._dragStartEvent(t,n,this._dragListener,this.componentItem)}onContentItemDestroy(){this._dragListener!==void 0&&(this._dragListener.destroy(),this._dragListener=void 0)}onTabClickDown(t){const n=t.target;(n===this._element||n===this._titleElement)&&(t.button===0?this.notifyFocus():t.button===1&&this._componentItem.isClosable&&this.notifyClose())}onTabTouchStart(t){t.target===this._element&&this.notifyFocus()}onCloseClick(){this.notifyClose()}onCloseTouchStart(){this.notifyClose()}notifyClose(){if(this._closeEvent===void 0)throw new j("TNC15007");this._closeEvent(this._componentItem)}notifyFocus(){if(this._focusEvent===void 0)throw new j("TNA15007");this._focusEvent(this._componentItem)}enableReorder(){this._dragListener=new ys(this._element,[this._titleElement]),this._dragListener.on("dragStart",this._dragStartListener),this._componentItem.on("destroy",this._contentItemDestroyListener)}disableReorder(){if(this._dragListener===void 0)throw new j("TDR87745");this._componentItem.off("destroy",this._contentItemDestroyListener),this._dragListener.off("dragStart",this._dragStartListener),this._dragListener=void 0}}class ld{constructor(t,n,i,u,s){this._layoutManager=t,this._componentRemoveEvent=n,this._componentFocusEvent=i,this._componentDragStartEvent=u,this._dropdownActiveChangedEvent=s,this._tabs=[],this._lastVisibleTabIndex=-1,this._dropdownActive=!1,this._element=document.createElement("section"),this._element.classList.add("lm_tabs"),this._dropdownElement=document.createElement("section"),this._dropdownElement.classList.add("lm_tabdropdown_list"),this._dropdownElement.style.display="none"}get tabs(){return this._tabs}get tabCount(){return this._tabs.length}get lastVisibleTabIndex(){return this._lastVisibleTabIndex}get element(){return this._element}get dropdownElement(){return this._dropdownElement}get dropdownActive(){return this._dropdownActive}destroy(){for(let t=0;t<this._tabs.length;t++)this._tabs[t].destroy()}createTab(t,n){for(let u=0;u<this._tabs.length;u++)if(this._tabs[u].componentItem===t)return;const i=new rd(this._layoutManager,t,u=>this.handleTabCloseEvent(u),u=>this.handleTabFocusEvent(u),(u,s,o,r)=>this.handleTabDragStartEvent(u,s,o,r));n===void 0&&(n=this._tabs.length),this._tabs.splice(n,0,i),n<this._element.childNodes.length?this._element.insertBefore(i.element,this._element.childNodes[n]):this._element.appendChild(i.element)}removeTab(t){for(let n=0;n<this._tabs.length;n++)if(this._tabs[n].componentItem===t){this._tabs[n].destroy(),this._tabs.splice(n,1);return}throw new Error("contentItem is not controlled by this header")}processActiveComponentChanged(t){let n=-1;for(let i=0;i<this._tabs.length;i++){const u=this._tabs[i].componentItem===t;this._tabs[i].setActive(u),u&&(n=i)}if(n<0)throw new J("HSACI56632");if(this._layoutManager.layoutConfig.settings.reorderOnTabMenuClick&&this._lastVisibleTabIndex!==-1&&n>this._lastVisibleTabIndex){const i=this._tabs[n];for(let u=n;u>0;u--)this._tabs[u]=this._tabs[u-1];this._tabs[0]=i}}updateTabSizes(t,n){let i=!1;this.tryUpdateTabSizes(i,t,n)||(i=!0,this.tryUpdateTabSizes(i,t,n)),i!==this._dropdownActive&&(this._dropdownActive=i,this._dropdownActiveChangedEvent())}tryUpdateTabSizes(t,n,i){if(this._tabs.length>0){if(i===void 0)throw new Error("non-empty tabs must have active component item");let u=0,s=!1;const o=this._layoutManager.layoutConfig.settings.tabOverlapAllowance,r=this._tabs.indexOf(i.tab),l=this._tabs[r];this._lastVisibleTabIndex=-1;for(let a=0;a<this._tabs.length;a++){const c=this._tabs[a].element;c.parentElement!==this._element&&this._element.appendChild(c);const d=getComputedStyle(l.element).marginRight,h=dn(d),f=c.offsetWidth+h;u+=f;let m=0;if(r<=a)m=u;else{const g=getComputedStyle(l.element).marginRight,_=dn(g);m=u+l.element.offsetWidth+_}if(m>n){if(s)a===r&&(c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._element&&this._element.appendChild(c));else{let g;if(r>0&&r<=a?g=(m-n)/(a-1):g=(m-n)/a,g<o){for(let _=0;_<=a;_++){const x=_!==r&&_!==0?"-"+Y(g):"";this._tabs[_].element.style.zIndex=Y(a-_),this._tabs[_].element.style.marginLeft=x}this._lastVisibleTabIndex=a,c.parentElement!==this._element&&this._element.appendChild(c)}else s=!0}if(s&&a!==r)if(t)c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._dropdownElement&&this._dropdownElement.appendChild(c);else return!1}else this._lastVisibleTabIndex=a,c.style.zIndex="auto",c.style.marginLeft="",c.parentElement!==this._element&&this._element.appendChild(c)}}return!0}showAdditionalTabsDropdown(){this._dropdownElement.style.display=""}hideAdditionalTabsDropdown(){this._dropdownElement.style.display="none"}handleTabCloseEvent(t){this._componentRemoveEvent(t)}handleTabFocusEvent(t){this._componentFocusEvent(t)}handleTabDragStartEvent(t,n,i,u){this._componentDragStartEvent(t,n,i,u)}}class ad extends me{constructor(t,n,i,u,s,o,r,l,a,c,d,h,f){super(),this._layoutManager=t,this._parent=n,this._configClosable=u,this._getActiveComponentItemEvent=s,this._popoutEvent=r,this._maximiseToggleEvent=l,this._clickEvent=a,this._touchStartEvent=c,this._componentRemoveEvent=d,this._componentFocusEvent=h,this._componentDragStartEvent=f,this._clickListener=m=>this.onClick(m),this._touchStartListener=m=>this.onTouchStart(m),this._rowColumnClosable=!0,this._closeButton=null,this._popoutButton=null,this._tabsContainer=new ld(this._layoutManager,m=>this.handleTabInitiatedComponentRemoveEvent(m),m=>this.handleTabInitiatedComponentFocusEvent(m),(m,g,_,x)=>this.handleTabInitiatedDragStartEvent(m,g,_,x),()=>this.processTabDropdownActiveChanged()),this._show=i.show,this._popoutEnabled=i.popoutEnabled,this._popoutLabel=i.popoutLabel,this._maximiseEnabled=i.maximiseEnabled,this._maximiseLabel=i.maximiseLabel,this._minimiseEnabled=i.minimiseEnabled,this._minimiseLabel=i.minimiseLabel,this._closeEnabled=i.closeEnabled,this._closeLabel=i.closeLabel,this._tabDropdownEnabled=i.tabDropdownEnabled,this._tabDropdownLabel=i.tabDropdownLabel,this.setSide(i.side),this._canRemoveComponent=this._configClosable,this._element=document.createElement("section"),this._element.classList.add("lm_header"),this._controlsContainerElement=document.createElement("section"),this._controlsContainerElement.classList.add("lm_controls"),this._element.appendChild(this._tabsContainer.element),this._element.appendChild(this._controlsContainerElement),this._element.appendChild(this._tabsContainer.dropdownElement),this._element.addEventListener("click",this._clickListener,{passive:!0}),this._element.addEventListener("touchstart",this._touchStartListener,{passive:!0}),this._documentMouseUpListener=()=>this._tabsContainer.hideAdditionalTabsDropdown(),globalThis.document.addEventListener("mouseup",this._documentMouseUpListener,{passive:!0}),this._tabControlOffset=this._layoutManager.layoutConfig.settings.tabControlOffset,this._tabDropdownEnabled&&(this._tabDropdownButton=new Si(this,this._tabDropdownLabel,"lm_tabdropdown",()=>this._tabsContainer.showAdditionalTabsDropdown())),this._popoutEnabled&&(this._popoutButton=new Si(this,this._popoutLabel,"lm_popout",()=>this.handleButtonPopoutEvent())),this._maximiseEnabled&&(this._maximiseButton=new Si(this,this._maximiseLabel,"lm_maximise",m=>this.handleButtonMaximiseToggleEvent(m))),this._configClosable&&(this._closeButton=new Si(this,this._closeLabel,"lm_close",()=>o())),this.processTabDropdownActiveChanged()}get show(){return this._show}get side(){return this._side}get leftRightSided(){return this._leftRightSided}get layoutManager(){return this._layoutManager}get parent(){return this._parent}get tabs(){return this._tabsContainer.tabs}get lastVisibleTabIndex(){return this._tabsContainer.lastVisibleTabIndex}get element(){return this._element}get tabsContainerElement(){return this._tabsContainer.element}get controlsContainerElement(){return this._controlsContainerElement}destroy(){this.emit("destroy"),this._popoutEvent=void 0,this._maximiseToggleEvent=void 0,this._clickEvent=void 0,this._touchStartEvent=void 0,this._componentRemoveEvent=void 0,this._componentFocusEvent=void 0,this._componentDragStartEvent=void 0,this._tabsContainer.destroy(),globalThis.document.removeEventListener("mouseup",this._documentMouseUpListener),this._element.remove()}createTab(t,n){this._tabsContainer.createTab(t,n)}removeTab(t){this._tabsContainer.removeTab(t)}processActiveComponentChanged(t){this._tabsContainer.processActiveComponentChanged(t),this.updateTabSizes()}setSide(t){this._side=t,this._leftRightSided=[zt.right,zt.left].includes(this._side)}setRowColumnClosable(t){this._rowColumnClosable=t,this.updateClosability()}updateClosability(){let t;if(!this._configClosable)t=!1;else if(!this._rowColumnClosable)t=!1;else{t=!0;const n=this.tabs.length;for(let i=0;i<n;i++)if(!this._tabsContainer.tabs[i].componentItem.isClosable){t=!1;break}}this._closeButton!==null&&Qt(this._closeButton.element,t),this._popoutButton!==null&&Qt(this._popoutButton.element,t),this._canRemoveComponent=t||this._tabsContainer.tabCount>1}applyFocusedValue(t){t?this._element.classList.add("lm_focused"):this._element.classList.remove("lm_focused")}processMaximised(){if(this._maximiseButton===void 0)throw new j("HPMAX16997");this._maximiseButton.element.setAttribute("title",this._minimiseLabel)}processMinimised(){if(this._maximiseButton===void 0)throw new j("HPMIN16997");this._maximiseButton.element.setAttribute("title",this._maximiseLabel)}updateTabSizes(){if(this._tabsContainer.tabCount>0){const t=this._show?this._layoutManager.layoutConfig.dimensions.headerHeight:0;this._leftRightSided?(this._element.style.height="",this._element.style.width=Y(t)):(this._element.style.width="",this._element.style.height=Y(t));let n;this._leftRightSided?n=this._element.offsetHeight-this._controlsContainerElement.offsetHeight-this._tabControlOffset:n=this._element.offsetWidth-this._controlsContainerElement.offsetWidth-this._tabControlOffset,this._tabsContainer.updateTabSizes(n,this._getActiveComponentItemEvent())}}handleTabInitiatedComponentRemoveEvent(t){if(this._canRemoveComponent){if(this._componentRemoveEvent===void 0)throw new j("HHTCE22294");this._componentRemoveEvent(t)}}handleTabInitiatedComponentFocusEvent(t){if(this._componentFocusEvent===void 0)throw new j("HHTAE22294");this._componentFocusEvent(t)}handleTabInitiatedDragStartEvent(t,n,i,u){if(!this._canRemoveComponent)i.cancelDrag();else{if(this._componentDragStartEvent===void 0)throw new j("HHTDSE22294");this._componentDragStartEvent(t,n,i,u)}}processTabDropdownActiveChanged(){this._tabDropdownButton!==void 0&&Qt(this._tabDropdownButton.element,this._tabsContainer.dropdownActive)}handleButtonPopoutEvent(){if(this._layoutManager.layoutConfig.settings.popoutWholeStack){if(this._popoutEvent===void 0)throw new j("HHBPOE17834");this._popoutEvent()}else{const t=this._getActiveComponentItemEvent();t&&t.popout()}}handleButtonMaximiseToggleEvent(t){if(this._maximiseToggleEvent===void 0)throw new j("HHBMTE16834");this._maximiseToggleEvent()}onClick(t){t.target===this._element&&this.notifyClick(t)}onTouchStart(t){t.target===this._element&&this.notifyTouchStart(t)}notifyClick(t){if(this._clickEvent===void 0)throw new j("HNHC46834");this._clickEvent(t)}notifyTouchStart(t){if(this._touchStartEvent===void 0)throw new j("HNHTS46834");this._touchStartEvent(t)}}class wt extends jr{constructor(t,n,i){var u,s,o,r,l,a,c,d,h,f,m,g,_,x,v,w,C,I,T;super(t,n,i,wt.createElement(document)),this._headerSideChanged=!1,this._resizeListener=()=>this.handleResize(),this._maximisedListener=()=>this.handleMaximised(),this._minimisedListener=()=>this.handleMinimised(),this._headerConfig=n.header;const L=t.layoutConfig.header,H=n.content;let R;H.length!==1?R=void 0:R=H[0].header,this._initialWantMaximise=n.maximised,this._initialActiveItemIndex=(u=n.activeItemIndex)!==null&&u!==void 0?u:0;const X=(r=(o=(s=this._headerConfig)===null||s===void 0?void 0:s.show)!==null&&o!==void 0?o:R==null?void 0:R.show)!==null&&r!==void 0?r:L.show,ue=(c=(a=(l=this._headerConfig)===null||l===void 0?void 0:l.popout)!==null&&a!==void 0?a:R==null?void 0:R.popout)!==null&&c!==void 0?c:L.popout,Ee=(f=(h=(d=this._headerConfig)===null||d===void 0?void 0:d.maximise)!==null&&h!==void 0?h:R==null?void 0:R.maximise)!==null&&f!==void 0?f:L.maximise,be=(_=(g=(m=this._headerConfig)===null||m===void 0?void 0:m.close)!==null&&g!==void 0?g:R==null?void 0:R.close)!==null&&_!==void 0?_:L.close,Ie=(w=(v=(x=this._headerConfig)===null||x===void 0?void 0:x.minimise)!==null&&v!==void 0?v:R==null?void 0:R.minimise)!==null&&w!==void 0?w:L.minimise,ve=(T=(I=(C=this._headerConfig)===null||C===void 0?void 0:C.tabDropdown)!==null&&I!==void 0?I:R==null?void 0:R.tabDropdown)!==null&&T!==void 0?T:L.tabDropdown;this._maximisedEnabled=Ee!==!1;const ge={show:X!==!1,side:X===!1?zt.top:X,popoutEnabled:ue!==!1,popoutLabel:ue===!1?"":ue,maximiseEnabled:this._maximisedEnabled,maximiseLabel:Ee===!1?"":Ee,closeEnabled:be!==!1,closeLabel:be===!1?"":be,minimiseEnabled:!0,minimiseLabel:Ie,tabDropdownEnabled:ve!==!1,tabDropdownLabel:ve===!1?"":ve};this._header=new ad(t,this,ge,n.isClosable&&be!==!1,()=>this.getActiveComponentItem(),()=>this.remove(),()=>this.handlePopoutEvent(),()=>this.toggleMaximise(),G=>this.handleHeaderClickEvent(G),G=>this.handleHeaderTouchStartEvent(G),G=>this.handleHeaderComponentRemoveEvent(G),G=>this.handleHeaderComponentFocusEvent(G),(G,ie,_t,on)=>this.handleHeaderComponentStartDragEvent(G,ie,_t,on)),this.isStack=!0,this._childElementContainer=document.createElement("section"),this._childElementContainer.classList.add("lm_items"),this.on("resize",this._resizeListener),this._maximisedEnabled&&(this.on("maximised",this._maximisedListener),this.on("minimised",this._minimisedListener)),this.element.appendChild(this._header.element),this.element.appendChild(this._childElementContainer),this.setupHeaderPosition(),this._header.updateClosability()}get childElementContainer(){return this._childElementContainer}get header(){return this._header}get headerShow(){return this._header.show}get headerSide(){return this._header.side}get headerLeftRightSided(){return this._header.leftRightSided}get contentAreaDimensions(){return this._contentAreaDimensions}get initialWantMaximise(){return this._initialWantMaximise}get isMaximised(){return this===this.layoutManager.maximisedStack}get stackParent(){if(!this.parent)throw new Error("Stack should always have a parent");return this.parent}updateSize(t){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(t)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(this.isInitialised===!0)return;this.updateNodeSize();for(let i=0;i<this.contentItems.length;i++)this._childElementContainer.appendChild(this.contentItems[i].element);super.init();const t=this.contentItems,n=t.length;if(n>0){if(this._initialActiveItemIndex<0||this._initialActiveItemIndex>=n)throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: ${this.id}`);for(let i=0;i<n;i++){const u=t[i];if(u instanceof Zt)this._header.createTab(u,i),u.hide(),u.container.setBaseLogicalZIndex();else throw new Error(`Stack Content Item is not of type ComponentItem: ${i} id: ${this.id}`)}this.setActiveComponentItem(t[this._initialActiveItemIndex],!1),this._header.updateTabSizes()}this._header.updateClosability(),this.initContentItems()}setActiveContentItem(t){if(Ne.isComponentItem(t))this.setActiveComponentItem(t,!1);else throw new Error("Stack.setActiveContentItem: item is not a ComponentItem")}setActiveComponentItem(t,n,i=!1){if(this._activeComponentItem!==t){if(this.contentItems.indexOf(t)===-1)throw new Error("componentItem is not a child of this stack");this.layoutManager.beginSizeInvalidation();try{this._activeComponentItem!==void 0&&this._activeComponentItem.hide(),this._activeComponentItem=t,this._header.processActiveComponentChanged(t),t.show()}finally{this.layoutManager.endSizeInvalidation()}this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitStateChangedEvent()}(this.focused||n)&&this.layoutManager.setFocusedComponentItem(t,i)}getActiveContentItem(){var t;return(t=this.getActiveComponentItem())!==null&&t!==void 0?t:null}getActiveComponentItem(){return this._activeComponentItem}focusActiveContentItem(){var t;(t=this._activeComponentItem)===null||t===void 0||t.focus()}setFocusedValue(t){this._header.applyFocusedValue(t),super.setFocusedValue(t)}setRowColumnClosable(t){this._header.setRowColumnClosable(t)}newComponent(t,n,i,u){const s={type:"component",componentType:t,componentState:n,title:i};return this.newItem(s,u)}addComponent(t,n,i,u){const s={type:"component",componentType:t,componentState:n,title:i};return this.addItem(s,u)}newItem(t,n){return n=this.addItem(t,n),this.contentItems[n]}addItem(t,n){this.layoutManager.checkMinimiseMaximisedStack();const i=fe.resolve(t,!1),u=this.layoutManager.createAndInitContentItem(i,this);return this.addChild(u,n)}addChild(t,n,i=!1){if(n!==void 0&&n>this.contentItems.length)throw n-=1,new J("SAC99728");if(t instanceof Zt)return n=super.addChild(t,n),this._childElementContainer.appendChild(t.element),this._header.createTab(t,n),this.setActiveComponentItem(t,i),this._header.updateTabSizes(),this.updateSize(!1),t.container.setBaseLogicalZIndex(),this._header.updateClosability(),this.emitStateChangedEvent(),n;throw new J("SACC88532")}removeChild(t,n){const i=t,u=this.contentItems.indexOf(i),s=this.contentItems.length===1;if(this._activeComponentItem===i&&(i.focused&&i.blur(),!s)){const o=u===0?1:u-1;this.setActiveComponentItem(this.contentItems[o],!1)}this._header.removeTab(i),super.removeChild(i,n),s||this._header.updateClosability(),this.emitStateChangedEvent()}toggleMaximise(){this.isMaximised?this.minimise():this.maximise()}maximise(){if(!this.isMaximised){this.layoutManager.setMaximisedStack(this);const t=this.contentItems,n=t.length;for(let i=0;i<n;i++){const u=t[i];if(u instanceof Zt)u.enterStackMaximised();else throw new J("SMAXI87773")}this.emitStateChangedEvent()}}minimise(){if(this.isMaximised){this.layoutManager.setMaximisedStack(void 0);const t=this.contentItems,n=t.length;for(let i=0;i<n;i++){const u=t[i];if(u instanceof Zt)u.exitStackMaximised();else throw new J("SMINI87773")}this.emitStateChangedEvent()}}destroy(){var t;!((t=this._activeComponentItem)===null||t===void 0)&&t.focused&&this._activeComponentItem.blur(),super.destroy(),this.off("resize",this._resizeListener),this._maximisedEnabled&&(this.off("maximised",this._maximisedListener),this.off("minimised",this._minimisedListener)),this._header.destroy()}toConfig(){let t;if(this._activeComponentItem&&(t=this.contentItems.indexOf(this._activeComponentItem),t<0))throw new Error("active component item not found in stack");if(this.contentItems.length>0&&t===void 0)throw new Error("expected non-empty stack to have an active component item");return{type:"stack",content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable,maximised:this.isMaximised,header:this.createHeaderConfig(),activeItemIndex:t}}onDrop(t,n){if(this._dropSegment==="header"){if(this.resetHeaderDropZone(),this._dropIndex===void 0)throw new j("SODDI68990");this.addChild(t,this._dropIndex);return}if(this._dropSegment==="body"){this.addChild(t,0,!0);return}const i=this._dropSegment==="top"||this._dropSegment==="bottom",u=this._dropSegment==="left"||this._dropSegment==="right",s=this._dropSegment==="top"||this._dropSegment==="left",o=i&&this.stackParent.isColumn||u&&this.stackParent.isRow;if(t.isComponent){const r=Et.createDefault();r.header=this.createHeaderConfig();const l=this.layoutManager.createAndInitContentItem(r,this);l.addChild(t),t=l}if(t.type===A.row||t.type===A.column){const r=Et.createDefault();r.header=this.createHeaderConfig();const l=this.layoutManager.createContentItem(r,this);l.addChild(t),t=l}if(o){const r=this.stackParent.contentItems.indexOf(this);this.stackParent.addChild(t,s?r:r+1,!0),this.size*=.5,t.size=this.size,t.sizeUnit=this.sizeUnit,this.stackParent.updateSize(!1)}else{const r=i?A.column:A.row,l=Z.createDefault(r),a=this.layoutManager.createContentItem(l,this);this.stackParent.replaceChild(this,a),a.addChild(t,s?0:void 0,!0),a.addChild(this,s?void 0:0,!0),this.size=50,t.size=50,t.sizeUnit=Q.Percent,a.updateSize(!1)}}highlightDropZone(t,n){for(const i in this._contentAreaDimensions){const u=i,s=this._contentAreaDimensions[u].hoverArea;if(s.x1<t&&s.x2>t&&s.y1<n&&s.y2>n){u==="header"?(this._dropSegment="header",this.highlightHeaderDropZone(this._header.leftRightSided?n:t)):(this.resetHeaderDropZone(),this.highlightBodyDropZone(u));return}}}getArea(){if(this.element.style.display==="none")return null;const t=super.getElementArea(this._header.element),n=super.getElementArea(this._childElementContainer);if(t===null||n===null)throw new ae("SGAHC13086");const i=n.x2-n.x1,u=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}},this.contentItems.length===0?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},super.getElementArea(this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+i*.25,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+i*.5,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+i*.25,y1:n.y1,x2:n.x1+i*.75,y2:n.y1+u*.5},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+u*.5}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+i*.75,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+i*.5,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+i*.25,y1:n.y1+u*.5,x2:n.x1+i*.75,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+u*.5,x2:n.x2,y2:n.y2}},super.getElementArea(this.element))}positionHeader(t){this._header.side!==t&&(this._header.setSide(t),this._headerSideChanged=!0,this.setupHeaderPosition())}updateNodeSize(){if(this.element.style.display!=="none"){const t=Tt(this.element);if(this._header.show){const n=this._header.leftRightSided?Wi.width:Wi.height;t[n]-=this.layoutManager.layoutConfig.dimensions.headerHeight}this._childElementContainer.style.width=Y(t.width),this._childElementContainer.style.height=Y(t.height);for(let n=0;n<this.contentItems.length;n++)this.contentItems[n].element.style.width=Y(t.width),this.contentItems[n].element.style.height=Y(t.height);this.emit("resize"),this.emitStateChangedEvent()}}highlightHeaderDropZone(t){const n=this._header.lastVisibleTabIndex+1,u=this._header.tabsContainerElement.childNodes,s=new Array(n);let o=0,r=0;for(;r<n;){const c=u[o++];c!==this.layoutManager.tabDropPlaceholder&&(s[r++]=c)}const l=this.layoutManager.dropTargetIndicator;if(l===null)throw new ae("SHHDZDTI97110");let a;if(n===0){const c=this._header.element.getBoundingClientRect(),d=c.top+document.body.scrollTop,h=c.left+document.body.scrollLeft;a={x1:h,x2:h+100,y1:d+c.height-20,y2:d+c.height},this._dropIndex=0}else{let c=0,d=!1,h,f,m,g;do{g=s[c];const I=g.getBoundingClientRect(),T=I.top+document.body.scrollTop,L=I.left+document.body.scrollLeft;this._header.leftRightSided?(f=T,h=L,m=I.height):(f=L,h=T,m=I.width),t>=f&&t<f+m?d=!0:c++}while(c<n&&!d);if(d===!1&&t<f)return;const _=f+m/2;t<_?(this._dropIndex=c,g.insertAdjacentElement("beforebegin",this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(c+1,n),g.insertAdjacentElement("afterend",this.layoutManager.tabDropPlaceholder));const x=this.layoutManager.tabDropPlaceholder.getBoundingClientRect(),v=x.top+document.body.scrollTop,w=x.left+document.body.scrollLeft,C=x.width;if(this._header.leftRightSided){const I=v;a={x1:h,x2:h+g.clientHeight,y1:I,y2:I+C}}else{const I=w;a={x1:I,x2:I+C,y1:h,y2:h+g.clientHeight}}}l.highlightArea(a,0)}resetHeaderDropZone(){this.layoutManager.tabDropPlaceholder.remove()}setupHeaderPosition(){Qt(this._header.element,this._header.show),this.element.classList.remove("lm_left","lm_right","lm_bottom"),this._header.leftRightSided&&this.element.classList.add("lm_"+this._header.side),this.updateSize(!1)}highlightBodyDropZone(t){if(this._contentAreaDimensions===void 0)throw new j("SHBDZC82265");{const n=this._contentAreaDimensions[t].highlightArea,i=this.layoutManager.dropTargetIndicator;if(i===null)throw new ae("SHBDZD96110");i.highlightArea(n,1),this._dropSegment=t}}handleResize(){this._header.updateTabSizes()}handleMaximised(){this._header.processMaximised()}handleMinimised(){this._header.processMinimised()}handlePopoutEvent(){this.popout()}handleHeaderClickEvent(t){const n=me.headerClickEventName,i=new me.ClickBubblingEvent(n,this,t);this.emit(n,i)}handleHeaderTouchStartEvent(t){const n=me.headerTouchStartEventName,i=new me.TouchStartBubblingEvent(n,this,t);this.emit(n,i)}handleHeaderComponentRemoveEvent(t){this.removeChild(t,!1)}handleHeaderComponentFocusEvent(t){this.setActiveComponentItem(t,!0)}handleHeaderComponentStartDragEvent(t,n,i,u){this.isMaximised===!0&&this.toggleMaximise(),this.layoutManager.startComponentDrag(t,n,i,u,this)}createHeaderConfig(){if(this._headerSideChanged){const t=this._header.show?this._header.side:!1;let n=et.Header.createCopy(this._headerConfig,t);return n===void 0&&(n={show:t,popout:void 0,maximise:void 0,close:void 0,minimise:void 0,tabDropdown:void 0}),n}else return et.Header.createCopy(this._headerConfig)}emitStateChangedEvent(){this.emitBaseBubblingEvent("stateChanged")}}(function(e){function t(n){const i=n.createElement("div");return i.classList.add("lm_item"),i.classList.add("lm_stack"),i}e.createElement=t})(wt||(wt={}));class Zr extends me{constructor(t,n,i,u,s,o){if(super(),this._dragListener=i,this._layoutManager=u,this._componentItem=s,this._originalParent=o,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",(r,l,a)=>this.onDrag(r,l,a)),this._dragListener.on("dragStop",()=>this.onDrop()),this.createDragProxyElements(t,n),this._componentItem.parent===null)throw new ae("DPC10097");this._componentItemFocused=this._componentItem.focused,this._componentItemFocused&&this._componentItem.blur(),this._componentItem.parent.removeChild(this._componentItem,!0),this.setDimensions(),document.body.appendChild(this._element),this.determineMinMaxXY(),this._layoutManager.calculateItemAreas(),this.setDropPosition(t,n)}get element(){return this._element}createDragProxyElements(t,n){this._element=document.createElement("div"),this._element.classList.add("lm_dragProxy");const i=document.createElement("div");i.classList.add("lm_header");const u=document.createElement("div");u.classList.add("lm_tabs");const s=document.createElement("div");s.classList.add("lm_tab");const o=document.createElement("span");o.classList.add("lm_title"),s.appendChild(o),u.appendChild(s),i.appendChild(u),this._proxyContainerElement=document.createElement("div"),this._proxyContainerElement.classList.add("lm_content"),this._element.appendChild(i),this._element.appendChild(this._proxyContainerElement),this._originalParent instanceof wt&&this._originalParent.headerShow&&(this._sided=this._originalParent.headerLeftRightSided,this._element.classList.add("lm_"+this._originalParent.headerSide),[zt.right,zt.bottom].indexOf(this._originalParent.headerSide)>=0&&this._proxyContainerElement.insertAdjacentElement("afterend",i)),this._element.style.left=Y(t),this._element.style.top=Y(n),s.setAttribute("title",this._componentItem.title),o.insertAdjacentText("afterbegin",this._componentItem.title),this._proxyContainerElement.appendChild(this._componentItem.element)}determineMinMaxXY(){const t=this._layoutManager.groundItem;if(t===void 0)throw new j("DPDMMXY73109");{const i=t.element.getBoundingClientRect();this._minX=i.left+document.body.scrollLeft,this._minY=i.top+document.body.scrollTop,this._maxX=this._minX+i.width,this._maxY=this._minY+i.height}}onDrag(t,n,i){const u=i.pageX,s=i.pageY;this.setDropPosition(u,s),this._componentItem.drag()}setDropPosition(t,n){this._layoutManager.layoutConfig.settings.constrainDragToContainer&&(t<=this._minX?t=Math.ceil(this._minX):t>=this._maxX&&(t=Math.floor(this._maxX)),n<=this._minY?n=Math.ceil(this._minY):n>=this._maxY&&(n=Math.floor(this._maxY))),this._element.style.left=Y(t),this._element.style.top=Y(n),this._area=this._layoutManager.getArea(t,n),this._area!==null&&(this._lastValidArea=this._area,this._area.contentItem.highlightDropZone(t,n,this._area))}onDrop(){const t=this._layoutManager.dropTargetIndicator;if(t===null)throw new ae("DPOD30011");t.hide(),this._componentItem.exitDragMode();let n;this._area!==null?(n=this._componentItem,this._area.contentItem.onDrop(n,this._area)):this._lastValidArea!==null?(n=this._componentItem,this._lastValidArea.contentItem.onDrop(n,this._lastValidArea)):this._originalParent?(n=this._componentItem,this._originalParent.addChild(n)):this._componentItem.destroy(),this._element.remove(),this._layoutManager.emit("itemDropped",this._componentItem),this._componentItemFocused&&n!==void 0&&n.focus()}setDimensions(){const t=this._layoutManager.layoutConfig.dimensions;if(t===void 0)throw new Error("DragProxy.setDimensions: dimensions undefined");let n=t.dragProxyWidth,i=t.dragProxyHeight;if(n===void 0||i===void 0)throw new Error("DragProxy.setDimensions: width and/or height undefined");const u=this._layoutManager.layoutConfig.header.show===!1?0:t.headerHeight;this._element.style.width=Y(n),this._element.style.height=Y(i),n-=this._sided?u:0,i-=this._sided?0:u,this._proxyContainerElement.style.width=Y(n),this._proxyContainerElement.style.height=Y(i),this._componentItem.enterDragMode(n,i),this._componentItem.show()}}class oi{constructor(t,n,i,u,s,o,r){this._layoutManager=t,this._element=n,this._extraAllowableChildTargets=i,this._componentTypeOrFtn=u,this._componentState=s,this._title=o,this._id=r,this._dragListener=null,this._dummyGroundContainer=document.createElement("div");const l=Sn.createDefault("row");this._dummyGroundContentItem=new Lt(this._layoutManager,l,this._dummyGroundContainer),this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener(),this._dragListener=new ys(this._element,this._extraAllowableChildTargets),this._dragListener.on("dragStart",(t,n)=>this.onDragStart(t,n)),this._dragListener.on("dragStop",()=>this.onDragStop())}onDragStart(t,n){var i;const u="component";let s;if(typeof this._componentTypeOrFtn=="function"){const l=this._componentTypeOrFtn();oi.isDragSourceComponentItemConfig(l)?s={type:u,componentState:l.state,componentType:l.type,title:(i=l.title)!==null&&i!==void 0?i:this._title}:s=l}else s={type:u,componentState:this._componentState,componentType:this._componentTypeOrFtn,title:this._title,id:this._id};const o=Pt.resolve(s,!1),r=new Zt(this._layoutManager,o,this._dummyGroundContentItem);if(this._dummyGroundContentItem.contentItems.push(r),this._dragListener===null)throw new ae("DSODSD66746");{const l=new Zr(t,n,this._dragListener,this._layoutManager,r,this._dummyGroundContentItem),a=this._layoutManager.transitionIndicator;if(a===null)throw new ae("DSODST66746");a.transitionElements(this._element,l.element)}}onDragStop(){this.createDragListener()}removeDragListener(){this._dragListener!==null&&(this._dragListener.destroy(),this._dragListener=null)}}(function(e){function t(n){return!("componentType"in n)}e.isDragSourceComponentItemConfig=t})(oi||(oi={}));class cd{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_dropTargetIndicator");const t=document.createElement("div");t.classList.add("lm_inner"),this._element.appendChild(t),document.body.appendChild(this._element)}destroy(){this._element.remove()}highlightArea(t,n){this._element.style.left=Y(t.x1+n),this._element.style.top=Y(t.y1+n),this._element.style.width=Y(t.x2-t.x1-n),this._element.style.height=Y(t.y2-t.y1-n),this._element.style.display="block"}hide(){Qt(this._element,!1)}}class dd{constructor(){this._element=document.createElement("div"),this._element.classList.add("lm_transition_indicator"),document.body.appendChild(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null}destroy(){this._element.remove()}transitionElements(t,n){}nextAnimationFrame(){}measure(t){const n=t.getBoundingClientRect();return{left:n.left,top:n.top,width:t.offsetWidth,height:t.offsetHeight}}}class Jt extends me{constructor(t){super(),this._layoutManager=t,this._childEventListener=n=>this.onEventFromChild(n),globalThis.addEventListener(Jt.ChildEventName,this._childEventListener,{passive:!0})}emit(t,...n){t==="userBroadcast"?this.emitUserBroadcast(...n):super.emit(t,...n)}emitUserBroadcast(...t){this.handleUserBroadcastEvent("userBroadcast",t)}destroy(){globalThis.removeEventListener(Jt.ChildEventName,this._childEventListener)}handleUserBroadcastEvent(t,n){this._layoutManager.isSubWindow?this.propagateToParent(t,n):this.propagateToThisAndSubtree(t,n)}onEventFromChild(t){const n=t.detail;this.handleUserBroadcastEvent(n.eventName,n.args)}propagateToParent(t,n){const u={bubbles:!0,cancelable:!0,detail:{layoutManager:this._layoutManager,eventName:t,args:n}},s=new CustomEvent(Jt.ChildEventName,u),o=globalThis.opener;if(o===null)throw new ae("EHPTP15778");o.dispatchEvent(s)}propagateToThisAndSubtree(t,n){this.emitUnknown(t,...n);for(let i=0;i<this._layoutManager.openPopouts.length;i++){const u=this._layoutManager.openPopouts[i].getGlInstance();u&&u.eventHub.propagateToThisAndSubtree(t,n)}}}(function(e){e.ChildEventName="gl_child_event"})(Jt||(Jt={}));class Yt extends me{constructor(t){super(),this.resizeWithContainerAutomatically=!1,this.resizeDebounceInterval=100,this.resizeDebounceExtendedWhenPossible=!0,this._isInitialised=!1,this._groundItem=void 0,this._openPopouts=[],this._dropTargetIndicator=null,this._transitionIndicator=null,this._itemAreas=[],this._maximisePlaceholder=Yt.createMaximisePlaceElement(document),this._tabDropPlaceholder=Yt.createTabDropPlaceholderElement(document),this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._eventHub=new Jt(this),this._width=null,this._height=null,this._virtualSizedContainers=[],this._virtualSizedContainerAddingBeginCount=0,this._sizeInvalidationBeginCount=0,this._resizeObserver=new ResizeObserver(()=>this.handleContainerResize()),this._windowBeforeUnloadListener=()=>this.onBeforeUnload(),this._windowBeforeUnloadListening=!1,this._maximisedStackBeforeDestroyedListener=n=>this.cleanupBeforeMaximisedStackDestroyed(n),this.isSubWindow=t.isSubWindow,this._constructorOrSubWindowLayoutConfig=t.constructorOrSubWindowLayoutConfig,$i.checkInitialise(),ni.checkInitialise(),t.containerElement!==void 0&&(this._containerElement=t.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(this._groundItem===void 0)throw new Error("Cannot access rootItem before init");return this._groundItem.contentItems.length===0?void 0:this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}get deprecatedConstructor(){return!this.isSubWindow&&this._constructorOrSubWindowLayoutConfig!==void 0}destroy(){if(this._isInitialised){this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1),this.layoutConfig.settings.closePopoutsOnUnload===!0&&this.closeAllOpenPopouts(),this._resizeObserver.disconnect(),this.checkClearResizeTimeout(),this._groundItem!==void 0&&this._groundItem.destroy(),this._tabDropPlaceholder.remove(),this._dropTargetIndicator!==null&&this._dropTargetIndicator.destroy(),this._transitionIndicator!==null&&this._transitionIndicator.destroy(),this._eventHub.destroy();for(const t of this._dragSources)t.destroy();this._dragSources=[],this._isInitialised=!1}}minifyConfig(t){return N.minifyConfig(t)}unminifyConfig(t){return N.unminifyConfig(t)}init(){this.setContainer(),this._dropTargetIndicator=new cd,this._transitionIndicator=new dd,this.updateSizeFromContainer();let t;if(this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new j("LMIU07155");{const i=this._constructorOrSubWindowLayoutConfig.root;if(i===void 0)throw new J("LMIC07156");if(fe.isComponent(i))t=i;else throw new J("LMIC07157");const u=$e.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},u),{root:void 0})}}else this._constructorOrSubWindowLayoutConfig===void 0?this.layoutConfig=N.createDefault():this.layoutConfig=$e.resolve(this._constructorOrSubWindowLayoutConfig);const n=this.layoutConfig;this._groundItem=new Lt(this,n.root,this._containerElement),this._groundItem.init(),this.checkLoadedLayoutMaximiseItem(),this._resizeObserver.observe(this._containerElement),this._isInitialised=!0,this.adjustColumnsResponsive(),this.emit("initialised"),t!==void 0&&this.loadComponentAsRoot(t)}loadLayout(t){if(this.isInitialised){if(this._groundItem===void 0)throw new j("LMLL11119");this.createSubWindows(),this.layoutConfig=$e.resolve(t),this._groundItem.loadRoot(this.layoutConfig.root),this.checkLoadedLayoutMaximiseItem(),this.adjustColumnsResponsive()}else throw new Error("GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor")}saveLayout(){if(this._isInitialised===!1)throw new Error("Can't create config, layout not yet initialised");if(this._groundItem===void 0)throw new j("LMTC18244");{const t=this._groundItem.calculateConfigContent();let n;t.length!==1?n=void 0:n=t[0],this.reconcilePopoutWindows();const i=[];for(let s=0;s<this._openPopouts.length;s++)i.push(this._openPopouts[s].toConfig());return{root:n,openPopouts:i,settings:N.Settings.createCopy(this.layoutConfig.settings),dimensions:N.Dimensions.createCopy(this.layoutConfig.dimensions),header:N.Header.createCopy(this.layoutConfig.header),resolved:!0}}}clear(){if(this._groundItem===void 0)throw new j("LMCL11129");this._groundItem.clearRoot()}toConfig(){return this.saveLayout()}newComponent(t,n,i){const u=this.newComponentAtLocation(t,n,i);if(u===void 0)throw new J("LMNC65588");return u}newComponentAtLocation(t,n,i,u){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const s=this.addComponentAtLocation(t,n,i,u);if(s===void 0)return;{const o=s.parentItem.contentItems[s.index];if(Ne.isComponentItem(o))return o;throw new J("LMNC992877533")}}}addComponent(t,n,i){const u=this.addComponentAtLocation(t,n,i);if(u===void 0)throw new J("LMAC99943");return u}addComponentAtLocation(t,n,i,u){const s={type:"component",componentType:t,componentState:n,title:i};return this.addItemAtLocation(s,u)}newItem(t){const n=this.newItemAtLocation(t);if(n===void 0)throw new J("LMNC65588");return n}newItemAtLocation(t,n){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{const i=this.addItemAtLocation(t,n);return i===void 0?void 0:i.parentItem.contentItems[i.index]}}addItem(t){const n=this.addItemAtLocation(t);if(n===void 0)throw new J("LMAI99943");return n}addItemAtLocation(t,n){if(this._groundItem===void 0)throw new Error("Cannot add component before init");{n===void 0&&(n=Yt.defaultLocationSelectors);const i=this.findFirstLocation(n);if(i===void 0)return;{let u=i.parentItem,s;switch(u.type){case A.ground:{s=u.addItem(t,i.index),s>=0?u=this._groundItem.contentItems[0]:s=0;break}case A.row:case A.column:{s=u.addItem(t,i.index);break}case A.stack:if(fe.isComponent(t)){s=u.addItem(t,i.index);break}else throw Error(Xt[6]);case A.component:throw new J("LMAIALC87444602");default:throw new je("LMAIALU98881733",u.type)}if(fe.isComponent(t)){const o=u.contentItems[s];Ne.isStack(o)&&(u=o,s=0)}return i.parentItem=u,i.index=s,i}}}loadComponentAsRoot(t){if(this._groundItem===void 0)throw new Error("Cannot add item before init");this._groundItem.loadComponentAsRoot(t)}updateSize(t,n){this.setSize(t,n)}setSize(t,n){if(this._width=t,this._height=n,this._isInitialised===!0){if(this._groundItem===void 0)throw new j("LMUS18881");if(this._groundItem.setSize(this._width,this._height),this._maximisedStack){const{width:i,height:u}=Tt(this._containerElement);Xe(this._maximisedStack.element,i),Qe(this._maximisedStack.element,u),this._maximisedStack.updateSize(!1)}this.adjustColumnsResponsive()}}beginSizeInvalidation(){this._sizeInvalidationBeginCount++}endSizeInvalidation(){--this._sizeInvalidationBeginCount===0&&this.updateSizeFromContainer()}updateSizeFromContainer(){const{width:t,height:n}=Tt(this._containerElement);this.setSize(t,n)}updateRootSize(t=!1){if(this._groundItem===void 0)throw new j("LMURS28881");this._groundItem.updateSize(t)}createAndInitContentItem(t,n){const i=this.createContentItem(t,n);return i.init(),i}createContentItem(t,n){if(typeof t.type!="string")throw new Kt("Missing parameter 'type'",JSON.stringify(t));return Z.isComponentItem(t)&&!(n instanceof wt)&&n&&!(this.isSubWindow===!0&&n instanceof Lt)&&(t={type:A.stack,content:[t],size:t.size,sizeUnit:t.sizeUnit,minSize:t.minSize,minSizeUnit:t.minSizeUnit,id:t.id,maximised:t.maximised,isClosable:t.isClosable,activeItemIndex:0,header:void 0}),this.createContentItemFromConfig(t,n)}findFirstComponentItemById(t){if(this._groundItem===void 0)throw new j("LMFFCIBI82446");return this.findFirstContentItemTypeByIdRecursive(A.component,t,this._groundItem)}createPopout(t,n,i,u){return t instanceof Ne?this.createPopoutFromContentItem(t,n,i,u):this.createPopoutFromItemConfig(t,n,i,u)}createPopoutFromContentItem(t,n,i,u){let s=t.parent,o=t;for(;s!==null&&s.contentItems.length===1&&!s.isGround;)o=s,s=s.parent;if(s===null)throw new ae("LMCPFCI00834");{if(u===void 0&&(u=s.contentItems.indexOf(o)),i!==null&&s.addPopInParentId(i),n===void 0){const l=globalThis.screenX||globalThis.screenLeft,a=globalThis.screenY||globalThis.screenTop,c=t.element.offsetLeft,d=t.element.offsetTop,{width:h,height:f}=Tt(t.element);n={left:l+c,top:a+d,width:h,height:f}}const r=t.toConfig();if(t.remove(),tn.isRootItemConfig(r))return this.createPopoutFromItemConfig(r,n,i,u);throw new Error(`${Xt[0]}`)}}beginVirtualSizedContainerAdding(){++this._virtualSizedContainerAddingBeginCount===0&&(this._virtualSizedContainers.length=0)}addVirtualSizedContainer(t){this._virtualSizedContainers.push(t)}endVirtualSizedContainerAdding(){if(--this._virtualSizedContainerAddingBeginCount===0){const t=this._virtualSizedContainers.length;if(t>0){this.fireBeforeVirtualRectingEvent(t);for(let n=0;n<t;n++)this._virtualSizedContainers[n].notifyVirtualRectingRequired();this.fireAfterVirtualRectingEvent(),this._virtualSizedContainers.length=0}}}fireBeforeVirtualRectingEvent(t){this.beforeVirtualRectingEvent!==void 0&&this.beforeVirtualRectingEvent(t)}fireAfterVirtualRectingEvent(){this.afterVirtualRectingEvent!==void 0&&this.afterVirtualRectingEvent()}createPopoutFromItemConfig(t,n,i,u){const s=this.toConfig(),o={root:t,openPopouts:[],settings:s.settings,dimensions:s.dimensions,header:s.header,window:n,parentId:i,indexInParent:u,resolved:!0};return this.createPopoutFromPopoutLayoutConfig(o)}createPopoutFromPopoutLayoutConfig(t){var n,i,u,s;const o=t.window,r={left:(n=o.left)!==null&&n!==void 0?n:globalThis.screenX||globalThis.screenLeft+20,top:(i=o.top)!==null&&i!==void 0?i:globalThis.screenY||globalThis.screenTop+20,width:(u=o.width)!==null&&u!==void 0?u:500,height:(s=o.height)!==null&&s!==void 0?s:309},l=new sd(t,r,this);return l.on("initialised",()=>this.emit("windowOpened",l)),l.on("closed",()=>this.reconcilePopoutWindows()),this._openPopouts.push(l),this.layoutConfig.settings.closePopoutsOnUnload&&!this._windowBeforeUnloadListening&&(globalThis.addEventListener("beforeunload",this._windowBeforeUnloadListener,{passive:!0}),this._windowBeforeUnloadListening=!0),l}closeAllOpenPopouts(){for(let t=0;t<this._openPopouts.length;t++)this._openPopouts[t].close();this._openPopouts.length=0,this._windowBeforeUnloadListening&&(globalThis.removeEventListener("beforeunload",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1)}newDragSource(t,n,i,u,s){const o=new oi(this,t,[],n,i,u,s);return this._dragSources.push(o),o}removeDragSource(t){nd(t,this._dragSources),t.destroy()}startComponentDrag(t,n,i,u,s){new Zr(t,n,i,this,u,s)}focusComponent(t,n=!1){t.focus(n)}clearComponentFocus(t=!1){this.setFocusedComponentItem(void 0,t)}setFocusedComponentItem(t,n=!1){if(t!==this._focusedComponentItem){let i;if(t===void 0||(i=t.parentItem),this._focusedComponentItem!==void 0){const u=this._focusedComponentItem;this._focusedComponentItem=void 0,u.setBlurred(n);const s=u.parentItem;i===s?i=void 0:s.setFocusedValue(!1)}t!==void 0&&(this._focusedComponentItem=t,t.setFocused(n),i!==void 0&&i.setFocusedValue(!0))}}createContentItemFromConfig(t,n){switch(t.type){case A.ground:throw new J("LMCCIFC68871");case A.row:return new nn(!1,this,t,n);case A.column:return new nn(!0,this,t,n);case A.stack:return new wt(this,t,n);case A.component:return new Zt(this,t,n);default:throw new je("CCC913564",t.type,"Invalid Config Item type specified")}}setMaximisedStack(t){t===void 0?this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack():t!==this._maximisedStack&&(this._maximisedStack!==void 0&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(t))}checkMinimiseMaximisedStack(){this._maximisedStack!==void 0&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(t){this._maximisedStack!==null&&this._maximisedStack===t.target&&(this._maximisedStack.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout(()=>globalThis.close(),1)}getArea(t,n){let i=null,u=1/0;for(let s=0;s<this._itemAreas.length;s++){const o=this._itemAreas[s];t>=o.x1&&t<o.x2&&n>=o.y1&&n<o.y2&&u>o.surface&&(u=o.surface,i=o)}return i}calculateItemAreas(){const t=this.getAllContentItems(),n=this._groundItem;if(n===void 0)throw new j("LMCIAR44365");if(t.length===1){const i=n.getElementArea();if(i===null)throw new ae("LMCIARA44365");this._itemAreas=[i];return}else{n.contentItems[0].isStack?this._itemAreas=[]:this._itemAreas=n.createSideAreas();for(let i=0;i<t.length;i++){const u=t[i];if(Ne.isStack(u)){const s=u.getArea();if(s===null)continue;{this._itemAreas.push(s);const o=u.contentAreaDimensions;if(o===void 0)throw new j("LMCIASC45599");{const r=o.header.highlightArea,l=(r.x2-r.x1)*(r.y2-r.y1),a={x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2,contentItem:u,surface:l};this._itemAreas.push(a)}}}}}}checkLoadedLayoutMaximiseItem(){if(this._groundItem===void 0)throw new j("LMCLLMI43432");{const t=this._groundItem.getConfigMaximisedItems();if(t.length>0){let n=t[0];if(Ne.isComponentItem(n)){const i=n.parent;if(i===null)throw new ae("LMXLLMI69999");n=i}if(Ne.isStack(n))n.maximise();else throw new J("LMCLLMI19993")}}}processMaximiseStack(t){if(this._maximisedStack=t,t.on("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),t.element.classList.add("lm_maximised"),t.element.insertAdjacentElement("afterend",this._maximisePlaceholder),this._groundItem===void 0)throw new j("LMMXI19993");{this._groundItem.element.prepend(t.element);const{width:n,height:i}=Tt(this._containerElement);Xe(t.element,n),Qe(t.element,i),t.updateSize(!0),t.focusActiveContentItem(),this._maximisedStack.emit("maximised"),this.emit("stateChanged")}}processMinimiseMaximisedStack(){if(this._maximisedStack===void 0)throw new J("LMMMS74422");{const t=this._maximisedStack;if(t.parent===null)throw new ae("LMMI13668");t.element.classList.remove("lm_maximised"),this._maximisePlaceholder.insertAdjacentElement("afterend",t.element),this._maximisePlaceholder.remove(),this.updateRootSize(!0),this._maximisedStack=void 0,t.off("beforeItemDestroyed",this._maximisedStackBeforeDestroyedListener),t.emit("minimised"),this.emit("stateChanged")}}reconcilePopoutWindows(){const t=[];for(let n=0;n<this._openPopouts.length;n++)this._openPopouts[n].getWindow().closed===!1?t.push(this._openPopouts[n]):this.emit("windowClosed",this._openPopouts[n]);this._openPopouts.length!==t.length&&(this._openPopouts=t,this.emit("stateChanged"))}getAllContentItems(){if(this._groundItem===void 0)throw new j("LMGACI13130");return this._groundItem.getAllContentItems()}createSubWindows(){for(let t=0;t<this.layoutConfig.openPopouts.length;t++){const n=this.layoutConfig.openPopouts[t];this.createPopoutFromPopoutLayoutConfig(n)}}handleContainerResize(){this.resizeWithContainerAutomatically&&this.processResizeWithDebounce()}processResizeWithDebounce(){this.resizeDebounceExtendedWhenPossible&&this.checkClearResizeTimeout(),this._resizeTimeoutId===void 0&&(this._resizeTimeoutId=setTimeout(()=>{this._resizeTimeoutId=void 0,this.beginSizeInvalidation(),this.endSizeInvalidation()},this.resizeDebounceInterval))}checkClearResizeTimeout(){this._resizeTimeoutId!==void 0&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=void 0)}setContainer(){var t;const n=document.body,i=(t=this._containerElement)!==null&&t!==void 0?t:n;if(i===n){this.resizeWithContainerAutomatically=!0;const u=document.documentElement;u.style.height="100%",u.style.margin="0",u.style.padding="0",u.style.overflow="clip",n.style.height="100%",n.style.margin="0",n.style.padding="0",n.style.overflow="clip"}this._containerElement=i}onBeforeUnload(){this.destroy()}adjustColumnsResponsive(){if(this._groundItem===void 0)throw new j("LMACR20883");if(this._firstLoad=!1,this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&this._groundItem.contentItems.length>0&&this._groundItem.contentItems[0].isRow){if(this._groundItem===void 0||this._width===null)throw new j("LMACR77412");{const t=this._groundItem.contentItems[0].contentItems.length;if(t<=1)return;{const n=this.layoutConfig.dimensions.defaultMinItemWidth;if(t*n<=this._width)return;{this._updatingColumnsResponsive=!0;const u=Math.max(Math.floor(this._width/n),1),s=t-u,o=this._groundItem.contentItems[0],r=this.getAllStacks();if(r.length===0)throw new J("LMACRS77413");{const l=r[0];for(let a=0;a<s;a++){const c=o.contentItems[o.contentItems.length-1];this.addChildContentItemsToContainer(l,c)}this._updatingColumnsResponsive=!1}}}}}}useResponsiveLayout(){const t=this.layoutConfig.settings,n=t.responsiveMode===ei.always,i=t.responsiveMode===ei.onload&&this._firstLoad;return n||i}addChildContentItemsToContainer(t,n){const i=n.contentItems;if(n instanceof wt)for(let u=0;u<i.length;u++){const s=i[u];n.removeChild(s,!0),t.addChild(s)}else for(let u=0;u<i.length;u++){const s=i[u];this.addChildContentItemsToContainer(t,s)}}getAllStacks(){if(this._groundItem===void 0)throw new j("LMFASC52778");{const t=[];return this.findAllStacksRecursive(t,this._groundItem),t}}findFirstContentItemType(t){if(this._groundItem===void 0)throw new j("LMFFCIT82446");return this.findFirstContentItemTypeRecursive(t,this._groundItem)}findFirstContentItemTypeRecursive(t,n){const i=n.contentItems,u=i.length;if(u!==0){for(let s=0;s<u;s++){const o=i[s];if(o.type===t)return o}for(let s=0;s<u;s++){const o=i[s],r=this.findFirstContentItemTypeRecursive(t,o);if(r!==void 0)return r}return}}findFirstContentItemTypeByIdRecursive(t,n,i){const u=i.contentItems,s=u.length;if(s!==0){for(let o=0;o<s;o++){const r=u[o];if(r.type===t&&r.id===n)return r}for(let o=0;o<s;o++){const r=u[o],l=this.findFirstContentItemTypeByIdRecursive(t,n,r);if(l!==void 0)return l}return}}findAllStacksRecursive(t,n){const i=n.contentItems;for(let u=0;u<i.length;u++){const s=i[u];s instanceof wt?t.push(s):s.isComponent||this.findAllStacksRecursive(t,s)}}findFirstLocation(t){const n=t.length;for(let i=0;i<n;i++){const u=t[i],s=this.findLocation(u);if(s!==void 0)return s}}findLocation(t){const n=t.index;switch(t.typeId){case 0:{if(this._focusedComponentItem===void 0)return;{const i=this._focusedComponentItem.parentItem,u=i.contentItems,s=u.length;if(n===void 0)return{parentItem:i,index:s};{const r=u.indexOf(this._focusedComponentItem)+n;return r<0||r>s?void 0:{parentItem:i,index:r}}}}case 1:{if(this._focusedComponentItem===void 0)return;{const i=this._focusedComponentItem.parentItem;return this.tryCreateLocationFromParentItem(i,n)}}case 2:{const i=this.findFirstContentItemType(A.stack);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 3:{let i=this.findFirstContentItemType(A.row);return i!==void 0?this.tryCreateLocationFromParentItem(i,n):(i=this.findFirstContentItemType(A.column),i!==void 0?this.tryCreateLocationFromParentItem(i,n):void 0)}case 4:{const i=this.findFirstContentItemType(A.row);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 5:{const i=this.findFirstContentItemType(A.column);return i===void 0?void 0:this.tryCreateLocationFromParentItem(i,n)}case 6:{if(this._groundItem===void 0)throw new j("LMFLRIF18244");return this.rootItem!==void 0?void 0:n===void 0||n===0?{parentItem:this._groundItem,index:0}:void 0}case 7:{if(this._groundItem===void 0)throw new j("LMFLF18244");{const i=this._groundItem.contentItems;if(i.length===0)return n===void 0||n===0?{parentItem:this._groundItem,index:0}:void 0;{const u=i[0];return this.tryCreateLocationFromParentItem(u,n)}}}}}tryCreateLocationFromParentItem(t,n){const u=t.contentItems.length;return n===void 0?{parentItem:t,index:u}:n<0||n>u?void 0:{parentItem:t,index:n}}}(function(e){function t(i){const u=i.createElement("div");return u.classList.add("lm_maximise_place"),u}e.createMaximisePlaceElement=t;function n(i){const u=i.createElement("div");return u.classList.add("lm_drop_tab_placeholder"),u}e.createTabDropPlaceholderElement=n,e.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}],e.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]})(Yt||(Yt={}));class ri extends Yt{constructor(t,n,i,u){if(super(ri.createLayoutManagerConstructorParameters(t,n)),this._bindComponentEventHanlderPassedInConstructor=!1,this._creationTimeoutPassed=!1,n!==void 0&&typeof n=="function"&&(this.bindComponentEvent=n,this._bindComponentEventHanlderPassedInConstructor=!0,i!==void 0&&(this.unbindComponentEvent=i)),!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow){if(this._constructorOrSubWindowLayoutConfig===void 0)throw new j("VLC98823");{const s=$e.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},s),{root:void 0})}}u!==!0&&(this.deprecatedConstructor||this.init())}destroy(){this.bindComponentEvent=void 0,this.unbindComponentEvent=void 0,super.destroy()}init(){if(!this._bindComponentEventHanlderPassedInConstructor&&(document.readyState==="loading"||document.body===null)){document.addEventListener("DOMContentLoaded",()=>this.init(),{passive:!0});return}if(!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow===!0&&!this._creationTimeoutPassed){setTimeout(()=>this.init(),7),this._creationTimeoutPassed=!0;return}this.isSubWindow===!0&&(this._bindComponentEventHanlderPassedInConstructor||this.clearHtmlAndAdjustStylesForSubWindow(),window.__glInstance=this),super.init()}clearHtmlAndAdjustStylesForSubWindow(){const t=document.head,n=new Array(4);n[0]=document.querySelectorAll("body link"),n[1]=document.querySelectorAll("body style"),n[2]=document.querySelectorAll("template"),n[3]=document.querySelectorAll(".gl_keep");for(let u=0;u<n.length;u++){const s=n[u];for(let o=0;o<s.length;o++){const r=s[o];t.appendChild(r)}}const i=document.body;i.innerHTML="",i.style.visibility="visible",this.checkAddDefaultPopinButton(),document.body.offsetHeight}checkAddDefaultPopinButton(){if(this.layoutConfig.settings.popInOnClose)return!1;{const t=document.createElement("div");t.classList.add("lm_popin"),t.setAttribute("title",this.layoutConfig.header.dock);const n=document.createElement("div");n.classList.add("lm_icon");const i=document.createElement("div");return i.classList.add("lm_bg"),t.appendChild(n),t.appendChild(i),t.addEventListener("click",()=>this.emit("popIn")),document.body.appendChild(t),!0}}bindComponent(t,n){if(this.bindComponentEvent!==void 0)return this.bindComponentEvent(t,n);if(this.getComponentEvent!==void 0)return{virtual:!1,component:this.getComponentEvent(t,n)};{const u=`${Xt[2]}: ${JSON.stringify(n)}`;throw new Xc(u)}}unbindComponent(t,n,i){if(this.unbindComponentEvent!==void 0)this.unbindComponentEvent(t);else if(!n&&this.releaseComponentEvent!==void 0){if(i===void 0)throw new j("VCUCRCU333998");this.releaseComponentEvent(t,i)}}}(function(e){let t=!1;function n(i,u){const s=t?null:new URL(document.location.href).searchParams.get("gl-window");t=!0;const o=s!==null;let r,l;if(s!==null){const a=localStorage.getItem(s);if(a===null)throw new Error("Null gl-window Config");localStorage.removeItem(s);const c=JSON.parse(a),d=N.unminifyConfig(c);l=$e.fromResolved(d),i instanceof HTMLElement&&(r=i)}else i===void 0?l=void 0:i instanceof HTMLElement?(l=void 0,r=i):l=i,r===void 0&&u instanceof HTMLElement&&(r=u);return{constructorOrSubWindowLayoutConfig:l,isSubWindow:o,containerElement:r}}e.createLayoutManagerConstructorParameters=n})(ri||(ri={}));const fd={root:{type:A.row,content:[{type:"component",title:"White",header:{show:"left",popout:!1},componentType:"White",width:0},{type:"component",title:"MdEditor",header:{show:"top",popout:!1},componentType:"MdEditor",width:37},{type:"component",title:"MdViewer",header:{show:"top",popout:!1},componentType:"MdViewer",width:37},{type:"component",title:"SettingPanel",header:{show:"top",popout:!1},componentType:"SettingPanel",width:26}]}},hd={miniRow:fd},md={class:"main-bar menus-1"},pd={class:"menu-1",style:{padding:"0 28px 0 16px","font-weight":"bold","font-size":"16px",float:"right"}},bd={href:"https://github.com/LincZero/obsidian-chat-view-qq"},gd={xmlns:"http://www.w3.org/2000/svg",class:"icon github-icon",viewBox:"0 0 1024 1024",fill:"currentColor","aria-label":"github icon",name:"github",style:{width:"1.25rem",height:"1.25rem","vertical-align":"middle"}},_d={class:"menus-2"},xd=sn({__name:"TabBar",setup(e){$n("LAYOUT");let t=Ve("");Ve(null),Ve("*");const n=i=>{i.target.closest(".menus-1")||(t.value="")};return su(()=>{document.addEventListener("click",n)}),hr(()=>{document.removeEventListener("click",n)}),(i,u)=>(Le(),nt("div",md,[u[5]||(u[5]=B("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",color:"#11b981"}},"Markdown Online (with ChatView)",-1)),B("div",pd,[B("a",bd,[(Le(),nt("svg",gd,u[2]||(u[2]=[B("path",{d:"M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"},null,-1)])))])]),u[6]||(u[6]=B("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",float:"right"}},[B("a",{href:"https://linczero.github.io/obsidian-chat-view-qq/"},"")],-1)),u[7]||(u[7]=B("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",float:"right"}},[B("a",{href:"https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/Obsidian-Chat-View-QQ/"},"")],-1)),B("div",{class:"menu-1",style:{padding:"0 16px","font-weight":"bold","font-size":"16px",float:"right"},onClick:u[0]||(u[0]=$c(s=>ye(t)?t.value=de(t)==="serialLink"?"":"serialLink":t=de(t)==="serialLink"?"":"serialLink",["stop"])),onMouseover:u[1]||(u[1]=s=>ye(t)?t.value=de(t)===""?"":"serialLink":t=de(t)===""?"":"serialLink")},[u[4]||(u[4]=qr("  ")),Ke(B("div",_d,u[3]||(u[3]=[oc('<div class="menu-2" data-v-671a4cdf><a href="https://any-block.github.io/obsidian-any-block/" data-v-671a4cdf>AnyBlock</a></div><div class="menu-2" data-v-671a4cdf><a href="https://linczero.github.io/obsidian-node-flow/" data-v-671a4cdf>NodeFlow</a></div><div class="menu-2" data-v-671a4cdf><a href="https://linczero.github.io/obsidian-chat-view-qq/" data-v-671a4cdf>ChatView</a></div><div data-v-671a4cdf></div>',4)]),512),[[Ic,de(t)==="serialLink"]])],32)]))}}),bi=(e,t)=>{const n=e.__vccOpts||e;for(const[i,u]of t)n[i]=u;return n},Cd=bi(xd,[["__scopeId","data-v-671a4cdf"]]),Ku={"Normal markdown":`\`^\` demo

**! **

## 

### 



QQ//Telegram (ObsidianChatViewQQ)

 \`chat\`  ()

### 



wechat: \`() +  + \`

 [](https://linczero.github.io/MdNote_Public/ProductDoc/Plugin/Obsidian-Chat-View-QQ/)

## 

GPTQA, :



\`\`\`chat
me:
******

deepseek:
 deepseek

chatgpt:
 gpt

claude:
 claude

kimi:
 kimi

doubao:
 doubao

copilot:
 copilot

tongyi:
 

gemini:
 gemini
\`\`\`

## 

\`\`\`chat
{self=, time=true}
[=10002]

 0:00:00
QQQQ

QQ

 0:10:00
QQ10101

 0:20:00
QQ10001

 0:30:00
Q

 1:00:00
, 

- 
- QQ

 1:30:00


 7:00:00
QQ

10003 7:10:10


10004 7:10:12

\`\`\`
`},yd={class:"ab-app-editor"},vd=["value"],wd=["value"],Ed=sn({__name:"MarkdownEditor",props:{mdData:{}},setup(e){const t=e;function n(i){const u=i.target.value;t.mdData.mdPreset=u,t.mdData.string="# "+u+`

`+Ku[u]}return(i,u)=>(Le(),nt("div",yd,[B("select",{class:"preset-select",onChange:n,value:i.mdData.mdPreset},[(Le(!0),nt(ze,null,br(de(Ku),(s,o)=>(Le(),nt("option",{key:o,value:o},No(o),9,wd))),128))],40,vd),Ke(B("textarea",{class:"editor",spellcheck:"false","onUpdate:modelValue":u[0]||(u[0]=s=>i.mdData.string=s)},null,512),[[Wt,i.mdData.string]])]))}}),Id=bi(Ed,[["__scopeId","data-v-99947121"]]),W={fn_renderMarkdown:(e,t,n)=>{},registerContextMenu:e=>{},main_setting:{}};class gi{constructor(t){this.content=new Array,this.groupTitle="",this.dateTime="",this.isContinued=!1,this.isSelf=!1,this.LStyle=["qq","wechat","default"],this.block_this=t}render(){this.block_this.style=="qq"?this.render_qq():this.render_default()}render_qq(){const t=this.isContinued?"chat-view-small-vertical-margin":"chat-view-default-vertical-margin",n="chat-view-black",i=`chat-view-bubble-mode-${this.block_this.style}`,u=this.block_this.el,s=document.createElement("div");u.appendChild(s),s.classList.add("chat-view-bubble",`chat-view-align-${this.isSelf?"right":"left"}`,t,n,i);const o=document.createElement("div");s.appendChild(o),o.classList.add("chat-view-qq-icon");let r;this.sender.length>0&&(r=document.createElement("img"),o.appendChild(r),r.setAttribute("src",this.iconSrc));const l=document.createElement("div");s.appendChild(l),l.classList.add("chat-view-qq-msg");{const c=document.createElement("div");if(l.appendChild(c),c.classList.add("chat-view-qq-title"),this.groupTitle.length>0){const d=document.createElement("p");c.appendChild(d),d.classList.add("chat-view-qq-groupTitle"),d.textContent=this.groupTitle,d.setAttribute("title",this.groupTitle)}if(this.sender.length>0){const d=document.createElement("p");c.appendChild(d),d.classList.add("chat-view-qq-sender"),d.textContent=this.sender}if(this.block_this.isShowTime&&this.dateTime.length>0){const d=document.createElement("p");c.appendChild(d),d.classList.add("chat-view-qq-dateTime"),d.textContent=this.dateTime}}(()=>{const c=document.createElement("div");if(l.appendChild(c),c.setAttribute("style","clear: both;"),this.sender.length<=0){const _=document.createElement("div");l.appendChild(_),_.setAttribute("style","clear: both;");return}const d=document.createElement("div");l.appendChild(d),d.classList.add("pop");const h=document.createElement("div");d.appendChild(h),h.classList.add("shape-zero");const f=document.createElement("div");h.appendChild(f),f.classList.add("shape");const m=document.createElement("div");if(d.appendChild(m),m.classList.add("chat-view-qq-message-all","word99"),W.main_setting.isRenderMd)W.fn_renderMarkdown(this.content.join(`
`),m,this.block_this.ctx);else{let _=/!\[\]\((.*?[.jpg|.gif|.png|.webp])\)/;for(let x=0;x<this.content.length;x++){let v=this.content[x];const w=document.createElement("div");m.appendChild(w),w.classList.add("chat-view-qq-message-line");let C=v.split(_);C.length%2==0&&console.warn("split");for(let I=0;I<C.length;I++)if(I%2==0){const T=document.createElement("span");w.appendChild(T),T.classList.add("chat-view-qq-message-text"),T.textContent=C[I]}else if(/^file:\/\/\//.test(C[I])){const T=document.createElement("img");w.appendChild(T),T.classList.add("chat-view-qq-message-msg"),T.setAttribute("src",C[I].replace("file:///","app://local/"))}else if(/^http/.test(C[I])){const T=document.createElement("img");w.appendChild(T),T.classList.add("chat-view-qq-message-msg"),T.setAttribute("src",C[I])}else{let T="app://local/"+this.block_this.main_this.app.vault.adapter.basePath+"/"+this.block_this._.sourcePath.replace(/(\/(?!.*?\/).*?\.md$)/,"")+"/"+C[I];const L=document.createElement("img");w.appendChild(L),L.classList.add("chat-view-qq-message-msg"),L.setAttribute("src",T)}}}const g=document.createElement("div");l.appendChild(g),g.setAttribute("style","clear:both")})();const a=document.createElement("div");s.appendChild(a),a.setAttribute("style","clear:both")}render_default(){const t=this.isContinued?"chat-view-small-vertical-margin":"chat-view-default-vertical-margin",n=`chat-view-bubble-mode-${this.block_this.style}`;let i=this.block_this.el;const u=document.createElement("div");if(i.appendChild(u),u.classList.add("chat-view-bubble",`chat-view-align-${this.isSelf?"right":"left"}`,t,n),this.sender.length>0){const s=document.createElement("h4");u.appendChild(s),s.classList.add("chat-view-header"),s.textContent=this.sender}if(this.content[0].length>0){const s=document.createElement("p");u.appendChild(s),s.classList.add("chat-view-message"),s.textContent=this.content[0]}if(this.dateTime.length>0){const s=document.createElement("sub");u.appendChild(s),s.classList.add("chat-view-subtext"),s.textContent=this.dateTime}}}var Eu,fo;function Gr(){if(fo)return Eu;fo=1;function e(l,a){this.message=l,this.error=a}e.prototype=Object.create(Error.prototype);const t=/([0-9]+)?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;function n(l,a){a||(a={});const{meta:c=!1,strict:d=!0}=a;if(typeof l!="string")throw new e("Input must be a string");l=l.trim(),l=l.replace(/\r\n/g,`
`),l=l.replace(/\r/g,`
`);const h=l.split(`

`),f=h.shift();if(!f.startsWith("WEBVTT"))throw new e('Must start with "WEBVTT"');const m=f.split(`
`),g=m[0].replace("WEBVTT","");if(g.length>0&&g[0]!==" "&&g[0]!=="	")throw new e("Header comment must start with space or tab");if(h.length===0&&m.length===1)return{valid:!0,strict:d,cues:[],errors:[]};if(!c&&m.length>1&&m[1]!=="")throw new e("Missing blank line after signature");const{cues:_,errors:x}=u(h,d);if(d&&x.length>0)throw x[0];const v=c?i(m):null,w={valid:x.length===0,strict:d,cues:_,errors:x};return c&&(w.meta=v),w}function i(l){const a={};return l.slice(1).forEach(c=>{const d=c.indexOf(":"),h=c.slice(0,d).trim(),f=c.slice(d+1).trim();a[h]=f}),Object.keys(a).length>0?a:null}function u(l,a){const c=[];return{cues:l.map((h,f)=>{try{return s(h,f,a)}catch(m){return c.push(m),null}}).filter(Boolean),errors:c}}function s(l,a,c){let d="",h=0,f=.01,m="",g="";const _=l.split(`
`).filter(Boolean);if(_.length>0&&_[0].trim().startsWith("NOTE"))return null;if(_.length===1&&!_[0].includes("-->"))throw new e(`Cue identifier cannot be standalone (cue #${a})`);if(_.length>1&&!(_[0].includes("-->")||_[1].includes("-->"))){const v=`Cue identifier needs to be followed by timestamp (cue #${a})`;throw new e(v)}_.length>1&&_[1].includes("-->")&&(d=_.shift());const x=typeof _[0]=="string"&&_[0].split(" --> ");if(x.length!==2||!o(x[0])||!o(x[1]))throw new e(`Invalid cue timestamp (cue #${a})`);if(h=r(x[0]),f=r(x[1]),c){if(h>f)throw new e(`Start timestamp greater than end (cue #${a})`);if(f<=h)throw new e(`End must be greater than start (cue #${a})`)}if(!c&&f<h)throw new e(`End must be greater or equal to start when not strict (cue #${a})`);return g=x[1].replace(t,"").trim(),_.shift(),m=_.join(`
`),m?{identifier:d,start:h,end:f,text:m,styles:g}:!1}function o(l){return t.test(l)}function r(l){const a=l.match(t);let c=parseFloat(a[1]||0)*60*60;return c+=parseFloat(a[2])*60,c+=parseFloat(a[3]),c}return Eu={ParserError:e,parse:n},Eu}var Iu,ho;function Sd(){if(ho)return Iu;ho=1;function e(a,c){this.message=a,this.error=c}e.prototype=Object.create(Error.prototype);function t(a){if(!a)throw new e("Input must be non-null");if(typeof a!="object")throw new e("Input must be an object");if(Array.isArray(a))throw new e("Input cannot be array");if(!a.valid)throw new e("Input must be valid");let c=`WEBVTT
`;if(a.meta){if(typeof a.meta!="object"||Array.isArray(a.meta))throw new e("Metadata must be an object");Object.entries(a.meta).forEach(h=>{if(typeof h[1]!="string")throw new e(`Metadata value for "${h[0]}" must be string`);c+=`${h[0]}: ${h[1]}
`})}let d=null;return a.cues.forEach((h,f)=>{if(d&&d>h.start)throw new e(`Cue number ${f} is not in chronological order`);d=h.start,c+=`
`,c+=n(h),c+=`
`}),c}function n(a){if(typeof a!="object")throw new e("Cue malformed: not of type object");if(typeof a.identifier!="string"&&typeof a.identifier!="number"&&a.identifier!==null)throw new e(`Cue malformed: identifier value is not a string.
    ${JSON.stringify(a)}`);if(isNaN(a.start))throw new e(`Cue malformed: null start value.
    ${JSON.stringify(a)}`);if(isNaN(a.end))throw new e(`Cue malformed: null end value.
    ${JSON.stringify(a)}`);if(a.start>=a.end)throw new e(`Cue malformed: start timestamp greater than end
    ${JSON.stringify(a)}`);if(typeof a.text!="string")throw new e(`Cue malformed: null text value.
    ${JSON.stringify(a)}`);if(typeof a.styles!="string")throw new e(`Cue malformed: null styles value.
    ${JSON.stringify(a)}`);let c="";a.identifier.length>0&&(c+=`${a.identifier}
`);const d=i(a.start),h=i(a.end);return c+=`${d} --> ${h}`,c+=a.styles?` ${a.styles}`:"",c+=`
${a.text}`,c}function i(a){const c=u(s(a),2),d=u(o(a),2),h=u(r(a),2),f=u(l(a),3);return`${c}:${d}:${h}.${f}`}function u(a,c){let d=`${a}`;for(;d.length<c;)d=`0${d}`;return d}function s(a){return Math.floor(a/60/60)}function o(a){return Math.floor(a/60)%60}function r(a){return Math.floor(a%60)}function l(a){return Math.floor((a%1).toFixed(4)*1e3)}return Iu={CompilerError:e,compile:t},Iu}var Su,mo;function Kr(){if(mo)return Su;mo=1;const e=Gr().parse;function t(o,r){r=r||10;const l=e(o),a=[];let c=[],d=null,h=0,f=0;return l.cues.forEach((m,g)=>{const _=g===0,x=g===l.cues.length-1,v=m.start,w=m.end,C=x?1/0:l.cues[g+1].start,I=_?w:w-v,T=_?0:v-l.cues[g-1].end;h=h+I+T,`${g}`,a.length+1,d&&(c.push(d),h+=d.end-f,d=null),c.push(m);let L=C-w<r&&T<r&&h>r;if(n(f,r,C,T)){const H=i(x,w,r,h,f);a.push({duration:H,cues:c}),f+=H,h=0,c=[]}else L=!1;L&&(d=m)}),a}function n(o,r,l,a){const c=u(a,r);return(a<=r||c+o<l)&&l-o>=r}function i(o,r,l,a,c){let d=l;return a>l&&(d=u(a-l,l)),o?d=parseFloat((r-c).toFixed(2)):d=Math.round(d),d}function u(o,r){return o+=r-o%r,o}function s(o){}return Su={segment:t},Su}var ku,po;function kd(){if(po)return ku;po=1;const e=Kr().segment;function t(c,d,h){typeof h>"u"&&(h="900000");const f=e(c,d),m=[];return f.forEach((g,_)=>{const x=`WEBVTT
X-TIMESTAMP-MAP=MPEGTS:${h},LOCAL:00:00:00.000

${r(g.cues)}
`,v=u(_);m.push({filename:v,content:x})}),m}function n(c,d){const h=e(c,d),f=s(h);return`#EXTM3U
#EXT-X-TARGETDURATION:${Math.round(o(h))}
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
${f}
#EXT-X-ENDLIST
`}function i(c,d){return`${"0".repeat(Math.max(0,d-c.toString().length))}${c}`}function u(c){return`${c}.vtt`}function s(c){const d=[];return c.forEach((h,f)=>{d.push(`#EXTINF:${h.duration.toFixed(5)},
${u(f)}`)}),d.join(`
`)}function o(c){let d=0;return c.forEach(h=>{h.duration>d&&(d=h.duration)}),d}function r(c){const d=[];return c.forEach(h=>{d.push(l(h))}),d.join(`

`)}function l(c){const d=[];c.identifier&&d.push(c.identifier);const h=a(c.start),f=a(c.end),m=c.styles?`${c.styles}`:"";return d.push(`${h} --> ${f} ${m}`),d.push(c.text),d.join(`
`)}function a(c){const d=(c%1).toFixed(3);c=Math.round(c-d);const h=Math.floor(c/3600),f=Math.floor((c-h*3600)/60),m=c-h*3600-f*60;return`${`${i(h,2)}:`}${i(f,2)}:${i(m,2)}.${i(d*1e3,3)}`}return ku={hlsSegment:t,hlsSegmentPlaylist:n},ku}var Du,bo;function Dd(){if(bo)return Du;bo=1;const e=Gr().parse,t=Sd().compile,n=Kr().segment,i=kd();return Du={parse:e,compile:t,segment:n,hls:i},Du}var Ad=Dd();const fn=class fn{constructor(t,n,i,u){this.lines=new Array,this.formatConfigs=new Map,this.selfConfigs=new Array,this.iconConfigs=new Map,this.iconSrcConfigs=new Map,this.isShowTime=!1,this.icons=["https://img0.baidu.com/it/u=3452693033,2914629743&fm=253","https://img2.baidu.com/it/u=2231228778,2513904551&fm=253","https://img1.baidu.com/it/u=2012765083,4167954819&fm=253","https://t7.baidu.com/it/u=244930557,2366914938&fm=167","https://img1.baidu.com/it/u=492888272,1423520386&fm=253","https://img0.baidu.com/it/u=140901730,1320734199&fm=253","https://img0.baidu.com/it/u=277980071,3715613478&fm=253","https://img2.baidu.com/it/u=2666269671,1837195739&fm=253","https://img2.baidu.com/it/u=804455831,2693824866&fm=253","https://img0.baidu.com/it/u=2940741436,1248193933&fm=253"],this.webIcons={github:"https://favicone.com/github.com?s=64",chatgpt:"https://favicone.com/chatgpt.com?s=64",google:"https://favicone.com/google.com?s=64",poe:"https://favicone.com/poe.com?s=64",claude:"https://favicone.com/claude.com?s=64",doubao:"https://favicone.com/doubao.com?s=64",cursor:"https://favicone.com/cursor.com?s=64",segmentfault:"https://favicone.com/segmentfault.com?s=64",baidu:"https://favicone.com/baidu.com?s=64",zhihu:"https://favicone.com/zhihu.com?s=64",bing:"https://favicone.com/bing.com?s=64",youtube:"https://favicone.com/youtube.com?s=64",kimi:"https://statics.moonshot.cn/kimi-chat/favicon.ico",deepseek:"https://www.deepseek.com/favicon.ico",bilibili:"https://favicone.com/www.bilibili.com?s=64",sf:"https://favicone.com/sf.com?s=64",ob:"https://favicone.com/obsidian.md?s=64",obsidian:"https://favicone.com/obsidian.md?s=64",juejin:"https://favicone.com/juejin.cn?s=64",csdn:"https://favicone.com/csdn.net?s=64",tongyi:"https://favicone.com/tongyi.aliyun.com?s=64",gemini:"https://favicone.com/gemini.google.com?s=64",copilot:"https://github.com/favicons/favicon-copilot.png"},this.numDefaultIcon=this.icons.length,this.countDefaultIcon=0,this.source=t,this.el=n,this._=i,this.main_this=u;const s=t.split(`
`);this.lines=s.map(o=>o.trim()),this.config()}config(){let t=W.main_setting;if(t.chatSelfName){const n=t.chatSelfName.split(",").map(i=>i.trim());this.selfConfigs=n}if(t.chatQQandName){const n=t.chatQQandName.split(",").map(i=>i.trim());for(const i of n){const[u,s]=i.split("=").map(o=>o.trim());u.length>0&&this.iconConfigs.set(u,s)}}this.isShowTime=t.isShowTime;for(const n of this.lines){if(fn.reg_format.test(n)){const i=n.replace("{","").replace("}","").split(",").map(u=>u.trim());for(const u of i){const[s,o]=u.split("=").map(r=>r.trim());this.formatConfigs.set(s,o)}}if(fn.reg_icon.test(n)){const i=n.replace("[","").replace("]","").split(",").map(u=>u.trim());for(const u of i){const[s,o]=u.split("=").map(r=>r.trim());s.length>0&&this.iconConfigs.set(s,o)}}}if(this.formatConfigs&&(this.formatConfigs.get("self")&&this.selfConfigs.push(this.formatConfigs.get("self")),this.formatConfigs.get("style")?this.style=this.formatConfigs.get("style"):this.formatConfigs.get("mode")&&(this.style=this.formatConfigs.get("mode")),this.formatConfigs.get("from")&&(this.from=this.formatConfigs.get("from")),this.formatConfigs.get("time"))){let n=this.formatConfigs.get("time");this.isShowTime=n=="show"||n=="true"}}iconConfig(t){t.iconSrc=this.getIcon(t.sender)}getIcon(t){if(this.iconSrcConfigs.get(t))return this.iconSrcConfigs.get(t);let n=this.iconConfigs.get(t),i="";if(n)/^\d+$/.test(n)?i=`http://q2.qlogo.cn/headimg_dl?dst_uin=${n}&spec=40`:(/^http/.test(n),i=n);else if(t in this.webIcons)i=this.webIcons[t];else if(/(.com|.cn|.xyz|.io)$/.test(t))i=`http://q2.qlogo.cn/headimg_dl?dst_uin=${t}&spec=40`;else if(/^http/.test(t))i=t;else if(/^\d+$/.test(t))i=`http://q2.qlogo.cn/headimg_dl?dst_uin=${t}&spec=40`;else if(/^.+\((\d+)\)$/.test(t)){const u=t.match(/^.+\((\d+)\)$/);u[1]?i=`http://q2.qlogo.cn/headimg_dl?dst_uin=${u[1]}&spec=40`:(console.error(", qq, "),i=t)}else this.countDefaultIcon<this.numDefaultIcon?i=this.icons[this.countDefaultIcon++]:i="http://q2.qlogo.cn/headimg_dl?dst_uin=0&spec=40";return this.iconSrcConfigs.set(t,i),i}render(){throw console.log(" render()")," render()"}};fn.reg_icon=/\[(.*?)\]/,fn.reg_format=/{(.*?)}/;let Rt=fn;class Td extends Rt{config(){}render(){this.from=this.from?this.from:"webvtt",this.style=this.style?this.style:"default";const t=["red","orange","yellow","green","blue","purple","grey","brown","indigo","teal","pink","slate","wood"],n={header:["h2","h3","h4","h5","h6"],mw:["50","55","60","65","70","75","80","85","90"],mode:["default","minimal"]},i=Ad.parse(this.source,{meta:!0}),u=[],s=i.meta&&"Self"in i.meta?i.meta.Self:void 0,o=s?s.split(",").map(f=>f.trim()):void 0;this.formatConfigs=new Map;const r=i.meta&&"MaxWidth"in i.meta?i.meta.MaxWidth:void 0,l=i.meta&&"Header"in i.meta?i.meta.Header:void 0,a=i.meta&&"Mode"in i.meta?i.meta.Mode:void 0;n.mw.contains(r)&&this.formatConfigs.set("mw",r),n.header.contains(l)&&this.formatConfigs.set("header",l),n.mode.contains(a)&&this.formatConfigs.set("mode",a),console.log(this.formatConfigs);for(let f=0;f<i.cues.length;f++){const m=i.cues[f],g=new Date(Math.round(m.start*1e3)),_=`${String(g.getHours()).padStart(2,"0")}:${String(g.getMinutes()).padStart(2,"0")}:${String(g.getSeconds()).padStart(2,"0")}.${String(g.getMilliseconds()).padStart(3,"0")}`,x=new Date(Math.round(m.end*1e3)),v=`${String(x.getHours()).padStart(2,"0")}:${String(x.getMinutes()).padStart(2,"0")}:${String(x.getSeconds()).padStart(2,"0")}.${String(x.getMilliseconds()).padStart(3,"0")}`;if(/<v\s+([^>]+)>([^<]+)<\/v>/.test(m.text)){const w=m.text.match(/<v\s+([^>]+)>([^<]+)<\/v>/);u.push({header:w[1],body:w[2],subtext:`${_} to ${v}`})}else u.push({header:"",body:m.text,subtext:`${_} to ${v}`})}const c=u.map(f=>f.header),d=new Set(c);d.delete(""),console.log(u),console.log(d);const h=new Map;Array.from(d).forEach((f,m)=>h.set(f,t[m%t.length])),console.log(h),u.forEach((f,m,g)=>{let _=new gi(this);const x=m>0?g[m-1].header:"";_.isContinued=f.header===x,_.sender=_.isContinued?"":f.header,_.content.push(f.body),_.dateTime=f.subtext,_.isSelf=o&&o.contains(f.header),_.render()}),W.registerContextMenu(this)}}class Fd extends Rt{render(){this.from=this.from?this.from:"default",this.style=this.style?this.style:"default";for(let t=0;t<this.lines.length;t++){const n=this.lines[t].trim();if(/^#/.test(n)){const i=document.createElement("p");this.el.appendChild(i),i.classList.add("chat-view-comment"),i.textContent=n.substring(1).trim()}else if(n==="..."){const i=document.createElement("div");this.el.appendChild(i),i.classList.add("delimiter");for(let u=0;u<3;u++){const s=document.createElement("div");i.appendChild(s),s.classList.add("dot")}}else if(/(^>|<|\^)/.test(n)){let i=new gi(this);const u=n.substring(1).split("|");if(u.length>0){const s=u[0];i.sender=u.length>1?s.trim():"",i.groupTitle="",i.iconSrc="",i.content.push(u.length>1?u[1].trim():s.trim()),i.dateTime=u.length>2?u[2].trim():"",i.isContinued=t>0&&n.charAt(0)===this.lines[t-1].charAt(0)&&i.sender==="",i.isSelf=n.charAt(0)=="<",i.render()}}}W.registerContextMenu(this)}}const he=class he extends Rt{render(){this.from=this.from?this.from:"qq",this.style=this.style?this.style:"qq";for(let t=0;t<this.lines.length;t++){let n=this.lines[t].trim();if(n==="..."||n==="(...)"){const i=document.createElement("div");this.el.appendChild(i),i.classList.add("delimiter");for(let u=0;u<3;u++){const s=document.createElement("div");i.appendChild(s),s.classList.add("dot")}}else if(he.reg_qq_chehui.test(n)){const i=document.createElement("p");this.el.appendChild(i),i.classList.add("chat-view-comment","chat-view-qq-comment"),i.textContent=n.trim()}else if(he.reg_qq_jinqyun.test(n)){const i=document.createElement("p");this.el.appendChild(i),i.classList.add("chat-view-comment","chat-view-qq-comment"),i.textContent=n.trim()}else if(he.reg_qq_msg.test(n)){let i=new gi(this);i.sender=n.match(he.reg_qq_msg)[1],i.groupTitle="",he.reg_qq_qunTouXian.test(i.sender)&&(i.groupTitle=i.sender.match(he.reg_qq_qunTouXian)[1],i.sender=i.sender.match(he.reg_qq_qunTouXian)[2]),i.isContinued=t>0&&n.charAt(0)===this.lines[t-1].charAt(0);const u=n.match(he.reg_qq_msg)[3]?n.match(he.reg_qq_msg)[3]:"",s=n.match(he.reg_qq_msg)[6]?n.match(he.reg_qq_msg)[6]:"";for(i.dateTime=u+s;!(t>=this.lines.length-1);){if(t++,n=this.lines[t].trim().replace("&nbsp;"," "),n.replace(/\s*/g,"")==""&&this.lines.length>t+1){let a=this.lines[t+1];if(he.reg_qq_msg.test(a)||he.reg_qq_chehui.test(a)||he.reg_qq_jinqyun.test(a)||a=="(...)")break}i.content.push(n)}this.iconConfig(i);let o=this.formatConfigs.get("width"),r=this.formatConfigs.get("max-height"),l="";o&&(l+=";width: "+(Number.isFinite(Number(o))?o+"px":o)),r&&(l+=";max-height: "+(Number.isFinite(Number(r))?r+"px":r)),l&&this.el.setAttribute("style",l),i.isSelf=this.selfConfigs.includes(i.sender),i.render()}}W.registerContextMenu(this)}};he.reg_qq_msg=/(.*?):?(\s|&nbsp;)((\d\d\d\d-)?\d\d-\d\d(\s|&nbsp;))?([0-2]?[0-9]:[0-6][0-9]:[0-6][0-9])(\s*?)$/,he.reg_qq_msg_pindao=/(.*?)(\s|&nbsp;)(\d\d\d\d-\d\d-\d\d(\s|&nbsp;))?([0-2]?[0-9]:[0-6][0-9]:[0-6][0-9])(\s*?)$/,he.reg_qq_qunTouXian=/(.*?)(.*?$)/,he.reg_qq_chehui=/(.*?)/,he.reg_qq_jinqyun=/(.*?)/;let li=he;const Se=class Se extends Rt{render(){this.from=this.from?this.from:"qq",this.style=this.style?this.style:"qq";for(let t=0;t<this.lines.length;t++){let n=this.lines[t].trim();if(n==="..."||n==="(...)"){const i=document.createElement("div");this.el.appendChild(i),i.classList.add("delimiter");for(let u=0;u<3;u++){const s=document.createElement("div");i.appendChild(s),s.classList.add("dot")}}else if(Se.reg_wechat_msg[0].test(n)||Se.reg_wechat_msg[1].test(n)){let i=new gi(this);for(Se.reg_wechat_msg[0].test(n)?(i.sender=n.match(Se.reg_wechat_msg[0])[1],i.dateTime=""):(i.sender=n.match(Se.reg_wechat_msg[1])[1],i.dateTime=n.match(Se.reg_wechat_msg[1])[2]+" "+n.match(Se.reg_wechat_msg[1])[3]),i.groupTitle="",i.isContinued=t>0&&n.charAt(0)===this.lines[t-1].charAt(0);!(t>=this.lines.length-1);){if(t++,n=this.lines[t].trim().replace("&nbsp;"," "),n.replace(/\s*/g,"")==""&&this.lines.length>t+1){let r=this.lines[t+1];if(Se.reg_wechat_msg[0].test(r)||Se.reg_wechat_msg[1].test(r)||r=="(...)")break}i.content.push(n)}this.iconConfig(i);let u=this.formatConfigs.get("width"),s=this.formatConfigs.get("max-height"),o="";u&&(o+=";width: "+(Number.isFinite(Number(u))?u+"px":u)),s&&(o+=";max-height: "+(Number.isFinite(Number(s))?s+"px":s)),o&&this.el.setAttribute("Style",o),i.isSelf=this.selfConfigs.includes(i.sender),i.render()}}W.registerContextMenu(this)}};Se.reg_wechat_msg_win=/^(.*?):$/,Se.reg_wechat_msg_mac=/^(.*?)\s(\d+\/\d+\/\d+)\s(\d+:\d+)$/,Se.reg_wechat_msg=[Se.reg_wechat_msg_win,Se.reg_wechat_msg_mac];let Cn=Se;const Fe=class Fe extends Rt{render(){this.from=this.from?this.from:"telegram",this.style=this.style?this.style:"default";for(let t=0;t<this.lines.length;t++){let n=this.lines[t].trim();if(n==="..."){const i=document.createElement("div");this.el.appendChild(i),i.classList.add("delimiter");for(let u=0;u<3;u++){const s=document.createElement("div");i.appendChild(s),s.classList.add("dot")}}else if(Fe.reg_tg_msg[0].test(n)||Fe.reg_tg_msg[1].test(n)){let i=new gi(this);for(Fe.reg_tg_msg[0].test(n)?(i.sender=n.match(Fe.reg_tg_msg[0])[1],i.dateTime=n.match(Fe.reg_tg_msg[0])[2]+" "+n.match(Fe.reg_tg_msg[0])[3],i.isSelf=!1):(i.sender=n.match(Fe.reg_tg_msg[1])[2],i.dateTime="",i.isSelf=n.match(Fe.reg_tg_msg[1])[1]=="<"),i.groupTitle="",i.isContinued=t>0&&n.charAt(0)===this.lines[t-1].charAt(0);!(t>=this.lines.length-1||(t++,n=this.lines[t].trim().replace("&nbsp;"," "),n.replace(/\s*/g,"")==""));)i.content.push(n);this.iconConfig(i);let u=this.formatConfigs.get("width"),s=this.formatConfigs.get("max-height"),o="";u&&(o+=";width: "+(Number.isFinite(Number(u))?u+"px":u)),s&&(o+=";max-height: "+(Number.isFinite(Number(s))?s+"px":s)),o&&this.el.setAttribute("Style",o),i.isSelf=i.isSelf||this.selfConfigs.includes(i.sender),i.render()}}W.registerContextMenu(this)}};Fe.reg_tg_msg_win=/^(.*?),\s\[(\d+-\d+-\d+)\s(\d+:\d+)\]\s*?$/,Fe.reg_tg_msg_mac=/^(>|<)\s(.*?):\s*?$/,Fe.reg_tg_msg=[Fe.reg_tg_msg_win,Fe.reg_tg_msg_mac];let yn=Fe;class Md extends Rt{render(){for(let t=0;t<this.lines.length;t++){let n=this.lines[t].trim();if(n.length!=0){if(li.reg_qq_msg.test(n))return this.el.classList.add("block-language-chat-qq"),new li(this.source,this.el,this._,this.main_this).render();if(Cn.reg_wechat_msg[0].test(n)||Cn.reg_wechat_msg[1].test(n))return this.el.classList.add("block-language-chat-wechat"),new Cn(this.source,this.el,this._,this.main_this).render();if(yn.reg_tg_msg[0].test(n)||yn.reg_tg_msg[1].test(n))return this.el.classList.add("block-language-chat-tg"),new yn(this.source,this.el,this._,this.main_this).render()}}}}function zd(e,t){const n=e.renderer.rules.fence||function(i,u,s,o,r){return r.renderToken(i,u,s)};e.renderer.rules.fence=(i,u,s,o,r)=>{let l=i[u];l.content.split(`
`);const a=l.info.toLowerCase();if(!["chat-webvtt","chat-old","chat","chat-qq","chat-wechat","chat-tg"].includes(a))return n(i,u,s,o,r);const c=document.createElement("div");return c.classList.add("cv-note"),a=="chat-webvtt"?new Td(l.content,c,null,this).render():a=="chat-old"?new Fd(l.content,c,null,this).render():a=="chat"?new Md(l.content,c,null,this).render():a=="chat-qq"?new li(l.content,c,null,this).render():a=="chat-wechat"?new Cn(l.content,c,null,this).render():a=="chat-tg"?new yn(l.content,c,null,this).render():console.error("error: "),c.outerHTML}}function Pd(e,t){e.use(zd)}const go={};function Ld(e){let t=go[e];if(t)return t;t=go[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);t.push(i)}for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return t}function An(e,t){typeof t!="string"&&(t=An.defaultChars);const n=Ld(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(i){let u="";for(let s=0,o=i.length;s<o;s+=3){const r=parseInt(i.slice(s+1,s+3),16);if(r<128){u+=n[r];continue}if((r&224)===192&&s+3<o){const l=parseInt(i.slice(s+4,s+6),16);if((l&192)===128){const a=r<<6&1984|l&63;a<128?u+="":u+=String.fromCharCode(a),s+=3;continue}}if((r&240)===224&&s+6<o){const l=parseInt(i.slice(s+4,s+6),16),a=parseInt(i.slice(s+7,s+9),16);if((l&192)===128&&(a&192)===128){const c=r<<12&61440|l<<6&4032|a&63;c<2048||c>=55296&&c<=57343?u+="":u+=String.fromCharCode(c),s+=6;continue}}if((r&248)===240&&s+9<o){const l=parseInt(i.slice(s+4,s+6),16),a=parseInt(i.slice(s+7,s+9),16),c=parseInt(i.slice(s+10,s+12),16);if((l&192)===128&&(a&192)===128&&(c&192)===128){let d=r<<18&1835008|l<<12&258048|a<<6&4032|c&63;d<65536||d>1114111?u+="":(d-=65536,u+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),s+=9;continue}}u+=""}return u})}An.defaultChars=";/?:@&=+$,#";An.componentChars="";const _o={};function Rd(e){let t=_o[e];if(t)return t;t=_o[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?t.push(i):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function _i(e,t,n){typeof t!="string"&&(n=t,t=_i.defaultChars),typeof n>"u"&&(n=!0);const i=Rd(t);let u="";for(let s=0,o=e.length;s<o;s++){const r=e.charCodeAt(s);if(n&&r===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){u+=e.slice(s,s+3),s+=2;continue}if(r<128){u+=i[r];continue}if(r>=55296&&r<=57343){if(r>=55296&&r<=56319&&s+1<o){const l=e.charCodeAt(s+1);if(l>=56320&&l<=57343){u+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(e[s])}return u}_i.defaultChars=";/?:@&=+$,-_.!~*'()#";_i.componentChars="-_.!~*'()";function vs(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Zi(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Od=/^([a-z0-9.+-]+:)/i,Bd=/:[0-9]*$/,qd=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Hd=["<",">",'"',"`"," ","\r",`
`,"	"],Ud=["{","}","|","\\","^","`"].concat(Hd),Nd=["'"].concat(Ud),xo=["%","/","?",";","#"].concat(Nd),Co=["/","?","#"],$d=255,yo=/^[+a-z0-9A-Z_-]{0,63}$/,Wd=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vo={javascript:!0,"javascript:":!0},wo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ws(e,t){if(e&&e instanceof Zi)return e;const n=new Zi;return n.parse(e,t),n}Zi.prototype.parse=function(e,t){let n,i,u,s=e;if(s=s.trim(),!t&&e.split("#").length===1){const a=qd.exec(s);if(a)return this.pathname=a[1],a[2]&&(this.search=a[2]),this}let o=Od.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(t||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=s.substr(0,2)==="//",u&&!(o&&vo[o])&&(s=s.substr(2),this.slashes=!0)),!vo[o]&&(u||o&&!wo[o])){let a=-1;for(let m=0;m<Co.length;m++)i=s.indexOf(Co[m]),i!==-1&&(a===-1||i<a)&&(a=i);let c,d;a===-1?d=s.lastIndexOf("@"):d=s.lastIndexOf("@",a),d!==-1&&(c=s.slice(0,d),s=s.slice(d+1),this.auth=c),a=-1;for(let m=0;m<xo.length;m++)i=s.indexOf(xo[m]),i!==-1&&(a===-1||i<a)&&(a=i);a===-1&&(a=s.length),s[a-1]===":"&&a--;const h=s.slice(0,a);s=s.slice(a),this.parseHost(h),this.hostname=this.hostname||"";const f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){const m=this.hostname.split(/\./);for(let g=0,_=m.length;g<_;g++){const x=m[g];if(x&&!x.match(yo)){let v="";for(let w=0,C=x.length;w<C;w++)x.charCodeAt(w)>127?v+="x":v+=x[w];if(!v.match(yo)){const w=m.slice(0,g),C=m.slice(g+1),I=x.match(Wd);I&&(w.push(I[1]),C.unshift(I[2])),C.length&&(s=C.join(".")+s),this.hostname=w.join(".");break}}}}this.hostname.length>$d&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const r=s.indexOf("#");r!==-1&&(this.hash=s.substr(r),s=s.slice(0,r));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),wo[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Zi.prototype.parseHost=function(e){let t=Bd.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Vd=Object.freeze(Object.defineProperty({__proto__:null,decode:An,encode:_i,format:vs,parse:ws},Symbol.toStringTag,{value:"Module"})),Xr=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Qr=/[\0-\x1F\x7F-\x9F]/,jd=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Es=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Jr=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Yr=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Zd=Object.freeze(Object.defineProperty({__proto__:null,Any:Xr,Cc:Qr,Cf:jd,P:Es,S:Jr,Z:Yr},Symbol.toStringTag,{value:"Module"})),Gd=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Kd=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Au;const Xd=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Qd=(Au=String.fromCodePoint)!==null&&Au!==void 0?Au:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Jd(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Xd.get(e))!==null&&t!==void 0?t:e}var xe;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(xe||(xe={}));const Yd=32;var Ft;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ft||(Ft={}));function Xu(e){return e>=xe.ZERO&&e<=xe.NINE}function e0(e){return e>=xe.UPPER_A&&e<=xe.UPPER_F||e>=xe.LOWER_A&&e<=xe.LOWER_F}function t0(e){return e>=xe.UPPER_A&&e<=xe.UPPER_Z||e>=xe.LOWER_A&&e<=xe.LOWER_Z||Xu(e)}function n0(e){return e===xe.EQUALS||t0(e)}var _e;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(_e||(_e={}));var At;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(At||(At={}));class i0{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=_e.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=At.Strict}startEntity(t){this.decodeMode=t,this.state=_e.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case _e.EntityStart:return t.charCodeAt(n)===xe.NUM?(this.state=_e.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=_e.NamedEntity,this.stateNamedEntity(t,n));case _e.NumericStart:return this.stateNumericStart(t,n);case _e.NumericDecimal:return this.stateNumericDecimal(t,n);case _e.NumericHex:return this.stateNumericHex(t,n);case _e.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Yd)===xe.LOWER_X?(this.state=_e.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=_e.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,u){if(n!==i){const s=i-n;this.result=this.result*Math.pow(u,s)+parseInt(t.substr(n,s),u),this.consumed+=s}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const u=t.charCodeAt(n);if(Xu(u)||e0(u))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const u=t.charCodeAt(n);if(Xu(u))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===xe.SEMI)this.consumed+=1;else if(this.decodeMode===At.Strict)return 0;return this.emitCodePoint(Jd(this.result),this.consumed),this.errors&&(t!==xe.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let u=i[this.treeIndex],s=(u&Ft.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=u0(i,u,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===At.Attribute&&(s===0||n0(o))?0:this.emitNotTerminatedNamedEntity();if(u=i[this.treeIndex],s=(u&Ft.VALUE_LENGTH)>>14,s!==0){if(o===xe.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==At.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,u=(i[n]&Ft.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,u,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:u}=this;return this.emitCodePoint(n===1?u[t]&~Ft.VALUE_LENGTH:u[t+1],i),n===3&&this.emitCodePoint(u[t+2],i),i}end(){var t;switch(this.state){case _e.NamedEntity:return this.result!==0&&(this.decodeMode!==At.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case _e.NumericDecimal:return this.emitNumericEntity(0,2);case _e.NumericHex:return this.emitNumericEntity(0,3);case _e.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case _e.EntityStart:return 0}}}function el(e){let t="";const n=new i0(e,i=>t+=Qd(i));return function(u,s){let o=0,r=0;for(;(r=u.indexOf("&",r))>=0;){t+=u.slice(o,r),n.startEntity(s);const a=n.write(u,r+1);if(a<0){o=r+n.end();break}o=r+a,r=a===0?o+1:o}const l=t+u.slice(o);return t="",l}}function u0(e,t,n,i){const u=(t&Ft.BRANCH_LENGTH)>>7,s=t&Ft.JUMP_TABLE;if(u===0)return s!==0&&i===s?n:-1;if(s){const l=i-s;return l<0||l>=u?-1:e[n+l]-1}let o=n,r=o+u-1;for(;o<=r;){const l=o+r>>>1,a=e[l];if(a<i)o=l+1;else if(a>i)r=l-1;else return e[l+u]}return-1}const s0=el(Gd);el(Kd);function tl(e,t=At.Legacy){return s0(e,t)}function o0(e){return Object.prototype.toString.call(e)}function Is(e){return o0(e)==="[object String]"}const r0=Object.prototype.hasOwnProperty;function l0(e,t){return r0.call(e,t)}function cu(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){e[i]=n[i]})}}),e}function nl(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Ss(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Gi(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const il=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,a0=/&([a-z#][a-z0-9]{1,31});/gi,c0=new RegExp(il.source+"|"+a0.source,"gi"),d0=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function f0(e,t){if(t.charCodeAt(0)===35&&d0.test(t)){const i=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Ss(i)?Gi(i):e}const n=tl(e);return n!==e?n:e}function h0(e){return e.indexOf("\\")<0?e:e.replace(il,"$1")}function Tn(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c0,function(t,n,i){return n||f0(t,i)})}const m0=/[&<>"]/,p0=/[&<>"]/g,b0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function g0(e){return b0[e]}function Ot(e){return m0.test(e)?e.replace(p0,g0):e}const _0=/[.?*+^$[\]\\(){}|-]/g;function x0(e){return e.replace(_0,"\\$&")}function le(e){switch(e){case 9:case 32:return!0}return!1}function ai(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function ci(e){return Es.test(e)||Jr.test(e)}function di(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function du(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const C0={mdurl:Vd,ucmicro:Zd},y0=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:nl,assign:cu,escapeHtml:Ot,escapeRE:x0,fromCodePoint:Gi,has:l0,isMdAsciiPunct:di,isPunctChar:ci,isSpace:le,isString:Is,isValidEntityCode:Ss,isWhiteSpace:ai,lib:C0,normalizeReference:du,unescapeAll:Tn,unescapeMd:h0},Symbol.toStringTag,{value:"Module"}));function v0(e,t,n){let i,u,s,o;const r=e.posMax,l=e.pos;for(e.pos=t+1,i=1;e.pos<r;){if(s=e.src.charCodeAt(e.pos),s===93&&(i--,i===0)){u=!0;break}if(o=e.pos,e.md.inline.skipToken(e),s===91){if(o===e.pos-1)i++;else if(n)return e.pos=l,-1}}let a=-1;return u&&(a=e.pos),e.pos=l,a}function w0(e,t,n){let i,u=t;const s={ok:!1,pos:0,str:""};if(e.charCodeAt(u)===60){for(u++;u<n;){if(i=e.charCodeAt(u),i===10||i===60)return s;if(i===62)return s.pos=u+1,s.str=Tn(e.slice(t+1,u)),s.ok=!0,s;if(i===92&&u+1<n){u+=2;continue}u++}return s}let o=0;for(;u<n&&(i=e.charCodeAt(u),!(i===32||i<32||i===127));){if(i===92&&u+1<n){if(e.charCodeAt(u+1)===32)break;u+=2;continue}if(i===40&&(o++,o>32))return s;if(i===41){if(o===0)break;o--}u++}return t===u||o!==0||(s.str=Tn(e.slice(t,u)),s.pos=u,s.ok=!0),s}function E0(e,t,n,i){let u,s=t;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)o.str=i.str,o.marker=i.marker;else{if(s>=n)return o;let r=e.charCodeAt(s);if(r!==34&&r!==39&&r!==40)return o;t++,s++,r===40&&(r=41),o.marker=r}for(;s<n;){if(u=e.charCodeAt(s),u===o.marker)return o.pos=s+1,o.str+=Tn(e.slice(t,s)),o.ok=!0,o;if(u===40&&o.marker===41)return o;u===92&&s+1<n&&s++,s++}return o.can_continue=!0,o.str+=Tn(e.slice(t,s)),o}const I0=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:w0,parseLinkLabel:v0,parseLinkTitle:E0},Symbol.toStringTag,{value:"Module"})),bt={};bt.code_inline=function(e,t,n,i,u){const s=e[t];return"<code"+u.renderAttrs(s)+">"+Ot(s.content)+"</code>"};bt.code_block=function(e,t,n,i,u){const s=e[t];return"<pre"+u.renderAttrs(s)+"><code>"+Ot(e[t].content)+`</code></pre>
`};bt.fence=function(e,t,n,i,u){const s=e[t],o=s.info?Tn(s.info).trim():"";let r="",l="";if(o){const c=o.split(/(\s+)/g);r=c[0],l=c.slice(2).join("")}let a;if(n.highlight?a=n.highlight(s.content,r,l)||Ot(s.content):a=Ot(s.content),a.indexOf("<pre")===0)return a+`
`;if(o){const c=s.attrIndex("class"),d=s.attrs?s.attrs.slice():[];c<0?d.push(["class",n.langPrefix+r]):(d[c]=d[c].slice(),d[c][1]+=" "+n.langPrefix+r);const h={attrs:d};return`<pre><code${u.renderAttrs(h)}>${a}</code></pre>
`}return`<pre><code${u.renderAttrs(s)}>${a}</code></pre>
`};bt.image=function(e,t,n,i,u){const s=e[t];return s.attrs[s.attrIndex("alt")][1]=u.renderInlineAsText(s.children,n,i),u.renderToken(e,t,n)};bt.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};bt.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};bt.text=function(e,t){return Ot(e[t].content)};bt.html_block=function(e,t){return e[t].content};bt.html_inline=function(e,t){return e[t].content};function Fn(){this.rules=cu({},bt)}Fn.prototype.renderAttrs=function(t){let n,i,u;if(!t.attrs)return"";for(u="",n=0,i=t.attrs.length;n<i;n++)u+=" "+Ot(t.attrs[n][0])+'="'+Ot(t.attrs[n][1])+'"';return u};Fn.prototype.renderToken=function(t,n,i){const u=t[n];let s="";if(u.hidden)return"";u.block&&u.nesting!==-1&&n&&t[n-1].hidden&&(s+=`
`),s+=(u.nesting===-1?"</":"<")+u.tag,s+=this.renderAttrs(u),u.nesting===0&&i.xhtmlOut&&(s+=" /");let o=!1;if(u.block&&(o=!0,u.nesting===1&&n+1<t.length)){const r=t[n+1];(r.type==="inline"||r.hidden||r.nesting===-1&&r.tag===u.tag)&&(o=!1)}return s+=o?`>
`:">",s};Fn.prototype.renderInline=function(e,t,n){let i="";const u=this.rules;for(let s=0,o=e.length;s<o;s++){const r=e[s].type;typeof u[r]<"u"?i+=u[r](e,s,t,n,this):i+=this.renderToken(e,s,t)}return i};Fn.prototype.renderInlineAsText=function(e,t,n){let i="";for(let u=0,s=e.length;u<s;u++)switch(e[u].type){case"text":i+=e[u].content;break;case"image":i+=this.renderInlineAsText(e[u].children,t,n);break;case"html_inline":case"html_block":i+=e[u].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};Fn.prototype.render=function(e,t,n){let i="";const u=this.rules;for(let s=0,o=e.length;s<o;s++){const r=e[s].type;r==="inline"?i+=this.renderInline(e[s].children,t,n):typeof u[r]<"u"?i+=u[r](e,s,t,n,this):i+=this.renderToken(e,s,t,n)}return i};function Oe(){this.__rules__=[],this.__cache__=null}Oe.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Oe.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){t.indexOf(i)<0&&t.push(i)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||e.__cache__[n].push(i.fn))})})};Oe.prototype.at=function(e,t,n){const i=this.__find__(e),u=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=u.alt||[],this.__cache__=null};Oe.prototype.before=function(e,t,n,i){const u=this.__find__(e),s=i||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(u,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Oe.prototype.after=function(e,t,n,i){const u=this.__find__(e),s=i||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(u+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Oe.prototype.push=function(e,t,n){const i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null};Oe.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const u=this.__find__(i);if(u<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[u].enabled=!0,n.push(i)},this),this.__cache__=null,n};Oe.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Oe.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const u=this.__find__(i);if(u<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[u].enabled=!1,n.push(i)},this),this.__cache__=null,n};Oe.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function ut(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}ut.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,u=n.length;i<u;i++)if(n[i][0]===t)return i;return-1};ut.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};ut.prototype.attrSet=function(t,n){const i=this.attrIndex(t),u=[t,n];i<0?this.attrPush(u):this.attrs[i]=u};ut.prototype.attrGet=function(t){const n=this.attrIndex(t);let i=null;return n>=0&&(i=this.attrs[n][1]),i};ut.prototype.attrJoin=function(t,n){const i=this.attrIndex(t);i<0?this.attrPush([t,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function ul(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}ul.prototype.Token=ut;const S0=/\r\n?|\n/g,k0=/\0/g;function D0(e){let t;t=e.src.replace(S0,`
`),t=t.replace(k0,""),e.src=t}function A0(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function T0(e){const t=e.tokens;for(let n=0,i=t.length;n<i;n++){const u=t[n];u.type==="inline"&&e.md.inline.parse(u.content,e.md,e.env,u.children)}}function F0(e){return/^<a[>\s]/i.test(e)}function M0(e){return/^<\/a\s*>/i.test(e)}function z0(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,i=t.length;n<i;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let u=t[n].children,s=0;for(let o=u.length-1;o>=0;o--){const r=u[o];if(r.type==="link_close"){for(o--;u[o].level!==r.level&&u[o].type!=="link_open";)o--;continue}if(r.type==="html_inline"&&(F0(r.content)&&s>0&&s--,M0(r.content)&&s++),!(s>0)&&r.type==="text"&&e.md.linkify.test(r.content)){const l=r.content;let a=e.md.linkify.match(l);const c=[];let d=r.level,h=0;a.length>0&&a[0].index===0&&o>0&&u[o-1].type==="text_special"&&(a=a.slice(1));for(let f=0;f<a.length;f++){const m=a[f].url,g=e.md.normalizeLink(m);if(!e.md.validateLink(g))continue;let _=a[f].text;a[f].schema?a[f].schema==="mailto:"&&!/^mailto:/i.test(_)?_=e.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=e.md.normalizeLinkText(_):_=e.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const x=a[f].index;if(x>h){const I=new e.Token("text","",0);I.content=l.slice(h,x),I.level=d,c.push(I)}const v=new e.Token("link_open","a",1);v.attrs=[["href",g]],v.level=d++,v.markup="linkify",v.info="auto",c.push(v);const w=new e.Token("text","",0);w.content=_,w.level=d,c.push(w);const C=new e.Token("link_close","a",-1);C.level=--d,C.markup="linkify",C.info="auto",c.push(C),h=a[f].lastIndex}if(h<l.length){const f=new e.Token("text","",0);f.content=l.slice(h),f.level=d,c.push(f)}t[n].children=u=nl(u,o,c)}}}}const sl=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,P0=/\((c|tm|r)\)/i,L0=/\((c|tm|r)\)/ig,R0={c:"",r:"",tm:""};function O0(e,t){return R0[t.toLowerCase()]}function B0(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&(i.content=i.content.replace(L0,O0)),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function q0(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&sl.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function H0(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(P0.test(e.tokens[t].content)&&B0(e.tokens[t].children),sl.test(e.tokens[t].content)&&q0(e.tokens[t].children))}const U0=/['"]/,Eo=/['"]/g,Io="";function ki(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function N0(e,t){let n;const i=[];for(let u=0;u<e.length;u++){const s=e[u],o=e[u].level;for(n=i.length-1;n>=0&&!(i[n].level<=o);n--);if(i.length=n+1,s.type!=="text")continue;let r=s.content,l=0,a=r.length;e:for(;l<a;){Eo.lastIndex=l;const c=Eo.exec(r);if(!c)break;let d=!0,h=!0;l=c.index+1;const f=c[0]==="'";let m=32;if(c.index-1>=0)m=r.charCodeAt(c.index-1);else for(n=u-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){m=e[n].content.charCodeAt(e[n].content.length-1);break}let g=32;if(l<a)g=r.charCodeAt(l);else for(n=u+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){g=e[n].content.charCodeAt(0);break}const _=di(m)||ci(String.fromCharCode(m)),x=di(g)||ci(String.fromCharCode(g)),v=ai(m),w=ai(g);if(w?d=!1:x&&(v||_||(d=!1)),v?h=!1:_&&(w||x||(h=!1)),g===34&&c[0]==='"'&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=_,h=x),!d&&!h){f&&(s.content=ki(s.content,c.index,Io));continue}if(h)for(n=i.length-1;n>=0;n--){let C=i[n];if(i[n].level<o)break;if(C.single===f&&i[n].level===o){C=i[n];let I,T;f?(I=t.md.options.quotes[2],T=t.md.options.quotes[3]):(I=t.md.options.quotes[0],T=t.md.options.quotes[1]),s.content=ki(s.content,c.index,T),e[C.token].content=ki(e[C.token].content,C.pos,I),l+=T.length-1,C.token===u&&(l+=I.length-1),r=s.content,a=r.length,i.length=n;continue e}}d?i.push({token:u,pos:c.index,single:f,level:o}):h&&f&&(s.content=ki(s.content,c.index,Io))}}}function $0(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!U0.test(e.tokens[t].content)||N0(e.tokens[t].children,e)}function W0(e){let t,n;const i=e.tokens,u=i.length;for(let s=0;s<u;s++){if(i[s].type!=="inline")continue;const o=i[s].children,r=o.length;for(t=0;t<r;t++)o[t].type==="text_special"&&(o[t].type="text");for(t=n=0;t<r;t++)o[t].type==="text"&&t+1<r&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}}const Tu=[["normalize",D0],["block",A0],["inline",T0],["linkify",z0],["replacements",H0],["smartquotes",$0],["text_join",W0]];function ks(){this.ruler=new Oe;for(let e=0;e<Tu.length;e++)this.ruler.push(Tu[e][0],Tu[e][1])}ks.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,i=t.length;n<i;n++)t[n](e)};ks.prototype.State=ul;function gt(e,t,n,i){this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let s=0,o=0,r=0,l=0,a=u.length,c=!1;o<a;o++){const d=u.charCodeAt(o);if(!c)if(le(d)){r++,d===9?l+=4-l%4:l++;continue}else c=!0;(d===10||o===a-1)&&(d!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(r),this.sCount.push(l),this.bsCount.push(0),c=!1,r=0,l=0,s=o+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}gt.prototype.push=function(e,t,n){const i=new ut(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};gt.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};gt.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};gt.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const i=this.src.charCodeAt(t);if(!le(i))break}return t};gt.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!le(this.src.charCodeAt(--t)))return t+1;return t};gt.prototype.skipChars=function(t,n){for(let i=this.src.length;t<i&&this.src.charCodeAt(t)===n;t++);return t};gt.prototype.skipCharsBack=function(t,n,i){if(t<=i)return t;for(;t>i;)if(n!==this.src.charCodeAt(--t))return t+1;return t};gt.prototype.getLines=function(t,n,i,u){if(t>=n)return"";const s=new Array(n-t);for(let o=0,r=t;r<n;r++,o++){let l=0;const a=this.bMarks[r];let c=a,d;for(r+1<n||u?d=this.eMarks[r]+1:d=this.eMarks[r];c<d&&l<i;){const h=this.src.charCodeAt(c);if(le(h))h===9?l+=4-(l+this.bsCount[r])%4:l++;else if(c-a<this.tShift[r])l++;else break;c++}l>i?s[o]=new Array(l-i+1).join(" ")+this.src.slice(c,d):s[o]=this.src.slice(c,d)}return s.join("")};gt.prototype.Token=ut;const V0=65536;function Fu(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(n,i)}function So(e){const t=[],n=e.length;let i=0,u=e.charCodeAt(i),s=!1,o=0,r="";for(;i<n;)u===124&&(s?(r+=e.substring(o,i-1),o=i):(t.push(r+e.substring(o,i)),r="",o=i+1)),s=u===92,i++,u=e.charCodeAt(i);return t.push(r+e.substring(o)),t}function j0(e,t,n,i){if(t+2>n)return!1;let u=t+1;if(e.sCount[u]<e.blkIndent||e.sCount[u]-e.blkIndent>=4)return!1;let s=e.bMarks[u]+e.tShift[u];if(s>=e.eMarks[u])return!1;const o=e.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=e.eMarks[u])return!1;const r=e.src.charCodeAt(s++);if(r!==124&&r!==45&&r!==58&&!le(r)||o===45&&le(r))return!1;for(;s<e.eMarks[u];){const C=e.src.charCodeAt(s);if(C!==124&&C!==45&&C!==58&&!le(C))return!1;s++}let l=Fu(e,t+1),a=l.split("|");const c=[];for(let C=0;C<a.length;C++){const I=a[C].trim();if(!I){if(C===0||C===a.length-1)continue;return!1}if(!/^:?-+:?$/.test(I))return!1;I.charCodeAt(I.length-1)===58?c.push(I.charCodeAt(0)===58?"center":"right"):I.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=Fu(e,t).trim(),l.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;a=So(l),a.length&&a[0]===""&&a.shift(),a.length&&a[a.length-1]===""&&a.pop();const d=a.length;if(d===0||d!==c.length)return!1;if(i)return!0;const h=e.parentType;e.parentType="table";const f=e.md.block.ruler.getRules("blockquote"),m=e.push("table_open","table",1),g=[t,0];m.map=g;const _=e.push("thead_open","thead",1);_.map=[t,t+1];const x=e.push("tr_open","tr",1);x.map=[t,t+1];for(let C=0;C<a.length;C++){const I=e.push("th_open","th",1);c[C]&&(I.attrs=[["style","text-align:"+c[C]]]);const T=e.push("inline","",0);T.content=a[C].trim(),T.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let v,w=0;for(u=t+2;u<n&&!(e.sCount[u]<e.blkIndent);u++){let C=!1;for(let T=0,L=f.length;T<L;T++)if(f[T](e,u,n,!0)){C=!0;break}if(C||(l=Fu(e,u).trim(),!l)||e.sCount[u]-e.blkIndent>=4||(a=So(l),a.length&&a[0]===""&&a.shift(),a.length&&a[a.length-1]===""&&a.pop(),w+=d-a.length,w>V0))break;if(u===t+2){const T=e.push("tbody_open","tbody",1);T.map=v=[t+2,0]}const I=e.push("tr_open","tr",1);I.map=[u,u+1];for(let T=0;T<d;T++){const L=e.push("td_open","td",1);c[T]&&(L.attrs=[["style","text-align:"+c[T]]]);const H=e.push("inline","",0);H.content=a[T]?a[T].trim():"",H.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return v&&(e.push("tbody_close","tbody",-1),v[1]=u),e.push("table_close","table",-1),g[1]=u,e.parentType=h,e.line=u,!0}function Z0(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let i=t+1,u=i;for(;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,u=i;continue}break}e.line=u;const s=e.push("code_block","code",0);return s.content=e.getLines(t,u,4+e.blkIndent,!1)+`
`,s.map=[t,e.line],!0}function G0(e,t,n,i){let u=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||u+3>s)return!1;const o=e.src.charCodeAt(u);if(o!==126&&o!==96)return!1;let r=u;u=e.skipChars(u,o);let l=u-r;if(l<3)return!1;const a=e.src.slice(r,u),c=e.src.slice(u,s);if(o===96&&c.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;let d=t,h=!1;for(;d++,!(d>=n||(u=r=e.bMarks[d]+e.tShift[d],s=e.eMarks[d],u<s&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(u)===o&&!(e.sCount[d]-e.blkIndent>=4)&&(u=e.skipChars(u,o),!(u-r<l)&&(u=e.skipSpaces(u),!(u<s)))){h=!0;break}l=e.sCount[t],e.line=d+(h?1:0);const f=e.push("fence","code",0);return f.info=c,f.content=e.getLines(t+1,d,l,!0),f.markup=a,f.map=[t,e.line],!0}function K0(e,t,n,i){let u=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];const o=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(u)!==62)return!1;if(i)return!0;const r=[],l=[],a=[],c=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let f=!1,m;for(m=t;m<n;m++){const w=e.sCount[m]<e.blkIndent;if(u=e.bMarks[m]+e.tShift[m],s=e.eMarks[m],u>=s)break;if(e.src.charCodeAt(u++)===62&&!w){let I=e.sCount[m]+1,T,L;e.src.charCodeAt(u)===32?(u++,I++,L=!1,T=!0):e.src.charCodeAt(u)===9?(T=!0,(e.bsCount[m]+I)%4===3?(u++,I++,L=!1):L=!0):T=!1;let H=I;for(r.push(e.bMarks[m]),e.bMarks[m]=u;u<s;){const R=e.src.charCodeAt(u);if(le(R))R===9?H+=4-(H+e.bsCount[m]+(L?1:0))%4:H++;else break;u++}f=u>=s,l.push(e.bsCount[m]),e.bsCount[m]=e.sCount[m]+1+(T?1:0),a.push(e.sCount[m]),e.sCount[m]=H-I,c.push(e.tShift[m]),e.tShift[m]=u-e.bMarks[m];continue}if(f)break;let C=!1;for(let I=0,T=d.length;I<T;I++)if(d[I](e,m,n,!0)){C=!0;break}if(C){e.lineMax=m,e.blkIndent!==0&&(r.push(e.bMarks[m]),l.push(e.bsCount[m]),c.push(e.tShift[m]),a.push(e.sCount[m]),e.sCount[m]-=e.blkIndent);break}r.push(e.bMarks[m]),l.push(e.bsCount[m]),c.push(e.tShift[m]),a.push(e.sCount[m]),e.sCount[m]=-1}const g=e.blkIndent;e.blkIndent=0;const _=e.push("blockquote_open","blockquote",1);_.markup=">";const x=[t,0];_.map=x,e.md.block.tokenize(e,t,m);const v=e.push("blockquote_close","blockquote",-1);v.markup=">",e.lineMax=o,e.parentType=h,x[1]=e.line;for(let w=0;w<c.length;w++)e.bMarks[w+t]=r[w],e.tShift[w+t]=c[w],e.sCount[w+t]=a[w],e.bsCount[w+t]=l[w];return e.blkIndent=g,!0}function X0(e,t,n,i){const u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let r=1;for(;s<u;){const a=e.src.charCodeAt(s++);if(a!==o&&!le(a))return!1;a===o&&r++}if(r<3)return!1;if(i)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(r+1).join(String.fromCharCode(o)),!0}function ko(e,t){const n=e.eMarks[t];let i=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(i++);if(u!==42&&u!==45&&u!==43)return-1;if(i<n){const s=e.src.charCodeAt(i);if(!le(s))return-1}return i}function Do(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];let u=n;if(u+1>=i)return-1;let s=e.src.charCodeAt(u++);if(s<48||s>57)return-1;for(;;){if(u>=i)return-1;if(s=e.src.charCodeAt(u++),s>=48&&s<=57){if(u-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return u<i&&(s=e.src.charCodeAt(u),!le(s))?-1:u}function Q0(e,t){const n=e.level+2;for(let i=t+2,u=e.tokens.length-2;i<u;i++)e.tokens[i].level===n&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].hidden=!0,e.tokens[i].hidden=!0,i+=2)}function J0(e,t,n,i){let u,s,o,r,l=t,a=!0;if(e.sCount[l]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let c=!1;i&&e.parentType==="paragraph"&&e.sCount[l]>=e.blkIndent&&(c=!0);let d,h,f;if((f=Do(e,l))>=0){if(d=!0,o=e.bMarks[l]+e.tShift[l],h=Number(e.src.slice(o,f-1)),c&&h!==1)return!1}else if((f=ko(e,l))>=0)d=!1;else return!1;if(c&&e.skipSpaces(f)>=e.eMarks[l])return!1;if(i)return!0;const m=e.src.charCodeAt(f-1),g=e.tokens.length;d?(r=e.push("ordered_list_open","ol",1),h!==1&&(r.attrs=[["start",h]])):r=e.push("bullet_list_open","ul",1);const _=[l,0];r.map=_,r.markup=String.fromCharCode(m);let x=!1;const v=e.md.block.ruler.getRules("list"),w=e.parentType;for(e.parentType="list";l<n;){s=f,u=e.eMarks[l];const C=e.sCount[l]+f-(e.bMarks[l]+e.tShift[l]);let I=C;for(;s<u;){const ve=e.src.charCodeAt(s);if(ve===9)I+=4-(I+e.bsCount[l])%4;else if(ve===32)I++;else break;s++}const T=s;let L;T>=u?L=1:L=I-C,L>4&&(L=1);const H=C+L;r=e.push("list_item_open","li",1),r.markup=String.fromCharCode(m);const R=[l,0];r.map=R,d&&(r.info=e.src.slice(o,f-1));const X=e.tight,ue=e.tShift[l],Ee=e.sCount[l],be=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=H,e.tight=!0,e.tShift[l]=T-e.bMarks[l],e.sCount[l]=I,T>=u&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),(!e.tight||x)&&(a=!1),x=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=be,e.tShift[l]=ue,e.sCount[l]=Ee,e.tight=X,r=e.push("list_item_close","li",-1),r.markup=String.fromCharCode(m),l=e.line,R[1]=l,l>=n||e.sCount[l]<e.blkIndent||e.sCount[l]-e.blkIndent>=4)break;let Ie=!1;for(let ve=0,ge=v.length;ve<ge;ve++)if(v[ve](e,l,n,!0)){Ie=!0;break}if(Ie)break;if(d){if(f=Do(e,l),f<0)break;o=e.bMarks[l]+e.tShift[l]}else if(f=ko(e,l),f<0)break;if(m!==e.src.charCodeAt(f-1))break}return d?r=e.push("ordered_list_close","ol",-1):r=e.push("bullet_list_close","ul",-1),r.markup=String.fromCharCode(m),_[1]=l,e.line=l,e.parentType=w,a&&Q0(e,g),!0}function Y0(e,t,n,i){let u=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],o=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(u)!==91)return!1;function r(v){const w=e.lineMax;if(v>=w||e.isEmpty(v))return null;let C=!1;if(e.sCount[v]-e.blkIndent>3&&(C=!0),e.sCount[v]<0&&(C=!0),!C){const L=e.md.block.ruler.getRules("reference"),H=e.parentType;e.parentType="reference";let R=!1;for(let X=0,ue=L.length;X<ue;X++)if(L[X](e,v,w,!0)){R=!0;break}if(e.parentType=H,R)return null}const I=e.bMarks[v]+e.tShift[v],T=e.eMarks[v];return e.src.slice(I,T+1)}let l=e.src.slice(u,s+1);s=l.length;let a=-1;for(u=1;u<s;u++){const v=l.charCodeAt(u);if(v===91)return!1;if(v===93){a=u;break}else if(v===10){const w=r(o);w!==null&&(l+=w,s=l.length,o++)}else if(v===92&&(u++,u<s&&l.charCodeAt(u)===10)){const w=r(o);w!==null&&(l+=w,s=l.length,o++)}}if(a<0||l.charCodeAt(a+1)!==58)return!1;for(u=a+2;u<s;u++){const v=l.charCodeAt(u);if(v===10){const w=r(o);w!==null&&(l+=w,s=l.length,o++)}else if(!le(v))break}const c=e.md.helpers.parseLinkDestination(l,u,s);if(!c.ok)return!1;const d=e.md.normalizeLink(c.str);if(!e.md.validateLink(d))return!1;u=c.pos;const h=u,f=o,m=u;for(;u<s;u++){const v=l.charCodeAt(u);if(v===10){const w=r(o);w!==null&&(l+=w,s=l.length,o++)}else if(!le(v))break}let g=e.md.helpers.parseLinkTitle(l,u,s);for(;g.can_continue;){const v=r(o);if(v===null)break;l+=v,u=s,s=l.length,o++,g=e.md.helpers.parseLinkTitle(l,u,s,g)}let _;for(u<s&&m!==u&&g.ok?(_=g.str,u=g.pos):(_="",u=h,o=f);u<s;){const v=l.charCodeAt(u);if(!le(v))break;u++}if(u<s&&l.charCodeAt(u)!==10&&_)for(_="",u=h,o=f;u<s;){const v=l.charCodeAt(u);if(!le(v))break;u++}if(u<s&&l.charCodeAt(u)!==10)return!1;const x=du(l.slice(1,a));return x?(i||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[x]>"u"&&(e.env.references[x]={title:_,href:d}),e.line=o),!0):!1}const ef=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tf="[a-zA-Z_:][a-zA-Z0-9:._-]*",nf="[^\"'=<>`\\x00-\\x20]+",uf="'[^']*'",sf='"[^"]*"',of="(?:"+nf+"|"+uf+"|"+sf+")",rf="(?:\\s+"+tf+"(?:\\s*=\\s*"+of+")?)",ol="<[A-Za-z][A-Za-z0-9\\-]*"+rf+"*\\s*\\/?>",rl="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",lf="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",af="<[?][\\s\\S]*?[?]>",cf="<![A-Za-z][^>]*>",df="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",ff=new RegExp("^(?:"+ol+"|"+rl+"|"+lf+"|"+af+"|"+cf+"|"+df+")"),hf=new RegExp("^(?:"+ol+"|"+rl+")"),ln=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+ef.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(hf.source+"\\s*$"),/^$/,!1]];function mf(e,t,n,i){let u=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(u)!==60)return!1;let o=e.src.slice(u,s),r=0;for(;r<ln.length&&!ln[r][0].test(o);r++);if(r===ln.length)return!1;if(i)return ln[r][2];let l=t+1;if(!ln[r][1].test(o)){for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(u=e.bMarks[l]+e.tShift[l],s=e.eMarks[l],o=e.src.slice(u,s),ln[r][1].test(o)){o.length!==0&&l++;break}}e.line=l;const a=e.push("html_block","",0);return a.map=[t,l],a.content=e.getLines(t,l,e.blkIndent,!0),!0}function pf(e,t,n,i){let u=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.src.charCodeAt(u);if(o!==35||u>=s)return!1;let r=1;for(o=e.src.charCodeAt(++u);o===35&&u<s&&r<=6;)r++,o=e.src.charCodeAt(++u);if(r>6||u<s&&!le(o))return!1;if(i)return!0;s=e.skipSpacesBack(s,u);const l=e.skipCharsBack(s,35,u);l>u&&le(e.src.charCodeAt(l-1))&&(s=l),e.line=t+1;const a=e.push("heading_open","h"+String(r),1);a.markup="########".slice(0,r),a.map=[t,e.line];const c=e.push("inline","",0);c.content=e.src.slice(u,s).trim(),c.map=[t,e.line],c.children=[];const d=e.push("heading_close","h"+String(r),-1);return d.markup="########".slice(0,r),!0}function bf(e,t,n){const i=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const u=e.parentType;e.parentType="paragraph";let s=0,o,r=t+1;for(;r<n&&!e.isEmpty(r);r++){if(e.sCount[r]-e.blkIndent>3)continue;if(e.sCount[r]>=e.blkIndent){let f=e.bMarks[r]+e.tShift[r];const m=e.eMarks[r];if(f<m&&(o=e.src.charCodeAt(f),(o===45||o===61)&&(f=e.skipChars(f,o),f=e.skipSpaces(f),f>=m))){s=o===61?1:2;break}}if(e.sCount[r]<0)continue;let h=!1;for(let f=0,m=i.length;f<m;f++)if(i[f](e,r,n,!0)){h=!0;break}if(h)break}if(!s)return!1;const l=e.getLines(t,r,e.blkIndent,!1).trim();e.line=r+1;const a=e.push("heading_open","h"+String(s),1);a.markup=String.fromCharCode(o),a.map=[t,e.line];const c=e.push("inline","",0);c.content=l,c.map=[t,e.line-1],c.children=[];const d=e.push("heading_close","h"+String(s),-1);return d.markup=String.fromCharCode(o),e.parentType=u,!0}function gf(e,t,n){const i=e.md.block.ruler.getRules("paragraph"),u=e.parentType;let s=t+1;for(e.parentType="paragraph";s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let a=!1;for(let c=0,d=i.length;c<d;c++)if(i[c](e,s,n,!0)){a=!0;break}if(a)break}const o=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s;const r=e.push("paragraph_open","p",1);r.map=[t,e.line];const l=e.push("inline","",0);return l.content=o,l.map=[t,e.line],l.children=[],e.push("paragraph_close","p",-1),e.parentType=u,!0}const Di=[["table",j0,["paragraph","reference"]],["code",Z0],["fence",G0,["paragraph","reference","blockquote","list"]],["blockquote",K0,["paragraph","reference","blockquote","list"]],["hr",X0,["paragraph","reference","blockquote","list"]],["list",J0,["paragraph","reference","blockquote"]],["reference",Y0],["html_block",mf,["paragraph","reference","blockquote"]],["heading",pf,["paragraph","reference","blockquote"]],["lheading",bf],["paragraph",gf]];function fu(){this.ruler=new Oe;for(let e=0;e<Di.length;e++)this.ruler.push(Di[e][0],Di[e][1],{alt:(Di[e][2]||[]).slice()})}fu.prototype.tokenize=function(e,t,n){const i=this.ruler.getRules(""),u=i.length,s=e.md.options.maxNesting;let o=t,r=!1;for(;o<n&&(e.line=o=e.skipEmptyLines(o),!(o>=n||e.sCount[o]<e.blkIndent));){if(e.level>=s){e.line=n;break}const l=e.line;let a=!1;for(let c=0;c<u;c++)if(a=i[c](e,o,n,!1),a){if(l>=e.line)throw new Error("block rule didn't increment state.line");break}if(!a)throw new Error("none of the block rules matched");e.tight=!r,e.isEmpty(e.line-1)&&(r=!0),o=e.line,o<n&&e.isEmpty(o)&&(r=!0,o++,e.line=o)}};fu.prototype.parse=function(e,t,n,i){if(!e)return;const u=new this.State(e,t,n,i);this.tokenize(u,u.line,u.lineMax)};fu.prototype.State=gt;function xi(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}xi.prototype.pushPending=function(){const e=new ut("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};xi.prototype.push=function(e,t,n){this.pending&&this.pushPending();const i=new ut(e,t,n);let u=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(u),i};xi.prototype.scanDelims=function(e,t){const n=this.posMax,i=this.src.charCodeAt(e),u=e>0?this.src.charCodeAt(e-1):32;let s=e;for(;s<n&&this.src.charCodeAt(s)===i;)s++;const o=s-e,r=s<n?this.src.charCodeAt(s):32,l=di(u)||ci(String.fromCharCode(u)),a=di(r)||ci(String.fromCharCode(r)),c=ai(u),d=ai(r),h=!d&&(!a||c||l),f=!c&&(!l||d||a);return{can_open:h&&(t||!f||l),can_close:f&&(t||!h||a),length:o}};xi.prototype.Token=ut;function _f(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function xf(e,t){let n=e.pos;for(;n<e.posMax&&!_f(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const Cf=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function yf(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,i=e.posMax;if(n+3>i||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const u=e.pending.match(Cf);if(!u)return!1;const s=u[1],o=e.md.linkify.matchAtStart(e.src.slice(n-s.length));if(!o)return!1;let r=o.url;if(r.length<=s.length)return!1;r=r.replace(/\*+$/,"");const l=e.md.normalizeLink(r);if(!e.md.validateLink(l))return!1;if(!t){e.pending=e.pending.slice(0,-s.length);const a=e.push("link_open","a",1);a.attrs=[["href",l]],a.markup="linkify",a.info="auto";const c=e.push("text","",0);c.content=e.md.normalizeLinkText(r);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=r.length-s.length,!0}function vf(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const i=e.pending.length-1,u=e.posMax;if(!t)if(i>=0&&e.pending.charCodeAt(i)===32)if(i>=1&&e.pending.charCodeAt(i-1)===32){let s=i-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<u&&le(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Ds=[];for(let e=0;e<256;e++)Ds.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Ds[e.charCodeAt(0)]=1});function wf(e,t){let n=e.pos;const i=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let u=e.src.charCodeAt(n);if(u===10){for(t||e.push("hardbreak","br",0),n++;n<i&&(u=e.src.charCodeAt(n),!!le(u));)n++;return e.pos=n,!0}let s=e.src[n];if(u>=55296&&u<=56319&&n+1<i){const r=e.src.charCodeAt(n+1);r>=56320&&r<=57343&&(s+=e.src[n+1],n++)}const o="\\"+s;if(!t){const r=e.push("text_special","",0);u<256&&Ds[u]!==0?r.content=s:r.content=o,r.markup=o,r.info="escape"}return e.pos=n+1,!0}function Ef(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const u=n;n++;const s=e.posMax;for(;n<s&&e.src.charCodeAt(n)===96;)n++;const o=e.src.slice(u,n),r=o.length;if(e.backticksScanned&&(e.backticks[r]||0)<=u)return t||(e.pending+=o),e.pos+=r,!0;let l=n,a;for(;(a=e.src.indexOf("`",l))!==-1;){for(l=a+1;l<s&&e.src.charCodeAt(l)===96;)l++;const c=l-a;if(c===r){if(!t){const d=e.push("code_inline","code",0);d.markup=o,d.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[c]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=r,!0}function If(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==126)return!1;const u=e.scanDelims(e.pos,!0);let s=u.length;const o=String.fromCharCode(i);if(s<2)return!1;let r;s%2&&(r=e.push("text","",0),r.content=o,s--);for(let l=0;l<s;l+=2)r=e.push("text","",0),r.content=o+o,e.delimiters.push({marker:i,length:0,token:e.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return e.pos+=u.length,!0}function Ao(e,t){let n;const i=[],u=t.length;for(let s=0;s<u;s++){const o=t[s];if(o.marker!==126||o.end===-1)continue;const r=t[o.end];n=e.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[r.token-1].type==="text"&&e.tokens[r.token-1].content==="~"&&i.push(r.token-1)}for(;i.length;){const s=i.pop();let o=s+1;for(;o<e.tokens.length&&e.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=e.tokens[o],e.tokens[o]=e.tokens[s],e.tokens[s]=n)}}function Sf(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ao(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Ao(e,t[i].delimiters)}const ll={tokenize:If,postProcess:Sf};function kf(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==95&&i!==42)return!1;const u=e.scanDelims(e.pos,i===42);for(let s=0;s<u.length;s++){const o=e.push("text","",0);o.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:u.length,token:e.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return e.pos+=u.length,!0}function To(e,t){const n=t.length;for(let i=n-1;i>=0;i--){const u=t[i];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const s=t[u.end],o=i>0&&t[i-1].end===u.end+1&&t[i-1].marker===u.marker&&t[i-1].token===u.token-1&&t[u.end+1].token===s.token+1,r=String.fromCharCode(u.marker),l=e.tokens[u.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?r+r:r,l.content="";const a=e.tokens[s.token];a.type=o?"strong_close":"em_close",a.tag=o?"strong":"em",a.nesting=-1,a.markup=o?r+r:r,a.content="",o&&(e.tokens[t[i-1].token].content="",e.tokens[t[u.end+1].token].content="",i--)}}function Df(e){const t=e.tokens_meta,n=e.tokens_meta.length;To(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&To(e,t[i].delimiters)}const al={tokenize:kf,postProcess:Df};function Af(e,t){let n,i,u,s,o="",r="",l=e.pos,a=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const c=e.pos,d=e.posMax,h=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let m=f+1;if(m<d&&e.src.charCodeAt(m)===40){for(a=!1,m++;m<d&&(n=e.src.charCodeAt(m),!(!le(n)&&n!==10));m++);if(m>=d)return!1;if(l=m,u=e.md.helpers.parseLinkDestination(e.src,m,e.posMax),u.ok){for(o=e.md.normalizeLink(u.str),e.md.validateLink(o)?m=u.pos:o="",l=m;m<d&&(n=e.src.charCodeAt(m),!(!le(n)&&n!==10));m++);if(u=e.md.helpers.parseLinkTitle(e.src,m,e.posMax),m<d&&l!==m&&u.ok)for(r=u.str,m=u.pos;m<d&&(n=e.src.charCodeAt(m),!(!le(n)&&n!==10));m++);}(m>=d||e.src.charCodeAt(m)!==41)&&(a=!0),m++}if(a){if(typeof e.env.references>"u")return!1;if(m<d&&e.src.charCodeAt(m)===91?(l=m+1,m=e.md.helpers.parseLinkLabel(e,m),m>=0?i=e.src.slice(l,m++):m=f+1):m=f+1,i||(i=e.src.slice(h,f)),s=e.env.references[du(i)],!s)return e.pos=c,!1;o=s.href,r=s.title}if(!t){e.pos=h,e.posMax=f;const g=e.push("link_open","a",1),_=[["href",o]];g.attrs=_,r&&_.push(["title",r]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=m,e.posMax=d,!0}function Tf(e,t){let n,i,u,s,o,r,l,a,c="";const d=e.pos,h=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const f=e.pos+2,m=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(m<0)return!1;if(s=m+1,s<h&&e.src.charCodeAt(s)===40){for(s++;s<h&&(n=e.src.charCodeAt(s),!(!le(n)&&n!==10));s++);if(s>=h)return!1;for(a=s,r=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),r.ok&&(c=e.md.normalizeLink(r.str),e.md.validateLink(c)?s=r.pos:c=""),a=s;s<h&&(n=e.src.charCodeAt(s),!(!le(n)&&n!==10));s++);if(r=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<h&&a!==s&&r.ok)for(l=r.str,s=r.pos;s<h&&(n=e.src.charCodeAt(s),!(!le(n)&&n!==10));s++);else l="";if(s>=h||e.src.charCodeAt(s)!==41)return e.pos=d,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<h&&e.src.charCodeAt(s)===91?(a=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?u=e.src.slice(a,s++):s=m+1):s=m+1,u||(u=e.src.slice(f,m)),o=e.env.references[du(u)],!o)return e.pos=d,!1;c=o.href,l=o.title}if(!t){i=e.src.slice(f,m);const g=[];e.md.inline.parse(i,e.md,e.env,g);const _=e.push("image","img",0),x=[["src",c],["alt",""]];_.attrs=x,_.children=g,_.content=i,l&&x.push(["title",l])}return e.pos=s,e.posMax=h,!0}const Ff=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Mf=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function zf(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const i=e.pos,u=e.posMax;for(;;){if(++n>=u)return!1;const o=e.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=e.src.slice(i+1,n);if(Mf.test(s)){const o=e.md.normalizeLink(s);if(!e.md.validateLink(o))return!1;if(!t){const r=e.push("link_open","a",1);r.attrs=[["href",o]],r.markup="autolink",r.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(s);const a=e.push("link_close","a",-1);a.markup="autolink",a.info="auto"}return e.pos+=s.length+2,!0}if(Ff.test(s)){const o=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(o))return!1;if(!t){const r=e.push("link_open","a",1);r.attrs=[["href",o]],r.markup="autolink",r.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(s);const a=e.push("link_close","a",-1);a.markup="autolink",a.info="auto"}return e.pos+=s.length+2,!0}return!1}function Pf(e){return/^<a[>\s]/i.test(e)}function Lf(e){return/^<\/a\s*>/i.test(e)}function Rf(e){const t=e|32;return t>=97&&t<=122}function Of(e,t){if(!e.md.options.html)return!1;const n=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==60||i+2>=n)return!1;const u=e.src.charCodeAt(i+1);if(u!==33&&u!==63&&u!==47&&!Rf(u))return!1;const s=e.src.slice(i).match(ff);if(!s)return!1;if(!t){const o=e.push("html_inline","",0);o.content=s[0],Pf(o.content)&&e.linkLevel++,Lf(o.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}const Bf=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,qf=/^&([a-z][a-z0-9]{1,31});/i;function Hf(e,t){const n=e.pos,i=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=i)return!1;if(e.src.charCodeAt(n+1)===35){const s=e.src.slice(n).match(Bf);if(s){if(!t){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),r=e.push("text_special","",0);r.content=Ss(o)?Gi(o):Gi(65533),r.markup=s[0],r.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(n).match(qf);if(s){const o=tl(s[0]);if(o!==s[0]){if(!t){const r=e.push("text_special","",0);r.content=o,r.markup=s[0],r.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function Fo(e){const t={},n=e.length;if(!n)return;let i=0,u=-2;const s=[];for(let o=0;o<n;o++){const r=e[o];if(s.push(0),(e[i].marker!==r.marker||u!==r.token-1)&&(i=o),u=r.token,r.length=r.length||0,!r.close)continue;t.hasOwnProperty(r.marker)||(t[r.marker]=[-1,-1,-1,-1,-1,-1]);const l=t[r.marker][(r.open?3:0)+r.length%3];let a=i-s[i]-1,c=a;for(;a>l;a-=s[a]+1){const d=e[a];if(d.marker===r.marker&&d.open&&d.end<0){let h=!1;if((d.close||r.open)&&(d.length+r.length)%3===0&&(d.length%3!==0||r.length%3!==0)&&(h=!0),!h){const f=a>0&&!e[a-1].open?s[a-1]+1:0;s[o]=o-a+f,s[a]=f,r.open=!1,d.end=o,d.close=!1,c=-1,u=-2;break}}}c!==-1&&(t[r.marker][(r.open?3:0)+(r.length||0)%3]=c)}}function Uf(e){const t=e.tokens_meta,n=e.tokens_meta.length;Fo(e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&Fo(t[i].delimiters)}function Nf(e){let t,n,i=0;const u=e.tokens,s=e.tokens.length;for(t=n=0;t<s;t++)u[t].nesting<0&&i--,u[t].level=i,u[t].nesting>0&&i++,u[t].type==="text"&&t+1<s&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==n&&(u[n]=u[t]),n++);t!==n&&(u.length=n)}const Mu=[["text",xf],["linkify",yf],["newline",vf],["escape",wf],["backticks",Ef],["strikethrough",ll.tokenize],["emphasis",al.tokenize],["link",Af],["image",Tf],["autolink",zf],["html_inline",Of],["entity",Hf]],zu=[["balance_pairs",Uf],["strikethrough",ll.postProcess],["emphasis",al.postProcess],["fragments_join",Nf]];function Ci(){this.ruler=new Oe;for(let e=0;e<Mu.length;e++)this.ruler.push(Mu[e][0],Mu[e][1]);this.ruler2=new Oe;for(let e=0;e<zu.length;e++)this.ruler2.push(zu[e][0],zu[e][1])}Ci.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),i=n.length,u=e.md.options.maxNesting,s=e.cache;if(typeof s[t]<"u"){e.pos=s[t];return}let o=!1;if(e.level<u){for(let r=0;r<i;r++)if(e.level++,o=n[r](e,!0),e.level--,o){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;o||e.pos++,s[t]=e.pos};Ci.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,i=e.posMax,u=e.md.options.maxNesting;for(;e.pos<i;){const s=e.pos;let o=!1;if(e.level<u){for(let r=0;r<n;r++)if(o=t[r](e,!1),o){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Ci.prototype.parse=function(e,t,n,i){const u=new this.State(e,t,n,i);this.tokenize(u);const s=this.ruler2.getRules(""),o=s.length;for(let r=0;r<o;r++)s[r](u)};Ci.prototype.State=xi;function $f(e){const t={};e=e||{},t.src_Any=Xr.source,t.src_Cc=Qr.source,t.src_Z=Yr.source,t.src_P=Es.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Qu(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){e[i]=n[i]})}),e}function hu(e){return Object.prototype.toString.call(e)}function Wf(e){return hu(e)==="[object String]"}function Vf(e){return hu(e)==="[object Object]"}function jf(e){return hu(e)==="[object RegExp]"}function Mo(e){return hu(e)==="[object Function]"}function Zf(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const cl={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Gf(e){return Object.keys(e||{}).reduce(function(t,n){return t||cl.hasOwnProperty(n)},!1)}const Kf={"http:":{validate:function(e,t,n){const i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},Xf="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Qf="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Jf(e){e.__index__=-1,e.__text_cache__=""}function Yf(e){return function(t,n){const i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}function zo(){return function(e,t){t.normalize(e)}}function Ki(e){const t=e.re=$f(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Xf),n.push(t.src_xn),t.src_tlds=n.join("|");function i(r){return r.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");const u=[];e.__compiled__={};function s(r,l){throw new Error('(LinkifyIt) Invalid schema "'+r+'": '+l)}Object.keys(e.__schemas__).forEach(function(r){const l=e.__schemas__[r];if(l===null)return;const a={validate:null,link:null};if(e.__compiled__[r]=a,Vf(l)){jf(l.validate)?a.validate=Yf(l.validate):Mo(l.validate)?a.validate=l.validate:s(r,l),Mo(l.normalize)?a.normalize=l.normalize:l.normalize?s(r,l):a.normalize=zo();return}if(Wf(l)){u.push(r);return}s(r,l)}),u.forEach(function(r){e.__compiled__[e.__schemas__[r]]&&(e.__compiled__[r].validate=e.__compiled__[e.__schemas__[r]].validate,e.__compiled__[r].normalize=e.__compiled__[e.__schemas__[r]].normalize)}),e.__compiled__[""]={validate:null,normalize:zo()};const o=Object.keys(e.__compiled__).filter(function(r){return r.length>0&&e.__compiled__[r]}).map(Zf).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+o+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+o+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Jf(e)}function eh(e,t){const n=e.__index__,i=e.__last_index__,u=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=u,this.text=u,this.url=u}function Ju(e,t){const n=new eh(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Ze(e,t){if(!(this instanceof Ze))return new Ze(e,t);t||Gf(e)&&(t=e,e={}),this.__opts__=Qu({},cl,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Qu({},Kf,e),this.__compiled__={},this.__tlds__=Qf,this.__tlds_replaced__=!1,this.re={},Ki(this)}Ze.prototype.add=function(t,n){return this.__schemas__[t]=n,Ki(this),this};Ze.prototype.set=function(t){return this.__opts__=Qu(this.__opts__,t),this};Ze.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,i,u,s,o,r,l,a,c;if(this.re.schema_test.test(t)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(t))!==null;)if(s=this.testSchemaAt(t,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(a=t.search(this.re.host_fuzzy_test),a>=0&&(this.__index__<0||a<this.__index__)&&(i=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=i.index+i[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&(u=t.match(this.re.email_fuzzy))!==null&&(o=u.index+u[1].length,r=u.index+u[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0};Ze.prototype.pretest=function(t){return this.re.pretest.test(t)};Ze.prototype.testSchemaAt=function(t,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,i,this):0};Ze.prototype.match=function(t){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(Ju(this,i)),i=this.__last_index__);let u=i?t.slice(i):t;for(;this.test(u);)n.push(Ju(this,i)),u=u.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};Ze.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const i=this.testSchemaAt(t,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,Ju(this,0)):null};Ze.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(i,u,s){return i!==s[u-1]}).reverse(),Ki(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Ki(this),this)};Ze.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Ze.prototype.onCompile=function(){};const vn=2147483647,ft=36,As=1,fi=26,th=38,nh=700,dl=72,fl=128,hl="-",ih=/^xn--/,uh=/[^\0-\x7F]/,sh=/[\x2E\u3002\uFF0E\uFF61]/g,oh={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pu=ft-As,ht=Math.floor,Lu=String.fromCharCode;function Dt(e){throw new RangeError(oh[e])}function rh(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}function ml(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(sh,".");const u=e.split("."),s=rh(u,t).join(".");return i+s}function pl(e){const t=[];let n=0;const i=e.length;for(;n<i;){const u=e.charCodeAt(n++);if(u>=55296&&u<=56319&&n<i){const s=e.charCodeAt(n++);(s&64512)==56320?t.push(((u&1023)<<10)+(s&1023)+65536):(t.push(u),n--)}else t.push(u)}return t}const lh=e=>String.fromCodePoint(...e),ah=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:ft},Po=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},bl=function(e,t,n){let i=0;for(e=n?ht(e/nh):e>>1,e+=ht(e/t);e>Pu*fi>>1;i+=ft)e=ht(e/Pu);return ht(i+(Pu+1)*e/(e+th))},gl=function(e){const t=[],n=e.length;let i=0,u=fl,s=dl,o=e.lastIndexOf(hl);o<0&&(o=0);for(let r=0;r<o;++r)e.charCodeAt(r)>=128&&Dt("not-basic"),t.push(e.charCodeAt(r));for(let r=o>0?o+1:0;r<n;){const l=i;for(let c=1,d=ft;;d+=ft){r>=n&&Dt("invalid-input");const h=ah(e.charCodeAt(r++));h>=ft&&Dt("invalid-input"),h>ht((vn-i)/c)&&Dt("overflow"),i+=h*c;const f=d<=s?As:d>=s+fi?fi:d-s;if(h<f)break;const m=ft-f;c>ht(vn/m)&&Dt("overflow"),c*=m}const a=t.length+1;s=bl(i-l,a,l==0),ht(i/a)>vn-u&&Dt("overflow"),u+=ht(i/a),i%=a,t.splice(i++,0,u)}return String.fromCodePoint(...t)},_l=function(e){const t=[];e=pl(e);const n=e.length;let i=fl,u=0,s=dl;for(const l of e)l<128&&t.push(Lu(l));const o=t.length;let r=o;for(o&&t.push(hl);r<n;){let l=vn;for(const c of e)c>=i&&c<l&&(l=c);const a=r+1;l-i>ht((vn-u)/a)&&Dt("overflow"),u+=(l-i)*a,i=l;for(const c of e)if(c<i&&++u>vn&&Dt("overflow"),c===i){let d=u;for(let h=ft;;h+=ft){const f=h<=s?As:h>=s+fi?fi:h-s;if(d<f)break;const m=d-f,g=ft-f;t.push(Lu(Po(f+m%g,0))),d=ht(m/g)}t.push(Lu(Po(d,0))),s=bl(u,a,r===o),u=0,++r}++u,++i}return t.join("")},ch=function(e){return ml(e,function(t){return ih.test(t)?gl(t.slice(4).toLowerCase()):t})},dh=function(e){return ml(e,function(t){return uh.test(t)?"xn--"+_l(t):t})},xl={version:"2.3.1",ucs2:{decode:pl,encode:lh},decode:gl,encode:_l,toASCII:dh,toUnicode:ch},fh={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},hh={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},mh={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},ph={default:fh,zero:hh,commonmark:mh},bh=/^(vbscript|javascript|file|data):/,gh=/^data:image\/(gif|png|jpeg|webp);/;function _h(e){const t=e.trim().toLowerCase();return bh.test(t)?gh.test(t):!0}const Cl=["http:","https:","mailto:"];function xh(e){const t=ws(e,!0);if(t.hostname&&(!t.protocol||Cl.indexOf(t.protocol)>=0))try{t.hostname=xl.toASCII(t.hostname)}catch{}return _i(vs(t))}function Ch(e){const t=ws(e,!0);if(t.hostname&&(!t.protocol||Cl.indexOf(t.protocol)>=0))try{t.hostname=xl.toUnicode(t.hostname)}catch{}return An(vs(t),An.defaultChars+"%")}function Ge(e,t){if(!(this instanceof Ge))return new Ge(e,t);t||Is(e)||(t=e||{},e="default"),this.inline=new Ci,this.block=new fu,this.core=new ks,this.renderer=new Fn,this.linkify=new Ze,this.validateLink=_h,this.normalizeLink=xh,this.normalizeLinkText=Ch,this.utils=y0,this.helpers=cu({},I0),this.options={},this.configure(e),t&&this.set(t)}Ge.prototype.set=function(e){return cu(this.options,e),this};Ge.prototype.configure=function(e){const t=this;if(Is(e)){const n=e;if(e=ph[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ge.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const i=e.filter(function(u){return n.indexOf(u)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Ge.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const i=e.filter(function(u){return n.indexOf(u)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Ge.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ge.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Ge.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ge.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Ge.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const yh=sn({__name:"MarkdownViewer",props:{mdData:{}},setup(e){const t=e,n=new Ge({html:!0,breaks:!0});n.use(Pd);function i(s,o,r){if(!o)return;o.classList.add("markdown-rendered"),o.innerHTML="";const l=n.render(s),a=document.createElement("div");o.appendChild(a),a.innerHTML=l}const u=Ve(null);return Ti(()=>t.mdData.string,s=>{u.value&&i(s,u.value)}),su(()=>{Xn().then(()=>{u.value&&i(t.mdData.string,u.value)})}),(s,o)=>(Le(),nt("div",{class:"ab-app-render",ref_key:"ref_markdownViewer",ref:u},null,512))}}),vh=bi(yh,[["__scopeId","data-v-4906f935"]]),wh={class:"ab-app-setting"},Eh=sn({__name:"SettingPanel",props:{mdData:{}},setup(e){const t=e;async function n(){await Xn(),W.main_setting.width&&document.documentElement.style.setProperty("--qq-width",Number.isFinite(Number(W.main_setting.width))?W.main_setting.width+"px":W.main_setting.width),W.main_setting.maxHeight&&document.documentElement.style.setProperty("--qq-max-height",Number.isFinite(Number(W.main_setting.maxHeight))?W.main_setting.maxHeight+"px":W.main_setting.maxHeight),W.main_setting.isPcStyle?document.body.classList.add("pc-chat"):document.body.classList.remove("pc-chat"),i.value&&(/^\d+$/.test(i.value)?document.documentElement.style.setProperty("--qq-font-size",i.value+"px"):document.documentElement.style.setProperty("--qq-font-size",i.value)),u.value&&(/^\d+$/.test(u.value)?document.documentElement.style.setProperty("--qq-width-icon","calc("+u.value+"px + 25px)"):document.documentElement.style.setProperty("--qq-width-icon","calc("+u.value+" + 25px)")),s.value?(document.documentElement.classList.remove("theme-light"),document.documentElement.classList.add("theme-dark"),document.documentElement.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("theme-dark"),document.documentElement.classList.add("theme-light"),document.documentElement.setAttribute("data-theme","light")),t.mdData.string=t.mdData.string+" "}const i=Ve(""),u=Ve(""),s=Ve(!1);return(o,r)=>(Le(),nt("div",wh,[B("div",null,[r[20]||(r[20]=B("label",{for:"width"},"",-1)),Ke(B("input",{id:"width","onUpdate:modelValue":r[0]||(r[0]=l=>de(W).main_setting.width=l),onChange:r[1]||(r[1]=l=>n())},null,544),[[Wt,de(W).main_setting.width]])]),B("div",null,[r[21]||(r[21]=B("label",{for:"maxHeight"},"",-1)),Ke(B("input",{id:"maxHeight","onUpdate:modelValue":r[2]||(r[2]=l=>de(W).main_setting.maxHeight=l),onChange:r[3]||(r[3]=l=>n())},null,544),[[Wt,de(W).main_setting.maxHeight]])]),B("div",null,[r[22]||(r[22]=B("label",{for:"self-name"},"",-1)),Ke(B("input",{id:"self-name","onUpdate:modelValue":r[4]||(r[4]=l=>de(W).main_setting.chatSelfName=l),onChange:r[5]||(r[5]=l=>n())},null,544),[[Wt,de(W).main_setting.chatSelfName]])]),B("div",null,[r[23]||(r[23]=B("label",{for:"name-qq"},"QQ",-1)),Ke(B("input",{id:"name-qq","onUpdate:modelValue":r[6]||(r[6]=l=>de(W).main_setting.chatQQandName=l),onChange:r[7]||(r[7]=l=>n())},null,544),[[Wt,de(W).main_setting.chatQQandName]])]),B("div",null,[r[24]||(r[24]=B("label",{for:"is-show-time"},"",-1)),Ke(B("input",{id:"is-show-time",type:"checkbox","onUpdate:modelValue":r[8]||(r[8]=l=>de(W).main_setting.isShowTime=l),onChange:r[9]||(r[9]=l=>n())},null,544),[[Ii,de(W).main_setting.isShowTime]])]),B("div",null,[r[25]||(r[25]=B("label",{for:"is-render-md"},"md",-1)),Ke(B("input",{id:"is-render-md",type:"checkbox","onUpdate:modelValue":r[10]||(r[10]=l=>de(W).main_setting.isRenderMd=l),onChange:r[11]||(r[11]=l=>n())},null,544),[[Ii,de(W).main_setting.isRenderMd]])]),B("div",null,[r[26]||(r[26]=B("label",{for:"is-pc-style"},"",-1)),Ke(B("input",{id:"is-pc-style",type:"checkbox","onUpdate:modelValue":r[12]||(r[12]=l=>de(W).main_setting.isPcStyle=l),onChange:r[13]||(r[13]=l=>n())},null,544),[[Ii,de(W).main_setting.isPcStyle]])]),B("div",null,[r[27]||(r[27]=B("label",{for:"is-dark"},"",-1)),Ke(B("input",{id:"is-dark",type:"checkbox","onUpdate:modelValue":r[14]||(r[14]=l=>s.value=l),onChange:r[15]||(r[15]=l=>n())},null,544),[[Ii,s.value]])]),B("div",null,[r[28]||(r[28]=B("label",{for:"lightdark"},"",-1)),Ke(B("input",{id:"lightdark","onUpdate:modelValue":r[16]||(r[16]=l=>i.value=l),onChange:r[17]||(r[17]=l=>n()),placeholder:"16px"},null,544),[[Wt,i.value]])]),B("div",null,[r[29]||(r[29]=B("label",{for:"icon-size"},"",-1)),Ke(B("input",{id:"icon-size","onUpdate:modelValue":r[18]||(r[18]=l=>u.value=l),onChange:r[19]||(r[19]=l=>n()),placeholder:"55px, 0"},null,544),[[Wt,u.value]])]),r[30]||(r[30]=B("div",null,[B("label",null,"/ ()")],-1)),r[31]||(r[31]=B("div",null,[B("label",null," ()")],-1))]))}}),Ih=bi(Eh,[["__scopeId","data-v-f1aa790f"]]),Sh=sn({__name:"GlComponent",setup(e,{expose:t}){const n=Ve(null),i=r=>r.toString(10)+"px";return t({setPosAndSize:(r,l,a,c)=>{if(n.value){const d=n.value;d.style.left=i(r),d.style.top=i(l),d.style.width=i(a),d.style.height=i(c)}},setVisibility:r=>{if(n.value){const l=n.value;r?l.style.display="":l.style.display="none"}},setZIndex:r=>{if(n.value){const l=n.value;l.style.zIndex=r}}}),(r,l)=>(Le(),nt("div",{ref_key:"GlComponent",ref:n,style:{position:"absolute",overflow:"hidden"}},[Da(r.$slots,"default")],512))}}),kh={style:{position:"relative"}},Dh={style:{position:"absolute",width:"100%",height:"100%"}},Ah=sn({__name:"GoldenLayout",props:{config:{type:Object,default:()=>({})}},setup(e,{expose:t}){const n=e,i=Ve(null);let u;const s=ds(Ve("glc_")),o=new Map,r=Ve(new Map),l=[];let a=0,c;const d=dc(),h=d.slots,f=async(x,v)=>{const w=h[x];if(!w)throw new Error(`addComponent: Component '${x}' not found in slots`);let C=a;return l.length>0?C=l.pop():a++,r.value.set(C,()=>w(v)),C},m=async(x,v,w=void 0)=>{if(x.length==0)throw new Error("addGlComponent: Component's type is empty");const C=await f(x,w);await Xn(),u.addComponent(x,{refId:C,...w||{}},v)},g=async x=>{u.clear(),r.value.clear();const v=x.resolved?$e.fromResolved(x):x;let w=[v.root.content],C=0;for(;w.length>0;){const I=w.shift();for(let T of I)T.type=="component"?(C=await f(T.componentType,T.componentState),typeof T.componentState=="object"?T.componentState.refId=C:T.componentState={refId:C}):T.content.length>0&&w.push(T.content)}await Xn(),u.loadLayout(v)},_=()=>u.saveLayout();return su(()=>{if(i.value==null)throw new Error("Golden Layout can't find the root DOM!");const x=()=>{const H=i.value;let R=H?H.offsetWidth:0,X=H?H.offsetHeight:0;u.setSize(R,X)};window.addEventListener("resize",x,{passive:!0});const v=H=>{c=i.value.getBoundingClientRect()},w=(H,R,X)=>{const ue=o.get(H);if(!ue||!(ue!=null&&ue.glc))throw new Error("handleContainerVirtualRectingRequiredEvent: Component not found");const Ee=H.element.getBoundingClientRect(),be=Ee.left-c.left,Ie=Ee.top-c.top;ue.glc.setPosAndSize(be,Ie,R,X)},C=(H,R)=>{const X=o.get(H);if(!X||!(X!=null&&X.glc))throw new Error("handleContainerVirtualVisibilityChangeRequiredEvent: Component not found");X.glc.setVisibility(R)},I=(H,R,X)=>{const ue=o.get(H);if(!ue||!(ue!=null&&ue.glc))throw new Error("handleContainerVirtualZIndexChangeRequiredEvent: Component not found");ue.glc.setZIndex(X)},T=(H,R)=>{let X=-1;if(R&&R.componentState)X=R.componentState.refId;else throw new Error("bindComponentEventListener: component's ref id is required");const ue=s.value+X,Ee=d==null?void 0:d.refs[ue];return o.set(H,{refId:X,glc:Ee[0]}),H.virtualRectingRequiredEvent=(be,Ie,ve)=>w(be,Ie,ve),H.virtualVisibilityChangeRequiredEvent=(be,Ie)=>C(be,Ie),H.virtualZIndexChangeRequiredEvent=(be,Ie,ve)=>I(be,Ie,ve),{component:Ee,virtual:!0}},L=H=>{const R=o.get(H);if(!R||!(R!=null&&R.glc))throw new Error("handleUnbindComponentEvent: Component not found");o.delete(H),r.value.delete(R.refId),l.push(R.refId)};u=new ri(i.value,T,L),u.beforeVirtualRectingEvent=v,n.config&&g(n.config)}),t({addGlComponent:m,loadGLLayout:g,getLayoutConfig:_}),(x,v)=>(Le(),nt("div",kh,[B("div",{ref_key:"GLRoot",ref:i,style:{position:"absolute",width:"100%",height:"100%"}},null,512),B("div",Dh,[(Le(!0),nt(ze,null,br(r.value,w=>(Le(),qi(Sh,{key:w[0],ref_for:!0,ref:de(s)+w[0]},{default:cn(()=>[(Le(),qi(Sa(w[1])))]),_:2},1024))),128))])]))}}),Th=sn({__name:"App",setup(e){const t=Ve(null);yr("LAYOUT",t);const n=Ve({mdPreset:"Normal markdown",string:`# Normal markdown

`+Ku["Normal markdown"]});return(i,u)=>(Le(),nt(ze,null,[Pe(Cd,{class:"main-nav"}),Pe(Ah,{class:"golden-layout main-golden",ref_key:"GLayoutRootRef",ref:t,config:de(hd).miniRow},{MdEditor:cn(()=>[Pe(Id,{mdData:n.value},null,8,["mdData"])]),MdViewer:cn(()=>[Pe(vh,{mdData:n.value},null,8,["mdData"])]),SettingPanel:cn(()=>[Pe(Ih,{mdData:n.value},null,8,["mdData"])]),White:cn(()=>u[0]||(u[0]=[B("div",{style:{width:"100%",height:"100%"}},null,-1)])),_:1},8,["config"])],64))}}),Fh=bi(Th,[["__scopeId","data-v-b9501c32"]]),Mh=new Ge({html:!0,breaks:!0});W.fn_renderMarkdown=(e,t)=>{t.classList.add("markdown-rendered");const n=Mh.render(e),i=document.createElement("div");t.appendChild(i),i.innerHTML=n};W.registerContextMenu=()=>{};W.main_setting={chatSelfName:", me, user",chatQQandName:"=10001, =10101",width:"100%",maxHeight:"1100",isSHowTime:!1,isRenderMd:!0,isPcStyle:!0};W.main_setting.width&&document.documentElement.style.setProperty("--qq-width",Number.isFinite(Number(W.main_setting.width))?W.main_setting.width+"px":W.main_setting.width);W.main_setting.maxHeight&&document.documentElement.style.setProperty("--qq-max-height",Number.isFinite(Number(W.main_setting.maxHeight))?W.main_setting.maxHeight+"px":W.main_setting.maxHeight);W.main_setting.isPcStyle?document.body.classList.add("pc-chat"):document.body.classList.remove("pc-chat");jc(Fh).mount("#app");
